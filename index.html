<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ÊπæÊπæÁöÑÊµ∑Ê¥ã‰∏ñÁïå - ‰∏≠ÂçéÁôΩÊµ∑Ë±ö‰∫íÂä®‰ΩìÈ™åÂπ≥Âè∞ÔºåÂåÖÂê´ÊÉÖÁª™Ëâ≤ÂΩ©Âç°„ÄÅÁéØ‰øùÂàÜÁ±ªÂç°„ÄÅÊπæÂå∫ÁæéÈ£üÂç°„ÄÅÊµ∑Â∫ïÊúãÂèãÂç°„ÄÅÂÖ±Áîü‰∫íÂä®Âç°Á≠âÂ§öÁßçARÂç°Áâá‰ΩìÈ™å">
    <meta name="keywords" content="‰∏≠ÂçéÁôΩÊµ∑Ë±ö,ÊπæÊπæ,ARÂç°Áâá,Êµ∑Ê¥ã‰øùÊä§,ÊÉÖÁª™ËØÜÂà´,ÁéØ‰øùÊïôËÇ≤,Êµ∑Ê¥ãÁîüÁâ©">
    <title>ÊπæÊπæÁöÑÊµ∑Ê¥ã‰∏ñÁïå üê¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 30%, #00b894 70%, #00cec9 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Êµ∑Ê¥ãËÉåÊôØÂä®Áîª */
        .ocean-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .wave {
            position: absolute;
            width: 200%;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: wave-flow 8s ease-in-out infinite;
        }

        .wave:nth-child(1) { top: 10%; animation-delay: 0s; }
        .wave:nth-child(2) { top: 30%; animation-delay: 2s; }
        .wave:nth-child(3) { top: 50%; animation-delay: 4s; }
        .wave:nth-child(4) { top: 70%; animation-delay: 6s; }

        @keyframes wave-flow {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-20px); }
        }

        /* Ê∞îÊ≥°ÊïàÊûú */
        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: bubble-rise 6s infinite linear;
        }

        @keyframes bubble-rise {
            0% { bottom: -10px; opacity: 0.7; transform: translateX(0); }
            50% { opacity: 1; transform: translateX(20px); }
            100% { bottom: 100vh; opacity: 0; transform: translateX(-20px); }
        }

        /* È°µÈù¢ÂÆπÂô® */
        .page {
            display: none;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        .page.active {
            display: block;
        }

        /* ======= ‰∏ªÈ°µÊ†∑Âºè ======= */
        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Â§¥ÈÉ®Ê†áÈ¢ò */
        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: float-down 1s ease-out;
        }

        .main-title {
            font-size: 2.5em;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: title-glow 3s ease-in-out infinite;
        }

        .subtitle {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        @keyframes title-glow {
            0%, 100% { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); }
            50% { text-shadow: 2px 2px 20px rgba(255, 255, 255, 0.8); }
        }

        @keyframes float-down {
            0% { opacity: 0; transform: translateY(-50px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* ‰∏≠Â§ÆÊµ∑Ë±öÂ±ïÁ§∫Âå∫ */
        .dolphin-showcase {
            width: 300px;
            height: 200px;
            margin: 20px 0 40px 0;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: showcase-float 4s ease-in-out infinite;
        }

        @keyframes showcase-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }

        .main-dolphin {
            width: 150px;
            height: 100px;
            position: relative;
            animation: dolphin-swim 6s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .main-dolphin:hover {
            transform: scale(1.1) rotateY(10deg);
        }

        @keyframes dolphin-swim {
            0%, 100% { transform: translateX(0px) translateY(0px) rotate(-2deg); }
            33% { transform: translateX(20px) translateY(-10px) rotate(2deg); }
            66% { transform: translateX(-10px) translateY(-5px) rotate(-1deg); }
        }

        .main-dolphin-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 75px 25px 75px 50px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .main-dolphin-belly {
            position: absolute;
            bottom: 10px;
            left: 25px;
            width: 75px;
            height: 30px;
            background: white;
            border-radius: 40px 20px 40px 45px;
        }

        .main-dolphin-fin {
            position: absolute;
            top: -20px;
            left: 40px;
            width: 30px;
            height: 45px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px 8px 20px 20px;
            transform: rotate(-20deg);
        }

        .main-dolphin-tail {
            position: absolute;
            right: -20px;
            top: 25px;
            width: 40px;
            height: 50px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px;
            transform: rotate(45deg);
            animation: tail-wave 3s ease-in-out infinite;
            transform-origin: left center;
        }

        @keyframes tail-wave {
            0%, 100% { transform: rotate(45deg); }
            50% { transform: rotate(25deg); }
        }

        .main-dolphin-eye {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 12px;
            height: 12px;
            background: #2d3436;
            border-radius: 50%;
            animation: blink 4s infinite;
        }

        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        .main-dolphin-smile {
            position: absolute;
            top: 45px;
            left: 20px;
            width: 25px;
            height: 15px;
            border: 3px solid #2d3436;
            border-top: none;
            border-radius: 0 0 25px 25px;
        }

        /* Âç°ÁâáÁΩëÊ†º */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1200px;
            width: 100%;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            animation: card-entrance 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }

        @keyframes card-entrance {
            to { opacity: 1; transform: translateY(0); }
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: rgba(116, 185, 255, 0.5);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s ease;
        }

        .card:hover::before {
            left: 100%;
        }

        .card-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
            animation: icon-bounce 2s ease-in-out infinite;
        }
        .card-icon img {
            width: clamp(40px, 5vw, 70px);
            height: auto;
            display: block;
            margin: 0 auto 15px;
            object-fit: contain;
        }
        @keyframes icon-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .card-title {
            font-size: 1.3em;
            color: #2d3436;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .card-description {
            color: #636e72;
            font-size: 0.9em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .card-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .status-available {
            background: #00b894;
            color: white;
        }

        .status-coming {
            background: #fdcb6e;
            color: #2d3436;
        }

        /* Â∫ïÈÉ®‰ø°ÊÅØ */
        .footer-info {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            max-width: 600px;
        }

        .footer-info h3 {
            margin-bottom: 10px;
            color: white;
        }

        /* Ëâ≤ÂΩ©‰∏ªÈ¢ò */
        .card.emotion { border-left: 5px solid #fd79a8; }
        .card.environment { border-left: 5px solid #00b894; }
        .card.food { border-left: 5px solid #fdcb6e; }
        .card.friends { border-left: 5px solid #74b9ff; }
        .card.harmony { border-left: 5px solid #e17055; }

        /* ======= ÈÄöÁî®Âç°ÁâáÈ°µÈù¢Ê†∑Âºè ======= */
        .card-page-container {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            z-index: 1;
            box-sizing: border-box;
        }

        .card-container {
            width: min(95vw, 500px);
            max-width: 500px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            animation: card-entrance 0.8s ease-out;
            margin: 20px auto;
        }

        /* Â§¥ÈÉ® */
        .card-header {
            color: white;
            padding: 20px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .emotion-header {
            background: linear-gradient(45deg, #ff7675, #fd79a8);
        }

        .environment-header {
            background: linear-gradient(135deg, #00b894, #00cec9);
        }

        .food-header {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }

        .friends-header {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }

        .harmony-header {
            background: linear-gradient(135deg, #e17055, #fd79a8);
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .header-title {
            flex: 1;
            text-align: center;
            margin: 0 15px;
            font-size: clamp(16px, 4vw, 20px);
            font-weight: bold;
        }

        .header-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            animation: icon-pulse 2s infinite;
            flex-shrink: 0;
        }

        @keyframes icon-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        /* ======= ÊÉÖÁª™Ëâ≤ÂΩ©Âç°Ê†∑Âºè ======= */
        .dolphin-container {
            height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to bottom, #74b9ff 0%, #0984e3 50%, #00b894 100%);
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        .water-bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: bubble-rise 3s infinite linear;
        }

        .bubble-1 { width: 8px; height: 8px; left: 20%; animation-delay: 0s; }
        .bubble-2 { width: 12px; height: 12px; left: 70%; animation-delay: 1s; }
        .bubble-3 { width: 6px; height: 6px; left: 85%; animation-delay: 2s; }
        .bubble-4 { width: 10px; height: 10px; left: 15%; animation-delay: 0.5s; }

        .dolphin {
            width: 120px;
            height: 80px;
            position: relative;
            transition: all 0.8s ease;
            cursor: pointer;
            z-index: 10;
            animation: swim 4s ease-in-out infinite;
            transform-origin: center;
        }

        .dolphin-body {
            width: 100%;
            height: 100%;
            background: #74b9ff;
            border-radius: 60px 20px 60px 40px;
            position: relative;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dolphin-belly {
            position: absolute;
            bottom: 8px;
            left: 20px;
            width: 60px;
            height: 25px;
            background: white;
            border-radius: 30px 15px 30px 35px;
        }

        @keyframes swim {
            0%, 100% { transform: translateY(0px) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        .dolphin-fin {
            position: absolute;
            top: -15px;
            left: 30px;
            width: 25px;
            height: 35px;
            background: inherit;
            border-radius: 15px 5px 15px 15px;
            transform: rotate(-20deg);
            transition: background 0.8s ease;
        }

        .dolphin-tail {
            position: absolute;
            right: -15px;
            top: 20px;
            width: 30px;
            height: 40px;
            background: inherit;
            border-radius: 15px;
            transform: rotate(45deg);
            animation: tail-wave 2s ease-in-out infinite;
            transition: background 0.8s ease;
            transform-origin: left center;
        }

        .dolphin-eye {
            position: absolute;
            top: 25px;
            left: 25px;
            width: 8px;
            height: 8px;
            background: #2d3436;
            border-radius: 50%;
            animation: blink 3s infinite;
        }

        .dolphin-smile {
            position: absolute;
            top: 35px;
            left: 15px;
            width: 20px;
            height: 10px;
            border: 2px solid #2d3436;
            border-top: none;
            border-radius: 0 0 20px 20px;
        }

        .dolphin.happy .dolphin-body { background: #f8f9fa !important; }
        .dolphin.happy .dolphin-fin { background: #f8f9fa !important; }
        .dolphin.happy .dolphin-tail { background: #f8f9fa !important; }

        .dolphin.excited .dolphin-body { background: #ffb3ba !important; }
        .dolphin.excited .dolphin-fin { background: #ffb3ba !important; }
        .dolphin.excited .dolphin-tail { background: #ffb3ba !important; }

        .dolphin.angry .dolphin-body { background: #ff7675 !important; }
        .dolphin.angry .dolphin-fin { background: #ff7675 !important; }
        .dolphin.angry .dolphin-tail { background: #ff7675 !important; }

        .dolphin.sad .dolphin-body { background: #74b9ff !important; }
        .dolphin.sad .dolphin-fin { background: #74b9ff !important; }
        .dolphin.sad .dolphin-tail { background: #74b9ff !important; }
        .dolphin.sad .dolphin-smile { 
            border-radius: 0;
            height: 2px;
            width: 20px;
            top: 40px;
            left: 15px;
        }

        .emotion-controls {
            padding: 20px;
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .emotion-title {
            font-size: 16px;
            color: #2d3436;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .emotion-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .emotion-btn {
            padding: 12px 8px;
            border: none;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .emotion-btn:hover {
            transform: scale(1.05);
        }

        .btn-happy { background: linear-gradient(45deg, #00b894, #00cec9); }
        .btn-excited { background: linear-gradient(45deg, #fd79a8, #fdcb6e); }
        .btn-angry { background: linear-gradient(45deg, #e17055, #d63031); }
        .btn-sad { background: linear-gradient(45deg, #74b9ff, #0984e3); }

        .emotion-description {
            background: rgba(116, 185, 255, 0.1);
            padding: 20px 15px;
            border-radius: 10px;
            font-size: 13px;
            color: #2d3436;
            line-height: 1.6;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            word-wrap: break-word;
            overflow-wrap: break-word;
            margin-bottom: 40px;
        }

        /* ======= ÁéØ‰øùÂàÜÁ±ªÂç°Ê†∑Âºè ======= */
        .dolphin-guide {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            padding: 30px 20px 20px 20px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .guide-dolphin {
            width: 80px;
            height: 50px;
            margin: 0 auto 15px auto;
            position: relative;
            animation: guide-swim 3s ease-in-out infinite;
        }

        @keyframes guide-swim {
            0%, 100% { transform: translateX(0px) translateY(0px) rotate(-2deg); }
            50% { transform: translateX(10px) translateY(-5px) rotate(2deg); }
        }

        .guide-dolphin-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 40px 15px 40px 25px;
            position: relative;
        }

        .guide-dolphin-fin {
            position: absolute;
            top: -10px;
            left: 20px;
            width: 15px;
            height: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px 4px 10px 10px;
            transform: rotate(-20deg);
        }

        .guide-dolphin-tail {
            position: absolute;
            right: -8px;
            top: 15px;
            width: 20px;
            height: 25px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px;
            transform: rotate(45deg);
            animation: guide-tail-wave 2s ease-in-out infinite;
            transform-origin: left center;
        }

        @keyframes guide-tail-wave {
            0%, 100% { transform: rotate(45deg); }
            50% { transform: rotate(25deg); }
        }

        .guide-dolphin-eye {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 6px;
            height: 6px;
            background: #2d3436;
            border-radius: 50%;
        }

        .guide-text {
            font-size: clamp(12px, 3vw, 16px);
            line-height: 1.5;
            opacity: 0.95;
        }

        /* Ê∏∏ÊàèÂÜÖÂÆπÂå∫ */
        .game-content {
            padding: 25px;
        }

        .game-title {
            text-align: center;
            color: #2d3436;
            margin-bottom: 20px;
            font-size: clamp(14px, 3.5vw, 18px);
            font-weight: bold;
        }

        /* ÂæóÂàÜÊòæÁ§∫ */
        .score-display {
            text-align: center;
            margin-bottom: 15px;
            font-size: clamp(14px, 3.5vw, 18px);
            font-weight: bold;
            color: #2d3436;
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ËøõÂ∫¶Êù° */
        .progress-container {
            background: #dfe6e9;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #fdcb6e, #e17055);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        /* ======= ÊπæÂå∫ÁæéÈ£üÂç°Ê†∑Âºè ======= */
        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .mode-btn {
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: clamp(11px, 2.5vw, 14px);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            transform: scale(1.1);
        }

        .mode-btn:not(.active) {
            background: #dfe6e9;
            color: #636e72;
        }

        /* ÁæéÈ£üÂ±ïÁ§∫Âå∫ */
        .food-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 25px;
            padding: 15px;
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            border-radius: 15px;
            border: 2px dashed #e17055;
        }

        .food-item {
            aspect-ratio: 1;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            padding: 8px;
            background: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .food-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .food-item:hover {
            transform: scale(1.1) rotate(3deg);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .food-item:hover::before {
            left: 100%;
        }

        .food-item.selected {
            border-color: #e17055;
            transform: scale(1.15) rotate(0deg);
            box-shadow: 0 10px 25px rgba(225, 112, 85, 0.4);
            z-index: 10;
        }

        .food-item.matched {
            opacity: 0.5;
            pointer-events: none;
            transform: scale(0.9);
        }

        .food-emoji {
            font-size: clamp(20px, 5vw, 26px);
            margin-bottom: 5px;
            animation: food-bounce 2s ease-in-out infinite;
        }

        @keyframes food-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .food-name {
            font-size: clamp(9px, 2.5vw, 12px);
            font-weight: bold;
            text-align: center;
            line-height: 1.2;
            color: #2d3436;
        }

        /* Âú∞Âå∫ÈÄâÊã©Âå∫ */
        .region-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .region-btn {
            padding: 15px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            font-weight: bold;
            color: white;
            min-height: 80px;
        }

        .region-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .region-btn.highlight {
            border-color: #00b894;
            animation: region-glow 1.5s ease-in-out infinite;
        }

        @keyframes region-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 184, 148, 0.3); }
            50% { box-shadow: 0 0 30px rgba(0, 184, 148, 0.6); }
        }

        .region-hongkong { background: linear-gradient(135deg, #e17055, #d63031); }
        .region-guangzhou { background: linear-gradient(135deg, #00b894, #00cec9); }
        .region-macau { background: linear-gradient(135deg, #fdcb6e, #f39c12); }
        .region-shenzhen { background: linear-gradient(135deg, #74b9ff, #0984e3); }

        .region-emoji {
            font-size: clamp(20px, 5vw, 26px);
            margin-bottom: 8px;
            animation: region-bounce 2s ease-in-out infinite;
        }

        @keyframes region-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .region-name {
            font-size: clamp(11px, 3vw, 14px);
            text-align: center;
            line-height: 1.2;
        }

        /* ======= Êµ∑Â∫ïÊúãÂèãÂç°Ê†∑Âºè ======= */
        .ocean-world {
            position: relative;
            min-height: calc(100vh - 80px);
            padding: 20px;
            display: flex;
            flex-direction: column;
            background: linear-gradient(to bottom, 
                #74b9ff 0%, 
                #0984e3 25%, 
                #006994 50%, 
                #0077be 75%, 
                #004c7a 100%);
            overflow: hidden;
        }

        /* Êµ∑Ê¥ãÊ≥¢Êµ™ÊïàÊûú */
        .ocean-world::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at top, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(ellipse at bottom, rgba(0,0,0,0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        /* ÊπæÊπæÊåáÂØºÂå∫ÔºàÊµÆÂä®Ôºâ */
        .guide-panel {
            position: fixed;
            top: 90px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(116, 185, 255, 0.3);
            max-width: 280px;
            z-index: 100;
            animation: guide-float 3s ease-in-out infinite;
        }

        @keyframes guide-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        /* Êµ∑Â∫ïÂú∫ÊôØ */
        .ocean-scene {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 500px;
            margin-top: 50px;
            z-index: 2;
        }

        /* Êµ∑Ê¥ãÂàÜÂ±Ç - ÁßªÈô§ËÉåÊôØËâ≤Ôºå‰øùÊåÅÈÄèÊòé */
        .ocean-layer {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 20px;
            flex-wrap: wrap;
            gap: 20px;
            margin: 10px 0;
        }

        .surface-layer {
            /* Êµ∑Èù¢Â±Ç - ÈÄèÊòéËÉåÊôØ */
            min-height: 120px;
        }

        .middle-layer {
            /* ‰∏≠Â±ÇÊµ∑Âüü - ÈÄèÊòéËÉåÊôØ */
            min-height: 140px;
        }

        .deep-layer {
            /* Ê∑±Êµ∑Â±Ç - ÈÄèÊòéËÉåÊôØ */
            min-height: 160px;
        }

        /* Êµ∑Ê¥ãÊúãÂèã */
        .ocean-friend {
            position: relative;
            cursor: pointer;
            transition: all 0.4s ease;
            animation: friend-idle 4s ease-in-out infinite;
            z-index: 10;
        }

        .ocean-friend:hover {
            transform: scale(1.2) translateY(-10px);
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }

        .ocean-friend.clicked {
            animation: friend-excited 0.8s ease-in-out;
        }

        @keyframes friend-idle {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }

        @keyframes friend-excited {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.3) rotate(10deg); }
            50% { transform: scale(1.2) rotate(-5deg); }
            75% { transform: scale(1.3) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        /* ======= ÂÖ±Áîü‰∫íÂä®Âç°Ê†∑Âºè ======= */
        .harmony-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .harmony-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 400px;
        }

        .harmony-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .harmony-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
        }

        .harmony-card-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 15px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .harmony-card-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
        }

        .harmony-card-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: center;
        }

        .game-area {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .game-instruction {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
            text-align: center;
        }

        .harmony-progress-bar {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .harmony-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .harmony-card-action {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            width: 100%;
            font-size: 1em;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .harmony-card-action:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .harmony-card-action:disabled {
            background: #4caf50;
            transform: none;
            cursor: not-allowed;
        }

        /* ÂèçÈ¶àÊ∂àÊÅØ */
        .feedback {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 25px;
            font-weight: bold;
            font-size: clamp(12px, 3vw, 16px);
            opacity: 0;
            transition: all 0.4s ease;
            z-index: 1000;
            text-align: center;
            min-width: 200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .feedback.show {
            opacity: 1;
            transform: translateX(-50%) translateY(10px);
        }

        .feedback.correct {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
        }

        /* AR ÊèêÁ§∫ */
        .ar-hint {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: clamp(10px, 2.5vw, 13px);
            opacity: 0.8;
            z-index: 10;
        }

        /* Áü•ËØÜÂ±ïÁ§∫Èù¢Êùø */
        .knowledge-panel {
            position: fixed;
            bottom: -100%;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px 25px 0 0;
            padding: 25px;
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border-top: 3px solid #74b9ff;
            transition: bottom 0.5s ease;
            z-index: 200;
            max-height: 60vh;
            overflow-y: auto;
        }

        .knowledge-panel.show {
            bottom: 0;
        }

        .knowledge-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 2px solid #dfe6e9;
            padding-bottom: 15px;
        }

        .knowledge-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: clamp(18px, 4.5vw, 24px);
            font-weight: bold;
            color: #2d3436;
        }

        .close-btn {
            background: #e17055;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: #d63031;
            transform: scale(1.1);
        }

        .knowledge-content {
            display: grid;
            gap: 15px;
        }

        .knowledge-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 15px;
            border-left: 4px solid #74b9ff;
            transition: all 0.3s ease;
        }

        .knowledge-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .knowledge-label {
            font-size: clamp(14px, 3.5vw, 16px);
            font-weight: bold;
            color: #74b9ff;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .knowledge-text {
            font-size: clamp(12px, 3vw, 14px);
            color: #2d3436;
            line-height: 1.5;
        }

        /* Âä®ÁîªÊïàÊûú */
        @keyframes disappear {
            0% { transform: scale(1.15) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.3) rotate(180deg); opacity: 0.7; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            10% { transform: translateX(-5px) rotate(-2deg); }
            20% { transform: translateX(5px) rotate(2deg); }
            30% { transform: translateX(-5px) rotate(-1deg); }
            40% { transform: translateX(5px) rotate(1deg); }
            50% { transform: translateX(-3px) rotate(-1deg); }
            60% { transform: translateX(3px) rotate(1deg); }
            70% { transform: translateX(-2px); }
            80% { transform: translateX(2px); }
            90% { transform: translateX(-1px); }
            100% { transform: translateX(0); }
        }

        @keyframes bounce {
            0% { transform: translateY(0px) rotate(-2deg); }
            25% { transform: translateY(-15px) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(2deg); }
            75% { transform: translateY(-10px) rotate(-1deg); }
            100% { transform: translateY(0px) rotate(-2deg); }
        }
        
        @keyframes spin {
            0% { transform: rotateY(0deg) translateY(0px) scale(1); }
            25% { transform: rotateY(90deg) translateY(-8px) scale(1.05); }
            50% { transform: rotateY(180deg) translateY(-15px) scale(1.1); }
            75% { transform: rotateY(270deg) translateY(-8px) scale(1.05); }
            100% { transform: rotateY(360deg) translateY(0px) scale(1); }
        }
        
        @keyframes droop {
            0% { transform: translateY(0px) rotate(-2deg); }
            15% { transform: translateY(5px) rotate(-4deg); }
            30% { transform: translateY(15px) rotate(-8deg); }
            45% { transform: translateY(20px) rotate(-10deg); }
            60% { transform: translateY(25px) rotate(-12deg); }
            75% { transform: translateY(20px) rotate(-10deg); }
            90% { transform: translateY(10px) rotate(-6deg); }
            100% { transform: translateY(0px) rotate(-2deg); }
        }

        /* ÂÆåÊàêÂ∫ÜÁ•ùÂä®Áîª */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fd79a8;
            animation: confetti-fall 3s linear infinite;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        /* ÁâπÊÆäÊïàÊûú */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2em;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 0 10px;
            }
            
            .dolphin-showcase {
                width: 250px;
                height: 160px;
            }
            
            .main-dolphin {
                width: 120px;
                height: 80px;
            }

            .card-container {
                width: min(95vw, 400px);
                margin: 10px auto;
            }

            .card-page-container {
                padding: 10px;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
            }

            .dolphin-container {
                height: 200px;
            }

            .emotion-controls {
                padding: 15px;
            }

            .emotion-description {
                min-height: 80px;
                padding: 15px 10px;
                margin-bottom: 20px;
            }

            .game-content {
                padding: 15px;
            }

            .food-display {
                gap: 8px;
                padding: 12px;
            }

            .region-container {
                gap: 8px;
            }

            .guide-panel {
                position: relative;
                top: auto;
                right: auto;
                margin: 0 auto 20px auto;
                max-width: 90%;
            }

            .ocean-layer {
                padding: 15px 10px;
                gap: 15px;
            }

            .knowledge-panel {
                padding: 20px 15px;
                max-height: 70vh;
            }

            .ocean-scene {
                margin-top: 20px;
                min-height: 400px;
            }

            .harmony-cards-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 0 10px;
            }
        }

        @media (max-width: 480px) {
            .ocean-layer {
                min-height: auto;
                padding: 10px 5px;
            }

            .surface-layer { min-height: 80px; }
            .middle-layer { min-height: 100px; }
            .deep-layer { min-height: 120px; }
        }
    </style>
</head>
<body>
    <div class="ocean-bg">
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <!-- ‰∏ªÈ°µ -->
    <div class="page active" id="homePage">
        <div class="main-container">
            <header class="header">
                <h1 class="main-title">WANWAN's SEA WORLD</h1>
                     <h1 class="main-title">ÊπæÊπæÁöÑÊµ∑Ê¥ã‰∏ñÁïå</h1>
                <p class="subtitle">The Wonderful AR Card Journey of the Chinese White Dolphin</p>
                <p class="subtitle">Âíå‰∏≠ÂõΩÁôΩÊµ∑Ë±öÁöÑARÊé¢Á¥¢‰πãÊóÖÔΩû</p>
            </header>

            <div class="dolphin-showcase" onclick="playWelcomeAnimation()">
                <div class="main-dolphin" id="mainDolphin">
                    <div class="main-dolphin-body">
                        <div class="main-dolphin-belly"></div>
                        <div class="main-dolphin-fin"></div>
                        <div class="main-dolphin-tail"></div>
                        <div class="main-dolphin-eye"></div>
                        <div class="main-dolphin-smile"></div>
                    </div>
                </div>
            </div>

            <div class="cards-grid">
                <div class="card emotion" onclick="openCard('emotion')">
                    <span class="card-icon">
                        <img src="./emotion.png" alt="ÊÉÖÁª™Ëâ≤ÂΩ©Âç°ÂõæÊ†á" loading="lazy">
                      </span>
                    <h3 class="card-title">Emotion Palette Card</h3>
                    <p class="card-description">See how Wanwan expresses emotions with colors! From joy and excitement to anger and sadness ‚Äî each emotion shines in its unique hue.</p>
                    <span class="card-status status-available">EXPLORE NOW</span>
                </div>

                <div class="card environment" onclick="openCard('environment')">
                    <span class="card-icon">
                        <img src="./ÁéØ‰øù.png" alt="ÁéØ‰øùÂàÜÁ±ªÂç°ÂõæÊ†á" loading="lazy">
                      </span>
                    <h3 class="card-title">Eco Sorting Card</h3>
                    <p class="card-description">Learn to sort marine waste with Wanwan and protect our ocean home ‚Äî keeping every wave crystal clean.</p>
                    <span class="card-status status-available">START LEARNING</span>
                </div>

                <div class="card food" onclick="openCard('food')">
                    <span class="card-icon">
                        <img src="./Eat.png" alt="ÊπæÂå∫ÁæéÈ£üÂç°ÂõæÊ†á" style="width:60px; height:60px; display:block; margin:0 auto 15px; object-fit:contain;">
                    </span>
                    <h3 class="card-title">Bay Area Food Card</h3>
                    <p class="card-description">Explore Cantonese and Macao-style dim sum culture ‚Äî from traditional tea houses to modern delights, discover the charm of the Bay Area‚Äôs cuisine.</p>
                    <span class="card-status status-available">TASTE NOW</span>
                </div>

                <div class="card friends" onclick="openCard('friends')">
                    <span class="card-icon">
                        <img src="./friend.png" alt="Êµ∑Â∫ïÊúãÂèãÂç°ÂõæÊ†á" style="width:60px; height:60px; display:block; margin:0 auto 15px; object-fit:contain;">
                    </span>
                    <h3 class="card-title">Ocean Friends Card</h3>
                    <p class="card-description">ËÆ§ËØÜÊπæÊπæÁöÑÊµ∑Ê¥ãÊúãÂèã‰ª¨ÔºÅ‰∫ÜËß£Áè†Ê±üÂè£ÁöÑ‰∏∞ÂØåÊµ∑Ê¥ãÁîüÁâ©ÔºåÂèëÁé∞ÊØè‰∏™Â∞èÁîüÂëΩÁöÑÁã¨Áâπ‰πãÂ§Ñ„ÄÇ</p>
                    <span class="card-status status-available">MEET NOW</span>
                </div>

                <div class="card harmony" onclick="openCard('harmony')">
                    <span class="card-icon">
                        <img src="./hand.png" alt="ÂÖ±Áîü‰∫íÂä®Âç°ÂõæÊ†á" style="width:60px; height:60px; display:block; margin:0 auto 15px; object-fit:contain;">
                    </span>
                    <h3 class="card-title">Co-living Interaction Card</h3>
                    <p class="card-description">‰ΩìÈ™åÂè∞ÊπæÁîüÊÄÅ‰∏éÊñáÂåñÁöÑÂíåË∞êÂÖ±ÁîüÔºÅ‰ªéÊ®±Ëä±Ëù¥Ëù∂Âõ≠Âà∞Â§úÂ∏ÇÁæéÈ£üÔºåÊÑüÂèóÂÆùÂ≤õÁöÑÁã¨ÁâπÈ≠ÖÂäõ„ÄÇ</p>
                    <span class="card-status status-available">JOIN INTERACTION</span>
                </div>
            </div>

            <div class="footer-info">
                <h3>üåü ÂÖ≥‰∫éÊπæÊπæ</h3>
                <p>ÊπæÊπæÊòØÁîüÊ¥ªÂú®Áè†Ê±üÂè£ÁöÑ‰∏≠ÂçéÁôΩÊµ∑Ë±öÔºåÊòØÂõΩÂÆ∂‰∏ÄÁ∫ß‰øùÊä§Âä®Áâ©„ÄÇÂ•πÊúâÁùÄÁ≤âÁ∫¢Ëâ≤ÁöÑÁöÆËÇ§ÂíåËÅ™ÊòéÁöÑÂ§ßËÑëÔºåÂñúÊ¨¢Âú®Ê∏ÖÊæàÁöÑÊµ∑Ê∞¥‰∏≠Ëá™Áî±Ê∏∏Ê≥≥„ÄÇÈÄöËøáËøô‰∫õARÂç°ÁâáÔºåËÆ©Êàë‰ª¨‰∏ÄËµ∑‰∫ÜËß£ÊπæÊπæÁöÑ‰∏ñÁïåÔºåÂ≠¶‰ºö‰øùÊä§Êµ∑Ê¥ãÔºå‰∏éËá™ÁÑ∂ÂíåË∞êÂÖ±Áîü„ÄÇ</p>
            </div>
        </div>
    </div>

    <!-- ÊÉÖÁª™Ëâ≤ÂΩ©Âç°È°µÈù¢ -->
    <div class="page" id="emotionPage">
        <div class="card-page-container">
            <div class="card-container">
                <!-- Â§¥ÈÉ® -->
                <div class="card-header emotion-header">
                    <button class="back-btn" onclick="goBackHome()">üè†</button>
                    <div class="header-title">üê¨ ÊπæÊπæÁöÑÊÉÖÁª™Ëâ≤ÂΩ©Âç°</div>
                    <div class="header-icon">üì±</div>
                </div>
                
                <div class="dolphin-container">
                    <!-- Ê∞¥Ê≥°ÊïàÊûú -->
                    <div class="water-bubble bubble-1"></div>
                    <div class="water-bubble bubble-2"></div>
                    <div class="water-bubble bubble-3"></div>
                    <div class="water-bubble bubble-4"></div>
                    
                    <!-- Êµ∑Ë±ö -->
                    <div class="dolphin" id="dolphin">
                        <div class="dolphin-body" id="dolphin-body">
                            <div class="dolphin-belly"></div>
                            <div class="dolphin-fin"></div>
                            <div class="dolphin-tail"></div>
                            <div class="dolphin-eye"></div>
                            <div class="dolphin-smile"></div>
                        </div>
                    </div>
                </div>
                
                <div class="emotion-controls">
                    <div class="emotion-title">ÁÇπÂáªÊåâÈíÆÁúãÊπæÊπæÂèòËâ≤ÔºÅ</div>
                    
                    <div class="emotion-buttons">
                        <button class="emotion-btn btn-happy" onclick="changeEmotion('happy')">
                            üòä ÂºÄÂøÉ
                        </button>
                        <button class="emotion-btn btn-excited" onclick="changeEmotion('excited')">
                            üåü ÂÖ¥Â•ã
                        </button>
                        <button class="emotion-btn btn-angry" onclick="changeEmotion('angry')">
                            üò§ ÁîüÊ∞î
                        </button>
                        <button class="emotion-btn btn-sad" onclick="changeEmotion('sad')">
                            üò¢ ÈöæËøá
                        </button>
                    </div>
                    
                    <div class="emotion-description" id="description">
                        ÁÇπÂáª‰∏äÈù¢ÁöÑÊÉÖÁª™ÊåâÈíÆÔºåÁúãÁúãÊπæÊπæ‰ºöÂèòÊàê‰ªÄ‰πàÈ¢úËâ≤ÔºÅ
                    </div>
                </div>
                
                <div class="ar-hint">üîç Êâ´Á†ÅÁúãARÂä®Áîª</div>
            </div>
        </div>
    </div>

    <!-- ÁéØ‰øùÂàÜÁ±ªÂç°È°µÈù¢ -->
    <div class="page" id="environmentPage">
        <div class="card-page-container">
            <div class="card-container">
                <!-- Â§¥ÈÉ® -->
                <div class="card-header environment-header">
                    <button class="back-btn" onclick="goBackHome()">üè†</button>
                    <div class="header-title">üåä ÊπæÊπæÁöÑÁéØ‰øùÂàÜÁ±ªÂç°</div>
                    <div class="header-icon">‚ôªÔ∏è</div>
                </div>

                <!-- ÊπæÊπæÊåáÂØºÂå∫ -->
                <div class="dolphin-guide">
                    <div class="guide-dolphin">
                        <div class="guide-dolphin-body">
                            <div class="guide-dolphin-fin"></div>
                            <div class="guide-dolphin-tail"></div>
                            <div class="guide-dolphin-eye"></div>
                        </div>
                    </div>
                    <div class="guide-text" id="envGuideText">
                        ‰Ω†Â•ΩÔºÅÊàëÊòØÊπæÊπæüê¨ ËÆ©Êàë‰ª¨‰∏ÄËµ∑Â≠¶‰π†ÂûÉÂúæÂàÜÁ±ªÔºå‰øùÊä§Áæé‰∏ΩÁöÑÊµ∑Ê¥ãÂêßÔºÅ
                    </div>
                </div>

                <!-- Ê∏∏ÊàèÂÜÖÂÆπ -->
                <div class="game-content">
                    <div class="progress-container">
                        <div class="progress-bar" id="envProgressBar"></div>
                    </div>

                    <div class="score-display">
                        üèÜ ÂæóÂàÜ: <span id="envScore">0</span> | Ê≠£Á°ÆÁéá: <span id="envAccuracy">0%</span>
                    </div>

                    <div class="game-title" id="envGameTitle">ÁÇπÂáªÂûÉÂúæËøõË°åÂàÜÁ±ª</div>

                    <div class="food-display" id="envTrashContainer">
                        <!-- ÂûÉÂúæÁâ©ÂìÅ -->
                        <div class="food-item" data-type="recyclable" data-name="Êä•Á∫∏" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üì∞</div>
                            <div class="food-name">Êä•Á∫∏</div>
                        </div>
                        <div class="food-item" data-type="organic" data-name="È¶ôËïâÁöÆ" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üçå</div>
                            <div class="food-name">È¶ôËïâÁöÆ</div>
                        </div>
                        <div class="food-item" data-type="harmful" data-name="ÁîµÊ±†" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üîã</div>
                            <div class="food-name">ÁîµÊ±†</div>
                        </div>
                        <div class="food-item" data-type="other" data-name="Á∫∏Â∑æ" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üßª</div>
                            <div class="food-name">Á∫∏Â∑æ</div>
                        </div>
                        <div class="food-item" data-type="recyclable" data-name="Â°ëÊñôÁì∂" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ü•§</div>
                            <div class="food-name">Â°ëÊñôÁì∂</div>
                        </div>
                        <div class="food-item" data-type="organic" data-name="ËãπÊûúÊ†∏" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üçé</div>
                            <div class="food-name">ËãπÊûúÊ†∏</div>
                        </div>
                        <div class="food-item" data-type="harmful" data-name="ËçØÂìÅ" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üíä</div>
                            <div class="food-name">ËçØÂìÅ</div>
                        </div>
                        <div class="food-item" data-type="other" data-name="Êµ∑Áªµ" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üßΩ</div>
                            <div class="food-name">Êµ∑Áªµ</div>
                        </div>
                        <div class="food-item" data-type="recyclable" data-name="ÊòìÊãâÁΩê" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ü•´</div>
                            <div class="food-name">ÊòìÊãâÁΩê</div>
                        </div>
                        <div class="food-item" data-type="organic" data-name="ËèúÂè∂" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ü•¨</div>
                            <div class="food-name">ËèúÂè∂</div>
                        </div>
                        <div class="food-item" data-type="harmful" data-name="ÂåñÂ¶ÜÂìÅ" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üíÑ</div>
                            <div class="food-name">ÂåñÂ¶ÜÂìÅ</div>
                        </div>
                        <div class="food-item" data-type="other" data-name="ÁÉüÂ§¥" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">üö¨</div>
                            <div class="food-name">ÁÉüÂ§¥</div>
                        </div>
                    </div>

                    <div class="region-container">
                        <div class="region-btn" data-type="recyclable" onclick="dropEnvTrash('recyclable')" style="background: linear-gradient(135deg, #dfe6e9, #b2bec3); color: #74b9ff;">
                            <div class="region-emoji">‚ôªÔ∏è</div>
                            <div class="region-name">ÂèØÂõûÊî∂ÂûÉÂúæ</div>
                        </div>
                        <div class="region-btn" data-type="organic" onclick="dropEnvTrash('organic')" style="background: linear-gradient(135deg, #d1f2eb, #a3e4d7); color: #00b894;">
                            <div class="region-emoji">üå±</div>
                            <div class="region-name">Âé®‰ΩôÂûÉÂúæ</div>
                        </div>
                        <div class="region-btn" data-type="harmful" onclick="dropEnvTrash('harmful')" style="background: linear-gradient(135deg, #fadbd8, #f5b7b1); color: #e17055;">
                            <div class="region-emoji">‚ò†Ô∏è</div>
                            <div class="region-name">ÊúâÂÆ≥ÂûÉÂúæ</div>
                        </div>
                        <div class="region-btn" data-type="other" onclick="dropEnvTrash('other')" style="background: linear-gradient(135deg, #ebedef, #d5dbdb); color: #636e72;">
                            <div class="region-emoji">üóëÔ∏è</div>
                            <div class="region-name">ÂÖ∂‰ªñÂûÉÂúæ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   <!-- ÊπæÂå∫ÁæéÈ£üÂç°È°µÈù¢ -->
<div class="page" id="foodPage">
    <div class="card-page-container">
        <div class="card-container">
            <!-- Â§¥ÈÉ® -->
            <div class="card-header food-header">
                <button class="back-btn" onclick="goBackHome()">üè†</button>
                <div class="header-title">
                    <img src="./Eat.png" alt="ÁæéÈ£üÂõæÊ†á" style="width:28px; height:28px; vertical-align:middle; margin-right:6px;">
                    ÊπæÊπæÁöÑÊπæÂå∫ÁæéÈ£üÂç°
                </div>
                <div class="header-icon">ü•ü</div>
            </div>

                <!-- ÊπæÊπæÊåáÂØºÂå∫ -->
                <div class="dolphin-guide">
                    <div class="guide-dolphin">
                        <div class="guide-dolphin-body">
                            <div class="guide-dolphin-fin"></div>
                            <div class="guide-dolphin-tail"></div>
                            <div class="guide-dolphin-eye"></div>
                        </div>
                    </div>
                    <div class="guide-text" id="foodGuideText">
                        Â§ßÂÆ∂Â•ΩÔºÅÊàëÊòØÁæéÈ£üÂØºÊ∏∏ÊπæÊπæüê¨ ËÆ©Êàë‰ª¨‰∏ÄËµ∑Êé¢Á¥¢Á≤§Ê∏ØÊæ≥ÊπæÂå∫ÁöÑÁâπËâ≤ÁæéÈ£üÂêßÔºÅ
                    </div>
                </div>

                <!-- Ê∏∏ÊàèÂÜÖÂÆπ -->
                <div class="game-content">
                    <div class="progress-container">
                        <div class="progress-bar" id="foodProgressBar"></div>
                    </div>

                    <div class="score-display">
                        üèÜ ÂæóÂàÜ: <span id="foodScore">0</span> | Ê≠£Á°ÆÁéá: <span id="foodAccuracy">0%</span>
                    </div>

                    <div class="mode-selector">
                        <button class="mode-btn active" data-mode="region" onclick="switchFoodMode('region')">Âú∞Âå∫ÈÖçÂØπ</button>
                        <button class="mode-btn" data-mode="ingredient" onclick="switchFoodMode('ingredient')">È£üÊùêÊê≠ÈÖç</button>
                    </div>

                    <div class="game-title" id="foodGameTitle">ÈÄâÊã©ÁæéÈ£üÔºåÁåúÁåúÂÆÉÊù•Ëá™Âì™‰∏™Âú∞Âå∫Ôºü</div>

                    <!-- Âú∞Âå∫ÈÖçÂØπÊ®°Âºè -->
                    <div id="regionMode" class="game-mode">
                        <div class="food-display" id="foodContainer">
                            <!-- ÁæéÈ£üÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                        </div>

                        <div class="region-container">
                            <div class="region-btn region-hongkong" data-region="hongkong" onclick="selectFoodRegion('hongkong')">
                                <div class="region-emoji">üèôÔ∏è</div>
                                <div class="region-name">È¶ôÊ∏Ø</div>
                            </div>
                            <div class="region-btn region-guangzhou" data-region="guangzhou" onclick="selectFoodRegion('guangzhou')">
                                <div class="region-emoji">üèÆ</div>
                                <div class="region-name">ÂπøÂ∑û</div>
                            </div>
                            <div class="region-btn region-macau" data-region="macau" onclick="selectFoodRegion('macau')">
                                <div class="region-emoji">üé∞</div>
                                <div class="region-name">Êæ≥Èó®</div>
                            </div>
                            <div class="region-btn region-shenzhen" data-region="shenzhen" onclick="selectFoodRegion('shenzhen')">
                                <div class="region-emoji">üåÜ</div>
                                <div class="region-name">Ê∑±Âú≥</div>
                            </div>
                        </div>
                    </div>

                    <!-- È£üÊùêÊê≠ÈÖçÊ®°Âºè -->
                    <div id="ingredientMode" class="game-mode" style="display: none;">
                        <div class="food-display" id="ingredientContainer">
                            <!-- È£üÊùêÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                        </div>
                        <div id="dishContainer" class="region-container">
                            <!-- ËèúÂìÅÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                </div>

                <div class="ar-hint">üîç Êâ´Á†Å‰ΩìÈ™åARÁæéÈ£ü</div>
            </div>
        </div>
    </div>

    <!-- Êµ∑Â∫ïÊúãÂèãÂç°È°µÈù¢ -->
    <div class="page" id="friendsPage">
        <div class="main-container">
            <div style="width: 100%; max-width: 500px;">
                <!-- Â§¥ÈÉ® -->
                <div class="card-header friends-header" style="border-radius: 25px 25px 0 0;">
                    <button class="back-btn" onclick="goBackHome()">üè†</button>
                    <div class="header-title">üåä ÊπæÊπæÁöÑÊµ∑Â∫ïÊúãÂèã‰∏ñÁïå</div>
                    <div class="header-icon">üîç</div>
                </div>

                <!-- Êµ∑Ê¥ã‰∏ñÁïå -->
                <div class="ocean-world" style="background: linear-gradient(to bottom, #74b9ff 0%, #0984e3 25%, #006994 50%, #0077be 75%, #004c7a 100%); border-radius: 0 0 25px 25px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);">
                    <!-- Êµ∑Ê¥ãÂÖâÁ∫øÊïàÊûú -->
                    <div class="ocean-rays"></div>
                    
                    <!-- Êµ∑Ê¥ãÊ∞îÊ≥°ÊïàÊûú -->
                    <div class="ocean-bubbles" id="oceanBubbles">
                        <!-- Ê∞îÊ≥°Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </div>
                    
                    <!-- ÊπæÊπæÊåáÂØºÈù¢Êùø -->
                    <div class="guide-panel" id="friendsGuidePanel">
                        <div class="guide-dolphin">
                            <div class="guide-dolphin-body">
                                <div class="guide-dolphin-fin"></div>
                                <div class="guide-dolphin-tail"></div>
                                <div class="guide-dolphin-eye"></div>
                            </div>
                        </div>
                        <div class="guide-text" id="friendsGuideText">
                            Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÊµ∑Â∫ï‰∏ñÁïåÔºÅüê¨ ÁÇπÂáªÊàëÁöÑÊúãÂèã‰ª¨‰∫ÜËß£ÂÆÉ‰ª¨ÁöÑÊïÖ‰∫ãÂêßÔºÅ
                        </div>
                    </div>

                    <!-- Êµ∑Ê¥ãÂú∫ÊôØ -->
                    <div class="ocean-scene">
                        <!-- Êµ∑Èù¢Â±Ç -->
                        <div class="ocean-layer surface-layer">
                            <div class="ocean-friend friend-dolphin" data-friend="dolphin" onclick="showFriendInfo('dolphin')">
                                <div style="width: clamp(60px, 12vw, 100px); height: clamp(40px, 8vw, 65px); position: relative;">
                                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #ffb3ba, #ff8a95); border-radius: 50px 20px 50px 35px; position: relative; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);">
                                        <div style="position: absolute; bottom: 8px; left: 20px; width: 60%; height: 35%; background: rgba(255, 255, 255, 0.9); border-radius: 40px 20px 40px 45px;"></div>
                                        <div style="position: absolute; top: -15px; left: 30%; width: 25px; height: 35px; background: linear-gradient(135deg, #ffb3ba, #ff8a95); border-radius: 15px 5px 15px 15px; transform: rotate(-20deg);"></div>
                                        <div style="position: absolute; right: -15px; top: 40%; width: 30px; height: 40px; background: linear-gradient(135deg, #ffb3ba, #ff8a95); border-radius: 15px; transform: rotate(45deg); animation: tail-wave 3s ease-in-out infinite; transform-origin: left center;"></div>
                                        <div style="position: absolute; top: 30%; left: 25%; width: 8px; height: 8px; background: #2d3436; border-radius: 50%; animation: blink 4s infinite;"></div>
                                        <div style="position: absolute; top: 45%; left: 20%; width: 20px; height: 10px; border: 2px solid #2d3436; border-top: none; border-radius: 0 0 20px 20px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div style="position: absolute; left: 10%; font-size: clamp(30px, 6vw, 50px); color: #00b894; animation: decoration-sway 6s ease-in-out infinite;">üåø</div>
                            <div style="position: absolute; right: 15%; font-size: clamp(25px, 5vw, 40px); color: #fd79a8; animation: decoration-sway 6s ease-in-out infinite;">ü™∏</div>
                        </div>

                        <!-- ‰∏≠Â±ÇÊµ∑Âüü -->
                        <div class="ocean-layer middle-layer">
                            <div class="ocean-friend friend-goldfish" data-friend="goldfish" onclick="showFriendInfo('goldfish')">
                                <div style="width: clamp(45px, 9vw, 70px); height: clamp(30px, 6vw, 45px); position: relative;">
                                    <div style="width: 70%; height: 100%; background: linear-gradient(135deg, #fdcb6e, #f39c12); border-radius: 50%; position: relative; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);">
                                        <div style="position: absolute; right: -20px; top: 20%; width: 25px; height: 60%; background: linear-gradient(135deg, #fdcb6e, #f39c12); border-radius: 0 50% 50% 0; transform-origin: left center; animation: fish-tail-wave 2s ease-in-out infinite;"></div>
                                        <div style="position: absolute; top: -8px; left: 30%; width: 15px; height: 20px; background: linear-gradient(135deg, #fdcb6e, #f39c12); border-radius: 50% 20% 50% 50%; transform: rotate(-30deg);"></div>
                                        <div style="position: absolute; top: 30%; left: 20%; width: 8px; height: 8px; background: white; border-radius: 50%; border: 1px solid #2d3436;">
                                            <div style="width: 4px; height: 4px; background: #2d3436; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                                        </div>
                                        <div style="position: absolute; width: 6px; height: 6px; background: rgba(255, 255, 255, 0.3); border-radius: 50%; top: 40%; left: 40%; animation: scale-shine 3s ease-in-out infinite;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="ocean-friend friend-turtle" data-friend="turtle" onclick="showFriendInfo('turtle')">
                                <div style="width: clamp(55px, 11vw, 85px); height: clamp(45px, 9vw, 70px); position: relative;">
                                    <div style="width: 100%; height: 85%; background: linear-gradient(135deg, #00b894, #00cec9); border-radius: 60% 60% 50% 50%; position: relative; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); border: 2px solid #008c72;">
                                        <div style="position: absolute; top: 15%; left: 35%; width: 30%; height: 20%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 40% 40% 20% 20%;"></div>
                                        <div style="position: absolute; bottom: 15%; left: 35%; width: 30%; height: 20%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 20% 20% 40% 40%;"></div>
                                        <div style="position: absolute; top: 30%; left: 15%; width: 20%; height: 25%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 40% 20% 20% 40%;"></div>
                                        <div style="position: absolute; top: 30%; right: 15%; width: 20%; height: 25%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 20% 40% 40% 20%;"></div>
                                        <div style="position: absolute; top: 35%; left: 35%; width: 30%; height: 30%; background: rgba(0, 0, 0, 0.15); clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);"></div>
                                    </div>
                                    <div style="position: absolute; top: -2px; left: 50%; transform: translateX(-50%); width: 22px; height: 12px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 6px; border: 1px solid #2c5aa0; z-index: -1; animation: turtle-neck-move 4s ease-in-out infinite;"></div>
                                    <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); width: 32px; height: 26px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 60% 40% 40%; border: 1px solid #2c5aa0; animation: turtle-head-move 4s ease-in-out infinite;">
                                        <div style="position: absolute; top: 10px; left: 8px; width: 6px; height: 6px; background: #000; border-radius: 50%;"></div>
                                        <div style="position: absolute; top: 10px; right: 8px; width: 6px; height: 6px; background: #000; border-radius: 50%;"></div>
                                        <div style="position: absolute; top: 15px; left: 50%; transform: translateX(-50%); width: 4px; height: 2px; background: #2c5aa0; border-radius: 50%;"></div>
                                    </div>
                                    <div style="position: absolute; top: 25%; left: -20px; width: 22px; height: 14px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(-15deg);"></div>
                                    <div style="position: absolute; top: 25%; right: -20px; width: 22px; height: 14px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(15deg);"></div>
                                    <div style="position: absolute; bottom: 20%; left: -17px; width: 20px; height: 12px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(-30deg);"></div>
                                    <div style="position: absolute; bottom: 20%; right: -17px; width: 20px; height: 12px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(30deg);"></div>
                                    <div style="position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 10px; height: 14px; background: linear-gradient(180deg, #55a3ff, #3742fa); border-radius: 50% 50% 80% 80%; border: 1px solid #2c5aa0;"></div>
                                </div>
                            </div>
                            <div style="position: absolute; left: 25%; font-size: clamp(25px, 5vw, 40px); color: #00b894; animation: decoration-sway 6s ease-in-out infinite;">üå±</div>
                            <div style="position: absolute; right: 30%; font-size: clamp(20px, 4vw, 30px); color: #fdcb6e; animation: decoration-sway 6s ease-in-out infinite;">üêö</div>
                        </div>

                        <!-- Ê∑±Êµ∑Â±Ç -->
                        <div class="ocean-layer deep-layer">
                            <div class="ocean-friend friend-octopus" data-friend="octopus" onclick="showFriendInfo('octopus')">
                                <div style="width: clamp(50px, 10vw, 80px); height: clamp(50px, 10vw, 80px); position: relative;">
                                    <div style="width: 60%; height: 60%; background: linear-gradient(135deg, #ff7675, #e84393); border-radius: 50%; position: relative; top: 0; left: 20%; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);">
                                        <div style="position: absolute; width: 12px; height: 12px; background: white; border-radius: 50%; border: 2px solid #2d3436; top: 30%; left: 20%;">
                                            <div style="width: 6px; height: 6px; background: #2d3436; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                                        </div>
                                        <div style="position: absolute; width: 12px; height: 12px; background: white; border-radius: 50%; border: 2px solid #2d3436; top: 30%; right: 20%;">
                                            <div style="width: 6px; height: 6px; background: #2d3436; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                                        </div>
                                    </div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 50%; left: 10%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 60%; left: 25%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.2s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 60%; right: 25%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.4s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 50%; right: 10%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.6s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 70%; left: 40%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.8s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 70%; right: 40%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 1s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 75%; left: 15%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 1.2s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 75%; right: 15%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 1.4s;"></div>
                                </div>
                            </div>
                            <div class="ocean-friend friend-crab" data-friend="crab" onclick="showFriendInfo('crab')">
                                <div style="width: clamp(50px, 10vw, 75px); height: clamp(45px, 9vw, 65px); position: relative;">
                                    <div style="width: 65%; height: 75%; background: linear-gradient(135deg, #e17055, #d63031); border-radius: 50% 50% 40% 60%; position: relative; left: 17.5%; top: 10%; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); border: 1px solid #c0392b;"></div>
                                    <div style="position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%); width: 70%; height: 35%; background: linear-gradient(135deg, #fab1a0, #e17055); border-radius: 60% 60% 40% 40%; border: 1px solid #d63031;"></div>
                                    <div style="position: absolute; width: 16px; height: 10px; background: linear-gradient(135deg, #fab1a0, #e17055); border-radius: 50% 20% 50% 50%; border: 1px solid #d63031; bottom: -6px; left: -20px; transform: rotate(-25deg);"></div>
                                    <div style="position: absolute; width: 16px; height: 10px; background: linear-gradient(135deg, #fab1a0, #e17055); border-radius: 50% 20% 50% 50%; border: 1px solid #d63031; bottom: -6px; right: -20px; transform: rotate(25deg);"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -12px; left: -8px; transform: rotate(-45deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -10px; left: 5px; transform: rotate(-25deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0.3s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -8px; left: 18px; transform: rotate(-10deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0.6s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -8px; right: 18px; transform: rotate(10deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0.9s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -10px; right: 5px; transform: rotate(25deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 1.2s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -12px; right: -8px; transform: rotate(45deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 1.5s;"></div>
                                    <div style="position: absolute; top: -8px; width: 5px; height: 12px; background: linear-gradient(180deg, #fab1a0, #2d3436); border-radius: 50%; left: 30%; animation: crab-eye-sway 3s ease-in-out infinite; animation-delay: 0s;"></div>
                                    <div style="position: absolute; top: -8px; width: 5px; height: 12px; background: linear-gradient(180deg, #fab1a0, #2d3436); border-radius: 50%; right: 30%; animation: crab-eye-sway 3s ease-in-out infinite; animation-delay: 1.5s;"></div>
                                </div>
                            </div>
                            <div style="position: absolute; left: 20%; font-size: clamp(25px, 5vw, 40px); color: #fd79a8; animation: decoration-sway 6s ease-in-out infinite;">ü™∏</div>
                            <div style="position: absolute; right: 10%; font-size: clamp(30px, 6vw, 50px); color: #00b894; animation: decoration-sway 6s ease-in-out infinite;">üåø</div>
                            <div style="position: absolute; left: 60%; font-size: clamp(20px, 4vw, 30px); color: #fdcb6e; animation: decoration-sway 6s ease-in-out infinite;">üêö</div>
                        </div>
                    </div>
                </div>

                <div class="ar-hint">üîç Êâ´Á†Å‰ΩìÈ™åARÊµ∑Ê¥ã</div>
            </div>
        </div>
    </div>

    <!-- ÂÖ±Áîü‰∫íÂä®Âç°È°µÈù¢ -->
    <div class="page" id="harmonyPage">
        <div class="main-container">
            <div class="card-header harmony-header" style="border-radius: 25px 25px 0 0; margin-bottom: 0;">
                <button class="back-btn" onclick="goBackHome()">üè†</button>
                <div class="header-title">üåø ÊπæÊπæÂÖ±Áîü‰∫íÂä®Âç° üèîÔ∏è</div>
                <div class="header-icon">üåä</div>
            </div>

            <div style="background: rgba(255, 255, 255, 0.95); border-radius: 0 0 25px 25px; padding: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);">
                <div class="harmony-cards-grid">
                    <!-- Ê®±Ëä±Ëù¥Ëù∂Âç° -->
                    <div class="harmony-card" data-type="ecology">
                        <div class="harmony-card-icon">üå∏</div>
                        <div class="harmony-card-title">Ê®±Ëä±Ëù¥Ëù∂Âõ≠</div>
                        <div class="harmony-card-description">ÁÇπÂáªËù¥Ëù∂Â∏ÆÂä©ÂÆÉ‰ª¨ÈááÈõÜËä±Á≤âÔºå‰ΩìÈ™åÁîüÊÄÅÂπ≥Ë°°‰πãÁæé</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ÁÇπÂáªÈ£ûËàûÁöÑËù¥Ëù∂Êî∂ÈõÜËä±Á≤â (ÁõÆÊ†á: 5Âè™)</div>
                            <div style="width: 100%; height: 120px; position: relative; background: linear-gradient(to bottom, #87CEEB, #98FB98); border-radius: 10px; overflow: hidden; cursor: pointer;" id="butterfly-garden">
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 20px; left: 30px;" class="butterfly" onclick="catchButterfly(this)">ü¶ã</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 60px; left: 100px;" class="butterfly" onclick="catchButterfly(this)">ü¶ã</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 40px; left: 200px;" class="butterfly" onclick="catchButterfly(this)">ü¶ã</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 80px; left: 150px;" class="butterfly" onclick="catchButterfly(this)">ü¶ã</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 10px; left: 250px;" class="butterfly" onclick="catchButterfly(this)">ü¶ã</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="butterfly-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="butterfly-btn" disabled>ÂÆåÊàêÁîüÊÄÅ‰øùÊä§‰ªªÂä°</button>
                    </div>

                    <!-- Â§úÂ∏ÇÊñáÂåñÂç° -->
                    <div class="harmony-card" data-type="culture">
                        <div class="harmony-card-icon">üèÆ</div>
                        <div class="harmony-card-title">Â£´ÊûóÂ§úÂ∏Ç‰ΩìÈ™å</div>
                        <div class="harmony-card-description">ÂìÅÂ∞ùÂêÑÁßçÂè∞ÊπæÂ∞èÈ£üÔºåÊÑüÂèóÂ§úÂ∏ÇÊñáÂåñÈ≠ÖÂäõ</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ÁÇπÂáªÂìÅÂ∞ùÁæéÈ£ü (ÁõÆÊ†á: ÂìÅÂ∞ù6Áßç)</div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%;" class="night-market">
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="ÁèçÁè†Â•∂Ëå∂" onclick="tasteFood(this)">üßã<br>ÁèçÁè†Â•∂Ëå∂</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="Ëá≠Ë±ÜËÖê" onclick="tasteFood(this)">üßÄ<br>Ëá≠Ë±ÜËÖê</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="È∏°Êéí" onclick="tasteFood(this)">üçó<br>È∏°Êéí</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="ÂààÂåÖ" onclick="tasteFood(this)">ü•ô<br>ÂààÂåÖ</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="ËΩ¶ËΩÆÈ•º" onclick="tasteFood(this)">ü•Æ<br>ËΩ¶ËΩÆÈ•º</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="Ëöµ‰ªîÁÖé" onclick="tasteFood(this)">ü¶™<br>Ëöµ‰ªîÁÖé</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="food-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="food-btn" disabled>ÂÆåÊàêÁæéÈ£üÊñáÂåñ‰ΩìÈ™å</button>
                    </div>

                    <!-- Ëå∂Âõ≠ÂçïËΩ¶Âç° -->
                    <div class="harmony-card" data-type="community">
                        <div class="harmony-card-icon">üö≤</div>
                        <div class="harmony-card-title">Êó•ÊúàÊΩ≠Ëå∂Âõ≠</div>
                        <div class="harmony-card-description">ÈááÊëòËå∂Âè∂ÔºåÂ≠¶‰π†Âà∂Ëå∂Â∑•Ëâ∫ÔºåÊÑüÂèóËå∂ÊñáÂåñÈüµÂë≥</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ÁÇπÂáªËå∂Âè∂ËøõË°åÈááÊëò (ÁõÆÊ†á: ÈááÊëò10Áâá)</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; align-items: center;" id="tea-garden">
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="tea-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="tea-btn" disabled>ÂÆåÊàêËå∂ÊñáÂåñ‰ΩìÈ™å</button>
                    </div>

                    <!-- Êµ∑Ê¥ã‰øùÊä§Âç° -->
                    <div class="harmony-card" data-type="ocean">
                        <div class="harmony-card-icon">üê†</div>
                        <div class="harmony-card-title">ÁªøÂ≤õÁèäÁëöÁ§Å</div>
                        <div class="harmony-card-description">ËßÇÂØüÊµ∑Ê¥ãÁîüÁâ©Ôºå‰∫ÜËß£ÁèäÁëöÁ§ÅÁîüÊÄÅÁ≥ªÁªü</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ÁÇπÂáªÊ∏∏ËøáÁöÑÊµ∑Ê¥ãÁîüÁâ©ËøõË°åËßÇÂØü (ÁõÆÊ†á: 5Áßç)</div>
                            <div style="width: 100%; height: 120px; background: linear-gradient(to bottom, #006994, #0077be); border-radius: 10px; position: relative; overflow: hidden;" id="coral-reef">
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 20px; animation-delay: 0s;" class="fish" onclick="observeFish(this)">üê†</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 50px; animation-delay: 1s;" class="fish" onclick="observeFish(this)">üêü</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 80px; animation-delay: 2s;" class="fish" onclick="observeFish(this)">ü¶à</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 35px; animation-delay: 3s;" class="fish" onclick="observeFish(this)">üê°</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 65px; animation-delay: 4s;" class="fish" onclick="observeFish(this)">üêô</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="ocean-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="ocean-btn" disabled>ÂÆåÊàêÊµ∑Ê¥ã‰øùÊä§‰ªªÂä°</button>
                    </div>

                    <!-- È´òÂ±±ÊåëÊàòÂç° -->
                    <div class="harmony-card" data-type="mountain">
                        <div class="harmony-card-icon">‚õ∞Ô∏è</div>
                        <div class="harmony-card-title">ÁéâÂ±±ÁôªÈ°∂ÊåëÊàò</div>
                        <div class="harmony-card-description">ÁÇπÂáªÂ∏ÆÂä©ÁôªÂ±±ËÄÖÊîÄÁôªÔºå‰ΩìÈ™åÂæÅÊúçÈ´òÂ≥∞ÁöÑÊàêÂ∞±ÊÑü</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ËøûÁª≠ÁÇπÂáªÂ∏ÆÂä©ÁôªÂ±±ËÄÖÁôªÈ°∂</div>
                            <div style="width: 100%; height: 100px; background: linear-gradient(45deg, #8b4513, #daa520, #228b22); border-radius: 10px; position: relative; cursor: pointer;" id="mountain" onclick="climbMountain()">
                                <div style="position: absolute; font-size: 20px; bottom: 10px; left: 10px; transition: all 1s ease;" id="climber">üßó</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="mountain-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="mountain-btn" disabled>ÂÆåÊàêÁôªÂ±±ÊåëÊàò</button>
                    </div>

                    <!-- Â∫ôÂÆáÊñáÂåñÂç° -->
                    <div class="harmony-card" data-type="tradition">
                        <div class="harmony-card-icon">üé≠</div>
                        <div class="harmony-card-title">ÈæôÂ±±ÂØ∫Á•àÁ¶è</div>
                        <div class="harmony-card-description">Êï≤ÂìçÁ•àÁ¶èÈíüÂ£∞Ôºå‰ΩìÈ™å‰º†ÁªüÊñáÂåñÁöÑÂ∫Ñ‰∏•‰∏éÁ•ûÂú£</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ÊåâÈ°∫Â∫èÊï≤ÂìçÊâÄÊúâÈíüÂ£∞</div>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; width: 100%;" class="temple-bells">
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="1" onclick="ringBell(this)">üîî</div>
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="2" onclick="ringBell(this)">üîî</div>
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="3" onclick="ringBell(this)">üîî</div>
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="4" onclick="ringBell(this)">üîî</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="temple-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="temple-btn" disabled>ÂÆåÊàêÁ•àÁ¶è‰ª™Âºè</button>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; color: white; text-align: center; margin-top: 20px;">
                    <div style="font-size: 1.5em; font-weight: bold; margin-bottom: 10px;">ÂÖ±ÁîüÊàêÂ∞±: <span id="harmonyScore">0</span> üèÜ</div>
                    <p>ÂÆåÊàê‰ªªÂä°: <span id="harmonyCompleted">0</span>/6</p>
                    <button style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 10px 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; margin-top: 10px;" onclick="resetAllHarmonyGames()">ÈáçÊñ∞ÂºÄÂßã‰ΩìÈ™å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Áü•ËØÜÂ±ïÁ§∫Èù¢Êùø -->
    <div class="knowledge-panel" id="knowledgePanel">
        <div class="knowledge-header">
            <div class="knowledge-title" id="knowledgeTitle">
                <span id="friendEmoji">üê¨</span>
                <span id="friendName">ÈÄâÊã©‰∏Ä‰∏™ÊúãÂèã</span>
            </div>
            <button class="close-btn" onclick="closeKnowledgePanel()">√ó</button>
        </div>
        <div class="knowledge-content" id="knowledgeContent">
            <!-- Áü•ËØÜÂÜÖÂÆπÂ∞ÜÂä®ÊÄÅÁîüÊàê -->
        </div>
    </div>

    <div id="feedback" class="feedback"></div>

    <script>
        // ÂàõÂª∫ÈöèÊú∫Ê∞îÊ≥°
        function createBubbles() {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.width = Math.random() * 15 + 5 + 'px';
            bubble.style.height = bubble.style.width;
            bubble.style.animationDuration = Math.random() * 3 + 3 + 's';
            bubble.style.animationDelay = Math.random() * 2 + 's';
            
            document.querySelector('.ocean-bg').appendChild(bubble);
            
            setTimeout(() => {
                bubble.remove();
            }, 8000);
        }

        // ÊØè3ÁßíÂàõÂª∫‰∏Ä‰∏™Ê∞îÊ≥°
        setInterval(createBubbles, 3000);

        // È°µÈù¢ÁÆ°ÁêÜ
        function showPage(pageId) {
            // ÈöêËóèÊâÄÊúâÈ°µÈù¢
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // ÊòæÁ§∫ÊåáÂÆöÈ°µÈù¢
            document.getElementById(pageId).classList.add('active');
        }

        // ËøîÂõû‰∏ªÈ°µ
        function goBackHome() {
            showPage('homePage');
        }

        // Ê¨¢ËøéÂä®Áîª
        function playWelcomeAnimation() {
            const dolphin = document.getElementById('mainDolphin');
            dolphin.style.animation = 'dolphin-swim 6s ease-in-out infinite, bounce 0.6s ease-in-out 3';
            
            // ÂàõÂª∫ÂΩ©Ëâ≤Á≤íÂ≠ê
            createWelcomeParticles();
            
            setTimeout(() => {
                dolphin.style.animation = 'dolphin-swim 6s ease-in-out infinite';
            }, 2000);
        }

        // Ê¨¢ËøéÁ≤íÂ≠êÊïàÊûú
        function createWelcomeParticles() {
            const colors = ['#ff7675', '#74b9ff', '#00b894', '#fdcb6e', '#fd79a8'];
            const showcase = document.querySelector('.dolphin-showcase');
            
            for(let i = 0; i < 12; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.style.position = 'absolute';
                    particle.style.width = '6px';
                    particle.style.height = '6px';
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.borderRadius = '50%';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animation = 'sparkle 1.5s ease-out forwards';
                    particle.style.pointerEvents = 'none';
                    
                    showcase.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 1500);
                }, i * 100);
            }
        }

        // ÂàõÂª∫Èó™ÂÖâÊïàÊûú
        function createSparkles() {
            const showcase = document.querySelector('.dolphin-showcase');
            if (!showcase) return;
            
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = Math.random() * 100 + '%';
            sparkle.style.top = Math.random() * 100 + '%';
            sparkle.style.animationDelay = Math.random() * 2 + 's';
            
            showcase.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // ÊØè3ÁßíÂàõÂª∫Èó™ÂÖâ
        setInterval(createSparkles, 3000);

        // Âç°ÁâáÁÇπÂáª‰∫ã‰ª∂
        function openCard(cardType) {
            switch(cardType) {
                case 'emotion':
                    showLoadingAndJump('emotion');
                    break;
                case 'environment':
                    showLoadingAndJump('environment');
                    break;
                case 'food':
                    showLoadingAndJump('food');
                    break;
                case 'friends':
                    showLoadingAndJump('friends');
                    break;
                case 'harmony':
                    showLoadingAndJump('harmony');
                    break;
            }
        }

        // ÊòæÁ§∫Âä†ËΩΩÊïàÊûúÂπ∂Ë∑≥ËΩ¨
        function showLoadingAndJump(cardType) {
            // ÂàõÂª∫Âä†ËΩΩÈÅÆÁΩ©
            const loadingOverlay = document.createElement('div');
            loadingOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #74b9ff, #0984e3);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            const cardNames = {
                emotion: 'ÊÉÖÁª™Ëâ≤ÂΩ©Âç°',
                environment: 'ÁéØ‰øùÂàÜÁ±ªÂç°',
                food: 'ÊπæÂå∫ÁæéÈ£üÂç°',
                friends: 'Êµ∑Â∫ïÊúãÂèãÂç°',
                harmony: 'ÂÖ±Áîü‰∫íÂä®Âç°'
            };
            
            loadingOverlay.innerHTML = `
                <div style="text-align: center; color: white;">
                    <div style="position: relative; width: 80px; height: 80px; margin: 0 auto 30px auto;">
                        <div style="
                            width: 60px; 
                            height: 40px; 
                            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                            border-radius: 30px 10px 30px 20px; 
                            position: absolute; 
                            top: 20px; 
                            left: 10px;
                            animation: loading-swim 2s ease-in-out infinite;
                            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                        "></div>
                        <div style="
                            width: 8px; 
                            height: 8px; 
                            background: #2d3436; 
                            border-radius: 50%; 
                            position: absolute; 
                            top: 30px; 
                            left: 25px;
                            animation: loading-swim 2s ease-in-out infinite;
                        "></div>
                        <div style="
                            width: 15px; 
                            height: 25px; 
                            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                            border-radius: 8px; 
                            position: absolute; 
                            top: 15px; 
                            left: 25px; 
                            transform: rotate(-20deg);
                            animation: loading-swim 2s ease-in-out infinite;
                        "></div>
                        <div style="
                            width: 20px; 
                            height: 25px; 
                            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                            border-radius: 10px; 
                            position: absolute; 
                            top: 25px; 
                            right: 5px; 
                            transform: rotate(45deg);
                            animation: loading-tail 1.5s ease-in-out infinite;
                            transform-origin: left center;
                        "></div>
                    </div>
                    <h2 style="font-size: 1.5em; margin-bottom: 10px;">ÊπæÊπæÊ≠£Âú®ÂáÜÂ§á${cardNames[cardType]}...</h2>
                    <p style="font-size: 1em; opacity: 0.8;">Âç≥Â∞ÜËøõÂÖ•Â•áÂ¶ôÁöÑ‰∏ñÁïå</p>
                </div>
                <style>
                    @keyframes loading-swim {
                        0%, 100% { transform: translateY(0px) rotate(0deg); }
                        50% { transform: translateY(-8px) rotate(2deg); }
                    }
                    @keyframes loading-tail {
                        0%, 100% { transform: rotate(45deg); }
                        50% { transform: rotate(25deg); }
                    }
                </style>
            `;
            
            document.body.appendChild(loadingOverlay);
            
            // ÊòæÁ§∫Âä†ËΩΩÁïåÈù¢
            setTimeout(() => {
                loadingOverlay.style.opacity = '1';
            }, 10);
            
            // 2ÁßíÂêéË∑≥ËΩ¨
            setTimeout(() => {
                loadingOverlay.remove();
                showPage(cardType + 'Page');
                
                // ÂàùÂßãÂåñÂØπÂ∫îÁöÑÊ∏∏Êàè
                if (cardType === 'environment') {
                    initEnvironmentGame();
                } else if (cardType === 'emotion') {
                    initEmotionCard();
                } else if (cardType === 'food') {
                    initFoodGame();
                } else if (cardType === 'friends') {
                    initFriendsGame();
                } else if (cardType === 'harmony') {
                    initHarmonyGames();
                }
            }, 2000);
        }

        // ======= ÊÉÖÁª™Ëâ≤ÂΩ©Âç°ÈÄªËæë =======
        function initEmotionCard() {
            // ÊÉÖÁª™Êï∞ÊçÆ
            const emotions = {
                happy: {
                    color: 'happy',
                    text: 'ÂºÄÂøÉÁöÑÊπæÊπæÂèòÊàê‰∫ÜÁèçÁè†ÁôΩËâ≤ÔºÅ‚ú® Â∞±ÂÉèÁè†Ê±üÂè£ÁöÑÊµ™Ëä±‰∏ÄÊ†∑Á∫ØÂáÄÁæé‰∏ΩÔºÅ',
                    animation: 'bounce'
                },
                excited: {
                    color: 'excited',
                    text: 'ÂÖ¥Â•ãÁöÑÊπæÊπæÂèòÊàê‰∫ÜÊ®±Ëä±Á≤âÔºÅüå∏ Á≤âÂòüÂòüÁöÑÂ•ΩÂèØÁà±ÔºåÂÉè‰∏™ÂÆ≥ÁæûÁöÑÂ∞èÂÖ¨‰∏ªÔºÅ',
                    animation: 'spin'
                },
                angry: {
                    color: 'angry',
                    text: 'ÁîüÊ∞îÁöÑÊπæÊπæÂèòÊàê‰∫ÜÊÑ§ÊÄíÁöÑÁ≤âÁ∫¢Ëâ≤ÔºÅüò§ ÂìºÔºÅ‰∏ÄÂÆöÊòØÊúâ‰∫∫‰π±‰∏¢ÂûÉÂúæ‰∫ÜÔºÅ',
                    animation: 'shake'
                },
                sad: {
                    color: 'sad',
                    text: 'ÈöæËøáÁöÑÊπæÊπæÂèòÊàê‰∫ÜÊ∑±Êµ∑Ëìù... üò¢ ÊòØ‰∏çÊòØÁúãÂà∞Êµ∑ÈáåÁöÑÂûÉÂúæÂ§™Â§ö‰∫ÜÂë¢Ôºü',
                    animation: 'droop'
                }
            };
            
            // ÂèòÊç¢ÊÉÖÁª™ÂáΩÊï∞
            window.changeEmotion = function(emotion) {
                const dolphin = document.getElementById('dolphin');
                const description = document.getElementById('description');
                
                if (!dolphin || !description) return;
                
                // ÁßªÈô§ÊâÄÊúâÊÉÖÁª™Á±ª
                dolphin.className = 'dolphin';
                
                // Ê∑ªÂä†Êñ∞ÁöÑÊÉÖÁª™È¢úËâ≤
                setTimeout(() => {
                    dolphin.classList.add(emotions[emotion].color);
                    description.textContent = emotions[emotion].text;
                    
                    // Ê∑ªÂä†Âä®ÁîªÊïàÊûú
                    playEmotionAnimation(emotions[emotion].animation);
                    
                    // ÂàõÂª∫È≠îÊ≥ïÁ≤íÂ≠êÊïàÊûú
                    createMagicParticles();
                }, 100);
            };
            
            // Êí≠ÊîæÊÉÖÁª™Âä®Áîª
            function playEmotionAnimation(animationType) {
                const dolphin = document.getElementById('dolphin');
                if (!dolphin) return;
                
                const currentSwimAnimation = 'swim 4s ease-in-out infinite';
                
                // Ëé∑ÂèñÂΩìÂâçÂèòÊç¢Áä∂ÊÄÅÔºåÂπ≥ÊªëËøáÊ∏°
                const currentTransform = window.getComputedStyle(dolphin).transform;
                
                // ‰∏¥Êó∂ÂÅúÊ≠¢Ê∏∏Ê≥≥Âä®ÁîªÔºå‰øùÊåÅÂΩìÂâç‰ΩçÁΩÆ
                dolphin.style.animation = 'none';
                dolphin.style.transform = currentTransform;
                
                // Á®çÂæÆÂª∂ËøüÂêéÂºÄÂßãÊñ∞Âä®ÁîªÔºåÁ°Æ‰øùÂπ≥ÊªëËøáÊ∏°
                setTimeout(() => {
                    // ÈáçÁΩÆÂèòÊç¢ÔºåËÆ©CSSÂä®ÁîªÊé•ÁÆ°
                    dolphin.style.transform = '';
                    
                    switch(animationType) {
                        case 'bounce':
                            dolphin.style.animation = currentSwimAnimation + ', bounce 0.5s ease-in-out 3';
                            break;
                        case 'spin':
                            dolphin.style.animation = currentSwimAnimation + ', spin 1s linear 1';
                            break;
                        case 'shake':
                            dolphin.style.animation = currentSwimAnimation + ', shake 0.8s ease-in-out 3';
                            break;
                        case 'droop':
                            dolphin.style.animation = currentSwimAnimation + ', droop 2.5s ease-out 2';
                            break;
                    }
                }, 100);
                
                // ÊÅ¢Â§çÈªòËÆ§Ê∏∏Ê≥≥Âä®ÁîªÔºå‰ΩøÁî®Êõ¥ÈïøÁöÑËøáÊ∏°Êó∂Èó¥Á°Æ‰øùÂπ≥Êªë
                setTimeout(() => {
                    // ÂÖàËé∑ÂèñÂΩìÂâçÁä∂ÊÄÅ
                    const finalTransform = window.getComputedStyle(dolphin).transform;
                    dolphin.style.animation = 'none';
                    dolphin.style.transform = finalTransform;
                    
                    // Âπ≥ÊªëËøáÊ∏°ÂõûÈªòËÆ§Âä®Áîª
                    setTimeout(() => {
                        dolphin.style.transition = 'transform 0.5s ease-out';
                        dolphin.style.transform = '';
                        
                        // ÊÅ¢Â§çÊ∏∏Ê≥≥Âä®Áîª
                        setTimeout(() => {
                            dolphin.style.transition = '';
                            dolphin.style.animation = currentSwimAnimation;
                        }, 500);
                    }, 50);
                }, 3000);
            }
            
            // ÂàõÂª∫È≠îÊ≥ïÁ≤íÂ≠ê
            function createMagicParticles() {
                const colors = ['#ff7675', '#74b9ff', '#00b894', '#fdcb6e', '#fd79a8'];
                const dolphinContainer = document.querySelector('.dolphin-container');
                
                if (!dolphinContainer) return;
                
                for(let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'magic-particle';
                        particle.style.cssText = `
                            position: absolute;
                            width: 4px;
                            height: 4px;
                            border-radius: 50%;
                            animation: sparkle 2s ease-out forwards;
                            pointer-events: none;
                            z-index: 100;
                        `;
                        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                        particle.style.left = Math.random() * 160 + 'px';
                        particle.style.top = Math.random() * 80 + 100 + 'px';
                        
                        dolphinContainer.appendChild(particle);
                        
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.remove();
                            }
                        }, 2000);
                    }, i * 200);
                }
            }
            
            // ÁÇπÂáªÊµ∑Ë±öÈöèÊú∫ÂèòËâ≤
            const dolphin = document.getElementById('dolphin');
            if (dolphin) {
                dolphin.addEventListener('click', () => {
                    const emotionKeys = Object.keys(emotions);
                    const randomEmotion = emotionKeys[Math.floor(Math.random() * emotionKeys.length)];
                    changeEmotion(randomEmotion);
                });
            }
        }

        // ======= ÁéØ‰øùÂàÜÁ±ªÊ∏∏ÊàèÈÄªËæë =======
        let envGameState = {
            score: 0,
            totalAttempts: 0,
            correctAttempts: 0,
            selectedTrash: null,
            totalItems: 12,
            completedItems: 0
        };

        function initEnvironmentGame() {
            // ÈáçÁΩÆÊ∏∏ÊàèÁä∂ÊÄÅ
            envGameState = {
                score: 0,
                totalAttempts: 0,
                correctAttempts: 0,
                selectedTrash: null,
                totalItems: 12,
                completedItems: 0
            };
            updateEnvScore();
            updateEnvProgress();
        }

        function selectEnvTrash(element) {
            const bins = document.querySelectorAll('#environmentPage .region-btn');
            const gameTitle = document.getElementById('envGameTitle');
            const guideText = document.getElementById('envGuideText');
            
            // Â¶ÇÊûúÁÇπÂáªÁöÑÊòØÂ∑≤ÁªèÈÄâ‰∏≠ÁöÑÂûÉÂúæÔºåÂèñÊ∂àÈÄâÊã©
            if (envGameState.selectedTrash === element) {
                element.classList.remove('selected');
                envGameState.selectedTrash = null;
                bins.forEach(bin => bin.classList.remove('highlight'));
                gameTitle.textContent = 'ÁÇπÂáªÂûÉÂúæËøõË°åÂàÜÁ±ª';
                guideText.textContent = '‰Ω†Â•ΩÔºÅÊàëÊòØÊπæÊπæüê¨ ËÆ©Êàë‰ª¨‰∏ÄËµ∑Â≠¶‰π†ÂûÉÂúæÂàÜÁ±ªÔºå‰øùÊä§Áæé‰∏ΩÁöÑÊµ∑Ê¥ãÂêßÔºÅ';
                return;
            }
            
            // ÁßªÈô§ÊâÄÊúâÂûÉÂúæÁöÑÈÄâ‰∏≠Áä∂ÊÄÅ
            document.querySelectorAll('#environmentPage .food-item').forEach(t => t.classList.remove('selected'));
            
            // ÈÄâ‰∏≠ÂΩìÂâçÂûÉÂúæ
            element.classList.add('selected');
            envGameState.selectedTrash = element;
            
            // È´ò‰∫ÆÂûÉÂúæÊ°∂
            bins.forEach(bin => bin.classList.add('highlight'));
            
            // Êõ¥Êñ∞ÊåáÂØºÊñáÊú¨
            const itemName = element.getAttribute('data-name');
            gameTitle.textContent = `Â∞Ü${itemName}ÊãñÂà∞Ê≠£Á°ÆÁöÑÂûÉÂúæÊ°∂`;
            guideText.textContent = `ÊÉ≥ÊÉ≥ÁúãÔºå${itemName}Â∫îËØ•ÊîæÂú®Âì™‰∏™ÂûÉÂúæÊ°∂ÈáåÂë¢Ôºüü§î`;
        }

        function dropEnvTrash(binType) {
            const bins = document.querySelectorAll('#environmentPage .region-btn');
            const gameTitle = document.getElementById('envGameTitle');
            const guideText = document.getElementById('envGuideText');
            
            if (!envGameState.selectedTrash) {
                showFeedback('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ÂûÉÂúæÁâ©ÂìÅÂì¶ÔºÅü§î', 'incorrect');
                return;
            }

            const selectedType = envGameState.selectedTrash.getAttribute('data-type');
            const itemName = envGameState.selectedTrash.getAttribute('data-name');

            envGameState.totalAttempts++;

            if (selectedType === binType) {
                // Ê≠£Á°ÆÂàÜÁ±ª
                envGameState.score += 10;
                envGameState.correctAttempts++;
                envGameState.completedItems++;
                
                updateEnvScore();
                showFeedback(`Â§™Ê£í‰∫ÜÔºÅ${itemName}ÂàÜÁ±ªÊ≠£Á°ÆÔºÅÊπæÊπæ‰∏∫‰Ω†ÁÇπËµûÔºÅüê¨‚ú®`, 'correct');
                
                // Ê∂àÂ§±Âä®Áîª
                envGameState.selectedTrash.style.animation = 'disappear 0.8s ease-in-out forwards';
                
                setTimeout(() => {
                    envGameState.selectedTrash.remove();
                    checkEnvGameComplete();
                }, 800);
                
                // Êõ¥Êñ∞ÊåáÂØºÊñáÊú¨
                guideText.textContent = `Â§™Ê£í‰∫ÜÔºÅ${itemName}ÂàÜÁ±ªÊ≠£Á°ÆÔºÅüéâ`;
                
            } else {
                // ÈîôËØØÂàÜÁ±ª
                showFeedback(`${itemName}‰∏çÂ∫îËØ•ÊîæÂú®ËøôÈáåÂì¶ÔºåÂÜçÊÉ≥ÊÉ≥ÁúãÔºÅü§®`, 'incorrect');
                envGameState.selectedTrash.style.animation = 'shake 0.6s ease-in-out';
                
                setTimeout(() => {
                    envGameState.selectedTrash.style.animation = '';
                }, 600);
                
                // Êõ¥Êñ∞ÊåáÂØºÊñáÊú¨
                guideText.textContent = `${itemName}‰∏çÂ∫îËØ•ÊîæÂú®ËøôÈáåÂì¶ÔºåÂÜçÊÉ≥ÊÉ≥ÁúãÔºÅü§®`;
                updateEnvScore();
            }

            // ÈáçÁΩÆÁä∂ÊÄÅ
            envGameState.selectedTrash.classList.remove('selected');
            envGameState.selectedTrash = null;
            bins.forEach(b => b.classList.remove('highlight'));
            gameTitle.textContent = 'ÁÇπÂáªÂûÉÂúæËøõË°åÂàÜÁ±ª';
            
            // Âª∂ËøüÊÅ¢Â§çÊåáÂØºÊñáÊú¨Âà∞ÈªòËÆ§Áä∂ÊÄÅ
            setTimeout(() => {
                if (!envGameState.selectedTrash) {
                    guideText.textContent = 'ÈÄâÊã©‰∏Ä‰∏™ÂûÉÂúæÁâ©ÂìÅÂºÄÂßãÂàÜÁ±ªÂêßÔºÅüåä';
                }
            }, 2000);
            
            updateEnvProgress();
        }

        function checkEnvGameComplete() {
            if (envGameState.completedItems >= envGameState.totalItems) {
                setTimeout(() => {
                    const accuracy = Math.round((envGameState.correctAttempts / envGameState.totalAttempts) * 100);
                    const guideText = document.getElementById('envGuideText');
                    const gameTitle = document.getElementById('envGameTitle');
                    
                    guideText.textContent = `üéâ ÊÅ≠ÂñúÂÆåÊàêÔºÅÂæóÂàÜÔºö${envGameState.score}ÔºåÊ≠£Á°ÆÁéáÔºö${accuracy}%ÔºÅÊπæÊπæ‰∏∫‰Ω†È™ÑÂÇ≤ÔºÅüê¨`;
                    gameTitle.textContent = 'üèÜ Ê∏∏ÊàèÂÆåÊàêÔºÅ';
                    
                    createCelebration();
                }, 1000);
            }
        }

        function updateEnvScore() {
            const scoreElement = document.getElementById('envScore');
            const accuracyElement = document.getElementById('envAccuracy');
            
            if (scoreElement) scoreElement.textContent = envGameState.score;
            if (accuracyElement) {
                const accuracy = envGameState.totalAttempts > 0 
                    ? Math.round((envGameState.correctAttempts / envGameState.totalAttempts) * 100) 
                    : 0;
                accuracyElement.textContent = accuracy + '%';
            }
        }

        function updateEnvProgress() {
            const progressBar = document.getElementById('envProgressBar');
            if (progressBar) {
                const progress = (envGameState.completedItems / envGameState.totalItems) * 100;
                progressBar.style.width = progress + '%';
            }
        }

        // ======= ÊπæÂå∫ÁæéÈ£üÊ∏∏ÊàèÈÄªËæë =======
        let foodGameState = {
            mode: 'region',
            score: 0,
            totalAttempts: 0,
            correctAttempts: 0,
            selectedFood: null,
            totalItems: 0,
            completedItems: 0,
            foods: [],
            currentRound: 0
        };

        // ÁæéÈ£üÊï∞ÊçÆ
        const foodData = {
            region: [
                { name: 'ËõãÊåû', emoji: 'ü•ß', region: 'hongkong', description: 'Ê∏ØÂºèËå∂È§êÂéÖÂøÖÁÇπÁîúÂìÅ' },
                { name: 'Ëè†ËêùÂåÖ', emoji: 'üçû', region: 'hongkong', description: 'È¶ôÊ∏ØÁªèÂÖ∏Èù¢ÂåÖ' },
                { name: 'Â•∂Ëå∂', emoji: 'üßã', region: 'hongkong', description: 'Ê∏ØÂºè‰∏ùË¢úÂ•∂Ëå∂' },
                { name: '‰∫ëÂêûÈù¢', emoji: 'üçú', region: 'hongkong', description: 'Ê∏ØÂºèÁªèÂÖ∏Èù¢È£ü' },
                
                { name: 'ÂèâÁÉßÂåÖ', emoji: 'ü•ü', region: 'guangzhou', description: 'ÂπøÂºèÁÇπÂøÉ‰πãÁéã' },
                { name: 'ËôæÈ•∫', emoji: 'ü•ü', region: 'guangzhou', description: 'ÂπøÂºèÊó©Ëå∂ÁªèÂÖ∏' },
                { name: 'ÁÉßÈπÖ', emoji: 'ü¶Ü', region: 'guangzhou', description: 'ÂπøÂºèÁÉßËÖä‰ª£Ë°®' },
                { name: 'ÁÖ≤‰ªîÈ•≠', emoji: 'üçö', region: 'guangzhou', description: 'ÂπøÂ∑ûÁâπËâ≤Á±≥È•≠' },
                
                { name: 'Êæ≥Èó®ËõãÊåû', emoji: 'üßÅ', region: 'macau', description: 'Êæ≥Èó®ÁâπËâ≤ÁîúÂìÅ' },
                { name: 'Áå™ÊâíÂåÖ', emoji: 'ü•™', region: 'macau', description: 'Êæ≥Èó®Ë°óÂ§¥ÁæéÈ£ü' },
                { name: 'Êú®Á≥†Â∏É‰∏Å', emoji: 'üçÆ', region: 'macau', description: 'Êæ≥Èó®ÁªèÂÖ∏ÁîúÂìÅ' },
                { name: 'Ëë°Êåû', emoji: 'ü•ß', region: 'macau', description: 'Êæ≥ÂºèËë°ÂºèËõãÊåû' },
                
                { name: 'Ê§∞Â≠êÈ∏°', emoji: 'ü••', region: 'shenzhen', description: 'Ê∑±Âú≥ÂàõÊñ∞ÁæéÈ£ü' },
                { name: 'ÊΩÆÊ±ïÁâõËÇâÁÅ´ÈîÖ', emoji: 'üç≤', region: 'shenzhen', description: 'Ê∑±Âú≥ÊµÅË°åÁÅ´ÈîÖ' },
                { name: 'ÂÆ¢ÂÆ∂ÁõêÁÑóÈ∏°', emoji: 'üêî', region: 'shenzhen', description: 'Ê∑±Âú≥ÂÆ¢ÂÆ∂Ëèú' },
                { name: 'Êµ∑È≤úÁ≤•', emoji: 'üç≤', region: 'shenzhen', description: 'Ê∑±Âú≥Êµ∑È≤úÁâπËâ≤' }
            ],
            ingredient: [
                { name: 'ÂèâÁÉß', emoji: 'ü•ì', dish: 'char_siu_bao', description: 'ÂπøÂºèÂèâÁÉßÂåÖÁöÑ‰∏ªÊñô' },
                { name: 'Ëôæ‰ªÅ', emoji: 'ü¶ê', dish: 'har_gow', description: 'ËôæÈ•∫ÁöÑÊ†∏ÂøÉÈ£üÊùê' },
                { name: 'ÁâõÂ•∂', emoji: 'ü•õ', dish: 'milk_tea', description: 'Â•∂Ëå∂ÁöÑÈáçË¶ÅÊàêÂàÜ' },
                { name: 'È∏°Ëõã', emoji: 'ü•ö', dish: 'egg_tart', description: 'ËõãÊåûÁöÑ‰∏ªË¶ÅÂéüÊñô' },
                { name: 'Ê§∞Â≠ê', emoji: 'ü••', dish: 'coconut_chicken', description: 'Ê§∞Â≠êÈ∏°ÁöÑÁâπËâ≤È£üÊùê' },
                { name: 'Áå™Êéí', emoji: 'ü•©', dish: 'pork_chop_bun', description: 'Áå™ÊâíÂåÖÁöÑ‰∏ªË¶ÅÈ£üÊùê' }
            ],
            dishes: [
                { id: 'char_siu_bao', name: 'ÂèâÁÉßÂåÖ', emoji: 'ü•ü' },
                { id: 'har_gow', name: 'ËôæÈ•∫', emoji: 'ü•ü' },
                { id: 'milk_tea', name: 'Â•∂Ëå∂', emoji: 'üßã' },
                { id: 'egg_tart', name: 'ËõãÊåû', emoji: 'ü•ß' },
                { id: 'coconut_chicken', name: 'Ê§∞Â≠êÈ∏°', emoji: 'ü••' },
                { id: 'pork_chop_bun', name: 'Áå™ÊâíÂåÖ', emoji: 'ü•™' }
            ]
        };

        function initFoodGame() {
            foodGameState = {
                mode: 'region',
                score: 0,
                totalAttempts: 0,
                correctAttempts: 0,
                selectedFood: null,
                totalItems: 0,
                completedItems: 0,
                foods: [],
                currentRound: 0
            };
            switchFoodMode('region');
        }

        function switchFoodMode(mode) {
            foodGameState.mode = mode;
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('#foodPage .mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`#foodPage [data-mode="${mode}"]`).classList.add('active');
            
            // ÊòæÁ§∫ÂØπÂ∫îÊ®°Âºè
            document.getElementById('regionMode').style.display = mode === 'region' ? 'block' : 'none';
            document.getElementById('ingredientMode').style.display = mode === 'ingredient' ? 'block' : 'none';
            
            // ÈáçÁΩÆÊ∏∏ÊàèÁä∂ÊÄÅ
            resetFoodGame();
            
            if (mode === 'region') {
                initFoodRegionMode();
            } else {
                initFoodIngredientMode();
            }
        }

        function resetFoodGame() {
            foodGameState.score = 0;
            foodGameState.totalAttempts = 0;
            foodGameState.correctAttempts = 0;
            foodGameState.selectedFood = null;
            foodGameState.completedItems = 0;
            foodGameState.currentRound = 0;
            updateFoodScore();
            updateFoodProgress();
        }

        function initFoodRegionMode() {
            const container = document.getElementById('foodContainer');
            container.innerHTML = '';
            
            // ÈÄâÊã©6‰∏™ÈöèÊú∫ÁæéÈ£ü
            const shuffledFoods = [...foodData.region].sort(() => Math.random() - 0.5).slice(0, 6);
            foodGameState.foods = shuffledFoods;
            foodGameState.totalItems = shuffledFoods.length;
            
            shuffledFoods.forEach((food, index) => {
                const foodElement = document.createElement('div');
                foodElement.className = 'food-item';
                foodElement.setAttribute('data-region', food.region);
                foodElement.setAttribute('data-index', index);
                foodElement.innerHTML = `
                    <div class="food-emoji">${food.emoji}</div>
                    <div class="food-name">${food.name}</div>
                `;
                foodElement.addEventListener('click', () => selectFoodItem(foodElement));
                container.appendChild(foodElement);
            });
            
            document.getElementById('foodGuideText').textContent = 'ÈÄâÊã©‰∏Ä‰∏™ÁæéÈ£üÔºåÁÑ∂ÂêéÁÇπÂáª‰Ω†ËÆ§‰∏∫ÂÆÉÊù•Ëá™ÁöÑÂú∞Âå∫ÔºÅ';
            document.getElementById('foodGameTitle').textContent = 'ÈÄâÊã©ÁæéÈ£üÔºåÁåúÁåúÂÆÉÊù•Ëá™Âì™‰∏™Âú∞Âå∫Ôºü';
        }

        function initFoodIngredientMode() {
            const ingredientContainer = document.getElementById('ingredientContainer');
            const dishContainer = document.getElementById('dishContainer');
            
            ingredientContainer.innerHTML = '';
            dishContainer.innerHTML = '';
            
            // ÈÄâÊã©6‰∏™È£üÊùê
            const shuffledIngredients = [...foodData.ingredient].sort(() => Math.random() - 0.5);
            foodGameState.foods = shuffledIngredients;
            foodGameState.totalItems = shuffledIngredients.length;
            
            shuffledIngredients.forEach((ingredient, index) => {
                const ingredientElement = document.createElement('div');
                ingredientElement.className = 'food-item';
                ingredientElement.setAttribute('data-dish', ingredient.dish);
                ingredientElement.setAttribute('data-index', index);
                ingredientElement.innerHTML = `
                    <div class="food-emoji">${ingredient.emoji}</div>
                    <div class="food-name">${ingredient.name}</div>
                `;
                ingredientElement.addEventListener('click', () => selectFoodItem(ingredientElement));
                ingredientContainer.appendChild(ingredientElement);
            });
            
            // ÁîüÊàêÂØπÂ∫îÁöÑËèúÂìÅ
            foodData.dishes.forEach(dish => {
                const dishElement = document.createElement('div');
                dishElement.className = 'region-btn';
                dishElement.style.background = 'linear-gradient(135deg, #a29bfe, #6c5ce7)';
                dishElement.setAttribute('data-dish', dish.id);
                dishElement.innerHTML = `
                    <div class="region-emoji">${dish.emoji}</div>
                    <div class="region-name">${dish.name}</div>
                `;
                dishElement.addEventListener('click', () => selectFoodDish(dish.id));
                dishContainer.appendChild(dishElement);
            });
            
            document.getElementById('foodGuideText').textContent = 'ÈÄâÊã©‰∏Ä‰∏™È£üÊùêÔºåÁÑ∂ÂêéÁÇπÂáªÂÆÉÂ±û‰∫éÁöÑËèúÂìÅÔºÅ';
            document.getElementById('foodGameTitle').textContent = 'Â∞ÜÈ£üÊùê‰∏éÂØπÂ∫îÁöÑËèúÂìÅÈÖçÂØπ';
        }

        function selectFoodItem(element) {
            const items = document.querySelectorAll('#foodPage .food-item');
            const buttons = document.querySelectorAll('#foodPage .region-btn');
            const gameTitle = document.getElementById('foodGameTitle');
            const guideText = document.getElementById('foodGuideText');
            
            if (foodGameState.selectedFood === element) {
                element.classList.remove('selected');
                foodGameState.selectedFood = null;
                buttons.forEach(btn => btn.classList.remove('highlight'));
                if (foodGameState.mode === 'region') {
                    gameTitle.textContent = 'ÈÄâÊã©ÁæéÈ£üÔºåÁåúÁåúÂÆÉÊù•Ëá™Âì™‰∏™Âú∞Âå∫Ôºü';
                    guideText.textContent = 'ÈÄâÊã©‰∏Ä‰∏™ÁæéÈ£üÔºåÁÑ∂ÂêéÁÇπÂáª‰Ω†ËÆ§‰∏∫ÂÆÉÊù•Ëá™ÁöÑÂú∞Âå∫ÔºÅ';
                } else {
                    gameTitle.textContent = 'Â∞ÜÈ£üÊùê‰∏éÂØπÂ∫îÁöÑËèúÂìÅÈÖçÂØπ';
                    guideText.textContent = 'ÈÄâÊã©‰∏Ä‰∏™È£üÊùêÔºåÁÑ∂ÂêéÁÇπÂáªÂÆÉÂ±û‰∫éÁöÑËèúÂìÅÔºÅ';
                }
                return;
            }
            
            items.forEach(f => f.classList.remove('selected'));
            element.classList.add('selected');
            foodGameState.selectedFood = element;
            
            buttons.forEach(btn => btn.classList.add('highlight'));
            
            const foodIndex = parseInt(element.getAttribute('data-index'));
            const itemName = foodGameState.foods[foodIndex].name;
            if (foodGameState.mode === 'region') {
                gameTitle.textContent = `${itemName}Êù•Ëá™Âì™‰∏™Âú∞Âå∫Ôºü`;
                guideText.textContent = `${itemName}ÊòØÂì™‰∏™Âú∞Âå∫ÁöÑÁâπËâ≤ÁæéÈ£üÂë¢Ôºüü§î`;
            } else {
                gameTitle.textContent = `${itemName}ÊòØÂì™ÈÅìËèúÁöÑÈ£üÊùêÔºü`;
                guideText.textContent = `${itemName}ÈÄöÂ∏∏Áî®Êù•Âà∂‰ΩúÂì™ÈÅìËèúÂë¢Ôºüü§î`;
            }
        }

        function selectFoodRegion(region) {
            if (!foodGameState.selectedFood) {
                showFeedback('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ÁæéÈ£üÂì¶ÔºÅü§î', 'incorrect');
                return;
            }

            const correctRegion = foodGameState.selectedFood.getAttribute('data-region');
            const foodIndex = parseInt(foodGameState.selectedFood.getAttribute('data-index'));
            const food = foodGameState.foods[foodIndex];

            foodGameState.totalAttempts++;

            if (region === correctRegion) {
                handleFoodCorrectAnswer(food.name, getRegionName(region));
            } else {
                handleFoodIncorrectAnswer(food.name, getRegionName(region));
            }
        }

        function selectFoodDish(dishId) {
            if (!foodGameState.selectedFood) {
                showFeedback('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™È£üÊùêÂì¶ÔºÅü§î', 'incorrect');
                return;
            }

            const correctDish = foodGameState.selectedFood.getAttribute('data-dish');
            const foodIndex = parseInt(foodGameState.selectedFood.getAttribute('data-index'));
            const ingredient = foodGameState.foods[foodIndex];

            foodGameState.totalAttempts++;

            const dishName = foodData.dishes.find(d => d.id === dishId)?.name || '';

            if (dishId === correctDish) {
                handleFoodCorrectAnswer(ingredient.name, dishName);
            } else {
                handleFoodIncorrectAnswer(ingredient.name, dishName);
            }
        }

        function handleFoodCorrectAnswer(itemName, targetName) {
            foodGameState.score += 10;
            foodGameState.correctAttempts++;
            foodGameState.completedItems++;
            
            updateFoodScore();
            showFeedback(`Â§™Ê£í‰∫ÜÔºÅ${itemName}Á°ÆÂÆûÊù•Ëá™${targetName}ÔºÅÊπæÊπæ‰∏∫‰Ω†ÁÇπËµûÔºÅüê¨‚ú®`, 'correct');
            
            foodGameState.selectedFood.style.animation = 'disappear 0.8s ease-in-out forwards';
            
            setTimeout(() => {
                foodGameState.selectedFood.remove();
                checkFoodGameComplete();
            }, 800);
            
            document.getElementById('foodGuideText').textContent = `Â§™Ê£í‰∫ÜÔºÅ${itemName}Á°ÆÂÆûÊù•Ëá™${targetName}ÔºÅüéâ`;
            resetFoodSelection();
        }

        function handleFoodIncorrectAnswer(itemName, targetName) {
            showFeedback(`${itemName}‰∏çÊòØ${targetName}ÁöÑÁâπËâ≤Âì¶ÔºåÂÜçÊÉ≥ÊÉ≥ÁúãÔºÅü§®`, 'incorrect');
            foodGameState.selectedFood.style.animation = 'shake 0.6s ease-in-out';
            
            setTimeout(() => {
                foodGameState.selectedFood.style.animation = '';
            }, 600);
            
            document.getElementById('foodGuideText').textContent = `${itemName}‰∏çÊòØ${targetName}ÁöÑÁâπËâ≤Âì¶ÔºåÂÜçÊÉ≥ÊÉ≥ÁúãÔºÅü§®`;
            updateFoodScore();
            resetFoodSelection();
        }

        function resetFoodSelection() {
            if (foodGameState.selectedFood) {
                foodGameState.selectedFood.classList.remove('selected');
            }
            foodGameState.selectedFood = null;
            
            document.querySelectorAll('#foodPage .region-btn').forEach(btn => {
                btn.classList.remove('highlight');
            });
            
            if (foodGameState.mode === 'region') {
                document.getElementById('foodGameTitle').textContent = 'ÈÄâÊã©ÁæéÈ£üÔºåÁåúÁåúÂÆÉÊù•Ëá™Âì™‰∏™Âú∞Âå∫Ôºü';
            } else {
                document.getElementById('foodGameTitle').textContent = 'Â∞ÜÈ£üÊùê‰∏éÂØπÂ∫îÁöÑËèúÂìÅÈÖçÂØπ';
            }
            
            setTimeout(() => {
                if (!foodGameState.selectedFood) {
                    if (foodGameState.mode === 'region') {
                        document.getElementById('foodGuideText').textContent = 'ÈÄâÊã©‰∏Ä‰∏™ÁæéÈ£üÔºåÁÑ∂ÂêéÁÇπÂáª‰Ω†ËÆ§‰∏∫ÂÆÉÊù•Ëá™ÁöÑÂú∞Âå∫ÔºÅ';
                    } else {
                        document.getElementById('foodGuideText').textContent = 'ÈÄâÊã©‰∏Ä‰∏™È£üÊùêÔºåÁÑ∂ÂêéÁÇπÂáªÂÆÉÂ±û‰∫éÁöÑËèúÂìÅÔºÅ';
                    }
                }
            }, 2000);
            
            updateFoodProgress();
        }

        function checkFoodGameComplete() {
            if (foodGameState.completedItems >= foodGameState.totalItems) {
                setTimeout(() => {
                    const accuracy = Math.round((foodGameState.correctAttempts / foodGameState.totalAttempts) * 100);
                    document.getElementById('foodGuideText').textContent = `üéâ ÊÅ≠ÂñúÂÆåÊàêÔºÅÂæóÂàÜÔºö${foodGameState.score}ÔºåÊ≠£Á°ÆÁéáÔºö${accuracy}%ÔºÅÊπæÊπæ‰∏∫‰Ω†ÁöÑÁæéÈ£üÁü•ËØÜÁÇπËµûÔºÅüê¨`;
                    document.getElementById('foodGameTitle').textContent = 'üèÜ Ê∏∏ÊàèÂÆåÊàêÔºÅ‰Ω†ÊòØÁæéÈ£ü‰∏ìÂÆ∂ÔºÅ';
                    createCelebration();
                }, 1000);
            }
        }

        function updateFoodScore() {
            document.getElementById('foodScore').textContent = foodGameState.score;
            const accuracy = foodGameState.totalAttempts > 0 
                ? Math.round((foodGameState.correctAttempts / foodGameState.totalAttempts) * 100) 
                : 0;
            document.getElementById('foodAccuracy').textContent = accuracy + '%';
        }

        function updateFoodProgress() {
            const progress = (foodGameState.completedItems / foodGameState.totalItems) * 100;
            document.getElementById('foodProgressBar').style.width = progress + '%';
        }

        function getRegionName(region) {
            const names = {
                'hongkong': 'È¶ôÊ∏Ø',
                'guangzhou': 'ÂπøÂ∑û',
                'macau': 'Êæ≥Èó®',
                'shenzhen': 'Ê∑±Âú≥'
            };
            return names[region] || region;
        }

        // ======= Êµ∑Â∫ïÊúãÂèãÂç°ÈÄªËæë =======
        const friendsData = {
            dolphin: {
                name: '‰∏≠ÂçéÁôΩÊµ∑Ë±öÔºàÊπæÊπæÔºâ',
                emoji: 'üê¨',
                knowledge: {
                    'üí´ Ëá™Êàë‰ªãÁªç': 'Â§ßÂÆ∂Â•ΩÔºåÊàëÊòØÊπæÊπæÔºÅ‰∏≠ÂçéÁôΩÊµ∑Ë±öÔºåÂõΩÂÆ∂‰∏ÄÁ∫ß‰øùÊä§Âä®Áâ©„ÄÇÊàëÊúâÁùÄÁæé‰∏ΩÁöÑÁ≤âÁ∫¢Ëâ≤ÁöÆËÇ§ÔºåÊòØÁè†Ê±üÂè£ÁöÑÊòéÊòüÔºÅ',
                    'üé® Â§ñË≤åÁâπÂæÅ': 'ÊàêÂπ¥ÂêéÊàë‰ºöÂèòÊàêÁ≤âÁ∫¢Ëâ≤Âì¶ÔºÅÊàëÊúâÈïøÈïøÁöÑÂñôÈÉ®ÔºåÂúÜÊ∂¶ÁöÑÈ¢ùÈöÜÔºåËÉåÈ≥çÊòØ‰∏âËßíÂΩ¢ÁöÑ„ÄÇ‰ΩìÈïøÂèØËææ3.5Á±≥ÔºÅ',
                    'üè† ÁîüÊ¥ª‰π†ÊÄß': 'ÊàëÂñúÊ¨¢Âú®Áè†Ê±üÂè£ÁöÑÂí∏Ê∑°Ê∞¥‰∫§Ê±áÂ§ÑÊ∏∏Ê≥≥ÔºåÈÄöÂ∏∏Âíå3-5‰∏™‰ºô‰º¥‰∏ÄËµ∑Ê¥ªÂä®„ÄÇÊàë‰ª¨ÊúÄÁà±ÂêÉÂêÑÁßçÂ∞èÈ±ºÂ∞èËôæÔºÅ',
                    '‚ú® ÊúâË∂£‰∫ãÂÆû': 'Êàë‰ª¨‰ºöÁî®Ë∂ÖÂ£∞Ê≥¢"ËÅäÂ§©"ÔºåËøò‰ºöË∑≥Âá∫Ê∞¥Èù¢Ë°®ÊºîÁ©∫‰∏≠ÁøªËΩ¨ÔºÅÊàëÁöÑÂ£∞Á∫≥ËÉΩÂäõÊØîÈõ∑ËææËøòÂéâÂÆ≥Âë¢ÔºÅ',
                    'üõ°Ô∏è ‰øùÊä§Áé∞Áä∂': 'Áé∞Âú®Êàë‰ª¨Âè™Ââ©2000Â§öÂè™‰∫Ü...Êµ∑Ê¥ãÊ±°ÊüìÂíåËàπÂè™Âô™Èü≥ËÆ©Êàë‰ª¨ÂæàÂõ∞Êâ∞ÔºåÂ∏åÊúõÂ§ßÂÆ∂ËÉΩ‰øùÊä§Êàë‰ª¨ÁöÑÂÆ∂Âõ≠ÔºÅ'
                }
            },
            octopus: {
                name: 'Á´†È±º',
                emoji: 'üêô',
                knowledge: {
                    'üí´ Ëá™Êàë‰ªãÁªç': '‰Ω†Â•ΩÔºÅÊàëÊòØÊµ∑Ê¥ã‰∏≠ÁöÑÈ≠îÊúØÂ∏àÔºÅÊúâ8Êù°ÁÅµÊ¥ªÁöÑËß¶ÊâãÔºåÊØèÊù°Ëß¶ÊâãÈÉΩÊúâÁã¨Á´ãÁöÑ"Â§ßËÑë"Âë¢ÔΩû',
                    'üé® Â§ñË≤åÁâπÂæÅ': 'ÊàëÊòØËΩØ‰ΩìÂä®Áâ©ÔºåÊúâ8Êù°Ëß¶ÊâãÔºåÁöÆËÇ§ÂèØ‰ª•ÂèòËâ≤ÂèòÂΩ¢Áä∂„ÄÇÊàëÁöÑÁúºÁùõÂæàÂ§ßÂæàËÅ™ÊòéÔºåËÉΩÁúãÊ∏ÖÊµ∑Â∫ïÁöÑ‰∏ÄÂàáÔºÅ',
                    'üè† ÁîüÊ¥ª‰π†ÊÄß': 'ÊàëÊòØÂ§úË°åÊÄßÂä®Áâ©ÔºåÁôΩÂ§©ÂñúÊ¨¢Ë∫≤Âú®Â≤©Áü≥ÁºùÈöôÈáå‰ºëÊÅØÔºåÊôö‰∏äÂá∫Êù•Áî®Ëß¶ÊâãÊäìÊçïÂ∞èÈ±ºÂ∞èËôæ„ÄÇ',
                    '‚ú® ÊúâË∂£‰∫ãÂÆû': 'ÊàëÊúâ3È¢óÂøÉËÑèÔºÅËøòËÉΩÊ®°‰ªøÂÖ∂‰ªñÊµ∑Ê¥ãÁîüÁâ©ÁöÑÂ§ñËßÇÊù•‰º™Ë£ÖËá™Â∑±ÔºåÊòØ‰∏çÊòØÂæàÁ•ûÂ•áÔºü',
                    'üõ°Ô∏è ‰øùÊä§Áé∞Áä∂': 'ÊàëÂØπÊµ∑Ê¥ãÊ±°ÊüìÂæàÊïèÊÑüÔºåÈúÄË¶ÅÊ∏ÖÊ¥ÅÁöÑÊµ∑Ê∞¥ÁéØÂ¢ÉÊâçËÉΩÂÅ•Â∫∑ÁîüÊ¥ª„ÄÇËØ∑Â§ßÂÆ∂‰∏çË¶Å‰π±ÊâîÂûÉÂúæÂì¶ÔºÅ'
                }
            },
            goldfish: {
                name: 'ÈáëÈ±º',
                emoji: 'üê†',
                knowledge: {
                    'üí´ Ëá™Êàë‰ªãÁªç': 'Â§ßÂÆ∂Â•ΩÔºÅÊàëÊòØ‰∫∫Á±ªÊúÄÂñúÁà±ÁöÑËßÇËµèÈ±º‰πã‰∏ÄÔºåÊúâÁùÄÈó™Èó™ÂèëÂÖâÁöÑÈáëËâ≤È≥ûÁâáÔºÅ',
                    'üé® Â§ñË≤åÁâπÂæÅ': 'ÊàëÁöÑË∫´‰ΩìÂëàÈáëÈªÑËâ≤ÊàñÊ©ôÁ∫¢Ëâ≤ÔºåÂ∞æÈ≥çÂ§ßËÄåÁæé‰∏ΩÔºåÂÉèÊâáÂ≠ê‰∏ÄÊ†∑„ÄÇÊàëÁöÑÁúºÁùõÂúÜÊ∫úÊ∫úÁöÑÔºåÂæàÂèØÁà±ÂêßÔºÅ',
                    'üè† ÁîüÊ¥ª‰π†ÊÄß': 'ÊàëÂñúÊ¨¢Âú®Ê∏ÖÊæàÁöÑÊ∞¥‰∏≠Ê∏∏Ê≥≥ÔºåÂíå‰ºô‰º¥‰ª¨‰∏ÄËµ∑Áæ§‰ΩìÊ¥ªÂä®„ÄÇÊàëÂØπÊ∞¥Ë¥®Ë¶ÅÊ±ÇÊØîËæÉÈ´òÂì¶ÔºÅ',
                    '‚ú® ÊúâË∂£‰∫ãÂÆû': 'ÂæàÂ§ö‰∫∫ËØ¥ÊàëÂè™Êúâ7ÁßíËÆ∞ÂøÜÔºåÂÖ∂ÂÆû‰∏çÂØπÔºÅÊàëÁöÑËÆ∞ÂøÜÂäõÂæàÂ•ΩÔºåÂèØ‰ª•ËÆ∞‰Ωè3‰∏™Êúà‰ª•‰∏äÁöÑ‰∫ãÊÉÖÂë¢ÔºÅ',
                    'üõ°Ô∏è ‰øùÊä§Áé∞Áä∂': '‰Ωú‰∏∫ËßÇËµèÈ±ºÔºåÊàëÈúÄË¶ÅË¥üË¥£‰ªªÁöÑÈ•≤ÂÖª„ÄÇËØ∑‰∏çË¶ÅÈöèÊÑèÊääÊàë‰ª¨ÊîæÁîüÂà∞ÈáéÂ§ñÔºåËøô‰ºöÁ†¥ÂùèÁîüÊÄÅÂπ≥Ë°°ÔºÅ'
                }
            },
            turtle: {
                name: 'Êµ∑Èæü',
                emoji: 'üê¢',
                knowledge: {
                    'üí´ Ëá™Êàë‰ªãÁªç': '‰Ω†Â•ΩÔºÅÊàëÊòØÊµ∑Ê¥ã‰∏≠ÁöÑËÄÅÂØøÊòüÔºåÂèØ‰ª•Ê¥ª100Â§öÂ≤ÅÔºÅËÉåÁùÄÂùöÁ°¨ÁöÑÈæüÂ£≥Âú®Â§ßÊµ∑‰∏≠ÊóÖË°å„ÄÇ',
                    'üé® Â§ñË≤åÁâπÂæÅ': 'ÊàëÊúâÂùöÁ°¨ÁöÑËÉåÁî≤‰øùÊä§Ëá™Â∑±ÔºåÂõõËÇ¢ÂÉèÊ°®‰∏ÄÊ†∑ÈÄÇÂêàÊ∏∏Ê≥≥„ÄÇÊàëÁöÑÂ§¥ÈÉ®Êó†Ê≥ïÁº©ÂõûÂ£≥ÂÜÖÂì¶ÔºÅ',
                    'üè† ÁîüÊ¥ª‰π†ÊÄß': 'ÊàëÂú®Êµ∑Ê¥ã‰∏≠Ê∏∏Ê≥≥ÔºåÈúÄË¶ÅÂÆöÊúüÊµÆÂá∫Ê∞¥Èù¢ÂëºÂê∏„ÄÇÊàëÂñúÊ¨¢ÂêÉÊµ∑Ëçâ„ÄÅÊ∞¥ÊØçÂíåÂ∞èÈ±º„ÄÇ',
                    '‚ú® ÊúâË∂£‰∫ãÂÆû': 'Êàë‰ª¨ËÉΩÈù†Âú∞ÁêÉÁ£ÅÂú∫ÂØºËà™ÔºÅÂèØ‰ª•Âú®Â§ßÊµ∑‰∏≠Ëà™Ë°åÊï∞ÂçÉÂÖ¨ÈáåÔºåÂáÜÁ°ÆÂõûÂà∞Ëá™Â∑±ÁöÑÂá∫ÁîüÂú∞‰∫ßÂçµÔºÅ',
                    'üõ°Ô∏è ‰øùÊä§Áé∞Áä∂': 'ÂÖ®‰∏ñÁïå7ÁßçÊµ∑ÈæüÈÉΩÊòØÊøíÂç±Áâ©ÁßçÔºåÂ°ëÊñôÊ±°ÊüìÊòØÊàë‰ª¨Èù¢‰∏¥ÁöÑÊúÄÂ§ßÂ®ÅËÉÅ„ÄÇÊàë‰ª¨ÁªèÂ∏∏ËØØÈ£üÂ°ëÊñôË¢ã...'
                }
            },
            crab: {
                name: 'ÂØÑÂ±ÖËüπ',
                emoji: 'ü¶Ä',
                knowledge: {
                    'üí´ Ëá™Êàë‰ªãÁªç': 'Âó®ÔºÅÊàëÊòØÊµ∑Êª©‰∏äÁöÑ"Êê¨ÂÆ∂‰∏ìÂÆ∂"ÔºÅÊ≤°ÊúâÂùöÁ°¨ÁöÑÂ§ñÂ£≥ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÄü‰ΩèË¥ùÂ£≥ÊàøÂ≠ê„ÄÇ',
                    'üé® Â§ñË≤åÁâπÂæÅ': 'ÊàëÁöÑË∫´‰ΩìÊüîËΩØÔºåÊúâ‰∏ÄÂØπÂ§ßÈí≥Â≠êÔºåËÖπÈÉ®ÂºØÊõ≤ÈÄÇÂêàË∫≤Âú®Ëû∫Â£≥Èáå„ÄÇÊàë‰ºöÊ†πÊçÆË∫´‰ΩìÂ§ßÂ∞èÈÄâÊã©ÂêàÈÄÇÁöÑÂ£≥ÔºÅ',
                    'üè† ÁîüÊ¥ª‰π†ÊÄß': 'ÈöèÁùÄË∫´‰ΩìÈïøÂ§ßÔºåÊàëÈúÄË¶Å‰∏çÊñ≠Êõ¥Êç¢Êõ¥Â§ßÁöÑË¥ùÂ£≥„ÄÇÊàëÊØîËæÉÂñúÊ¨¢Â§úÈó¥Ê¥ªÂä®ÔºåÁôΩÂ§©Ë∫≤Âú®Ê≤ôÂ≠êÈáå„ÄÇ',
                    '‚ú® ÊúâË∂£‰∫ãÂÆû': 'Êàë‰ª¨‰ºöÊéíÈòüÁ≠âÊàøÂ≠êÔºÅÂΩìÊúâÊñ∞ÁöÑÁ©∫Â£≥Êó∂Ôºå‰ºöÊåâÂ§ßÂ∞èÈ°∫Â∫èÊç¢ÊàøÂ≠êÔºåÂ∞èÁöÑ‰ΩèËøõÂ§ßÁöÑÔºåÂ§ßÁöÑ‰ΩèËøõÊõ¥Â§ßÁöÑÔºÅ',
                    'üõ°Ô∏è ‰øùÊä§Áé∞Áä∂': 'ÊàëÊòØÊµ∑Êª©ÁîüÊÄÅÁ≥ªÁªüÁöÑÊ∏ÖÊ¥ÅÂ∑•Ôºå‰ΩÜÁªèÂ∏∏Ë¢´Â°ëÊñôÂûÉÂúæËØØÂØºÔºåÊääÂ°ëÊñôÂΩìÊàêÊñ∞ÊàøÂ≠êÔºåÂæàÂç±Èô©ÔºÅ'
                }
            }
        };

        function initFriendsGame() {
            // ÂàùÂßãÂåñÂä®ÁîªÂíåÈó™ÂÖâÊïàÊûú
            setTimeout(() => {
                createFriendsSparkles();
            }, 1000);
        }

        function createFriendsSparkles() {
            const sparklePositions = [
                { x: '20%', y: '30%' },
                { x: '70%', y: '50%' },
                { x: '40%', y: '70%' },
                { x: '80%', y: '20%' },
                { x: '15%', y: '80%' }
            ];
            
            sparklePositions.forEach((pos, index) => {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = pos.x;
                    sparkle.style.top = pos.y;
                    sparkle.style.animationDelay = Math.random() * 3 + 's';
                    
                    document.querySelector('#friendsPage .ocean-scene').appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 3000);
                }, index * 500);
            });
        }

        function showFriendInfo(friendId) {
            const friend = friendsData[friendId];
            const friendElement = document.querySelector(`#friendsPage [data-friend="${friendId}"]`);
            
            // Ê∑ªÂä†ÁÇπÂáªÂä®Áîª
            friendElement.classList.add('clicked');
            setTimeout(() => {
                friendElement.classList.remove('clicked');
            }, 800);
            
            // Êõ¥Êñ∞Áü•ËØÜÈù¢Êùø
            document.getElementById('friendEmoji').textContent = friend.emoji;
            document.getElementById('friendName').textContent = friend.name;
            
            // ÁîüÊàêÁü•ËØÜÂÜÖÂÆπ
            const knowledgeContent = document.getElementById('knowledgeContent');
            knowledgeContent.innerHTML = '';
            
            Object.entries(friend.knowledge).forEach(([label, text]) => {
                const item = document.createElement('div');
                item.className = 'knowledge-item';
                item.innerHTML = `
                    <div class="knowledge-label">${label}</div>
                    <div class="knowledge-text">${text}</div>
                `;
                knowledgeContent.appendChild(item);
            });
            
            // ÊòæÁ§∫Áü•ËØÜÈù¢Êùø
            document.getElementById('knowledgePanel').classList.add('show');
            
            // Êõ¥Êñ∞ÊπæÊπæÁöÑÊåáÂØºÊñáÊú¨
            const greetings = [
                `ËÆ©Êàë‰∏∫‰Ω†‰ªãÁªç${friend.name}ÔºÅüê¨`,
                `${friend.name}ÊòØÊàëÁöÑÂ•ΩÊúãÂèãÂë¢ÔºÅ‚ú®`,
                `Âø´Êù•‰∫ÜËß£${friend.name}ÁöÑÊïÖ‰∫ãÂêßÔºÅüíô`,
                `${friend.name}ÂæàÈ´òÂÖ¥ËÆ§ËØÜ‰Ω†ÔºÅüåä`
            ];
            const greeting = greetings[Math.floor(Math.random() * greetings.length)];
            document.getElementById('friendsGuideText').textContent = greeting;
            
            // ÂàõÂª∫ÁâπÊÆäÊïàÊûú
            createClickEffect(friendElement);
        }

        function createClickEffect(element) {
            const colors = ['#74b9ff', '#00b894', '#fdcb6e', '#fd79a8', '#e17055'];
            const rect = element.getBoundingClientRect();
            
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'click-particle';
                    particle.style.cssText = `
                        position: fixed;
                        width: 6px;
                        height: 6px;
                        background: ${colors[Math.floor(Math.random() * colors.length)]};
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 1000;
                        left: ${rect.left + rect.width/2}px;
                        top: ${rect.top + rect.height/2}px;
                        animation: particle-burst 1.5s ease-out forwards;
                    `;
                    
                    const angle = (i / 8) * Math.PI * 2;
                    const distance = 30 + Math.random() * 20;
                    particle.style.setProperty('--end-x', Math.cos(angle) * distance + 'px');
                    particle.style.setProperty('--end-y', Math.sin(angle) * distance + 'px');
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 1500);
                }, i * 50);
            }
        }

        function closeKnowledgePanel() {
            document.getElementById('knowledgePanel').classList.remove('show');
            document.getElementById('friendsGuideText').textContent = 'Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÊµ∑Â∫ï‰∏ñÁïåÔºÅüê¨ ÁÇπÂáªÊàëÁöÑÊúãÂèã‰ª¨‰∫ÜËß£ÂÆÉ‰ª¨ÁöÑÊïÖ‰∫ãÂêßÔºÅ';
        }

        // ======= ÂÖ±Áîü‰∫íÂä®Âç°ÈÄªËæë =======
        let harmonyGameStates = {
            butterfly: { caught: 0, target: 5, completed: false },
            food: { tasted: [], target: 6, completed: false },
            tea: { picked: 0, target: 10, completed: false },
            ocean: { observed: [], target: 5, completed: false },
            mountain: { clicks: 0, target: 20, completed: false },
            temple: { bells: 0, target: 4, completed: false }
        };

        function initHarmonyGames() {
            // ÈáçÁΩÆÊ∏∏ÊàèÁä∂ÊÄÅ
            harmonyGameStates = {
                butterfly: { caught: 0, target: 5, completed: false },
                food: { tasted: [], target: 6, completed: false },
                tea: { picked: 0, target: 10, completed: false },
                ocean: { observed: [], target: 5, completed: false },
                mountain: { clicks: 0, target: 20, completed: false },
                temple: { bells: 0, target: 4, completed: false }
            };
            updateHarmonyScore();
        }

        // Ëù¥Ëù∂Ê∏∏Êàè
        function catchButterfly(element) {
            if (!harmonyGameStates.butterfly.completed) {
                element.style.opacity = '0.3';
                element.style.pointerEvents = 'none';
                harmonyGameStates.butterfly.caught++;
                updateHarmonyProgress('butterfly-progress', harmonyGameStates.butterfly.caught, harmonyGameStates.butterfly.target);
                
                if (harmonyGameStates.butterfly.caught >= harmonyGameStates.butterfly.target) {
                    completeHarmonyGame('butterfly', 'ÁîüÊÄÅ‰øùÊä§ËÄÖ');
                }
            }
        }

        // Â§úÂ∏ÇÁæéÈ£üÊ∏∏Êàè
        function tasteFood(element) {
            if (!harmonyGameStates.food.completed && !harmonyGameStates.food.tasted.includes(element.dataset.food)) {
                element.style.opacity = '0.5';
                element.style.pointerEvents = 'none';
                harmonyGameStates.food.tasted.push(element.dataset.food);
                updateHarmonyProgress('food-progress', harmonyGameStates.food.tasted.length, harmonyGameStates.food.target);
                
                if (harmonyGameStates.food.tasted.length >= harmonyGameStates.food.target) {
                    completeHarmonyGame('food', 'ÁæéÈ£üËææ‰∫∫');
                }
            }
        }

        // Ëå∂Âè∂ÈááÊëòÊ∏∏Êàè
        function pickTea(element) {
            if (!harmonyGameStates.tea.completed && element.style.opacity !== '0.3') {
                element.style.opacity = '0.3';
                element.style.transform = 'rotate(45deg) scale(1.2)';
                harmonyGameStates.tea.picked++;
                updateHarmonyProgress('tea-progress', harmonyGameStates.tea.picked, harmonyGameStates.tea.target);
                
                if (harmonyGameStates.tea.picked >= harmonyGameStates.tea.target) {
                    completeHarmonyGame('tea', 'Ëå∂Ëâ∫Â∏à');
                }
            }
        }

        // Êµ∑Ê¥ãËßÇÂØüÊ∏∏Êàè
        function observeFish(element) {
            if (!harmonyGameStates.ocean.completed && !harmonyGameStates.ocean.observed.includes(element.textContent)) {
                element.style.opacity = '0.5';
                harmonyGameStates.ocean.observed.push(element.textContent);
                updateHarmonyProgress('ocean-progress', harmonyGameStates.ocean.observed.length, harmonyGameStates.ocean.target);
                
                if (harmonyGameStates.ocean.observed.length >= harmonyGameStates.ocean.target) {
                    completeHarmonyGame('ocean', 'Êµ∑Ê¥ãÂÆàÊä§ËÄÖ');
                }
            }
        }

        // ÁôªÂ±±Ê∏∏Êàè
        function climbMountain() {
            if (!harmonyGameStates.mountain.completed) {
                harmonyGameStates.mountain.clicks++;
                const climber = document.getElementById('climber');
                const progress = Math.min(harmonyGameStates.mountain.clicks / harmonyGameStates.mountain.target, 1);
                climber.style.left = (10 + progress * 80) + '%';
                climber.style.bottom = (10 + progress * 60) + 'px';
                
                updateHarmonyProgress('mountain-progress', harmonyGameStates.mountain.clicks, harmonyGameStates.mountain.target);
                
                if (harmonyGameStates.mountain.clicks >= harmonyGameStates.mountain.target) {
                    completeHarmonyGame('mountain', 'ÁôªÂ≥∞ÈÄ†ÊûÅËÄÖ');
                }
            }
        }

        // ÂØ∫Â∫ôÈíüÂ£∞Ê∏∏Êàè
        function ringBell(element) {
            if (!harmonyGameStates.temple.completed) {
                const bellNum = parseInt(element.dataset.bell);
                if (bellNum === harmonyGameStates.temple.bells + 1) {
                    element.style.background = '#32cd32';
                    harmonyGameStates.temple.bells++;
                    updateHarmonyProgress('temple-progress', harmonyGameStates.temple.bells, harmonyGameStates.temple.target);
                    
                    if (harmonyGameStates.temple.bells >= harmonyGameStates.temple.target) {
                        completeHarmonyGame('temple', 'ÊñáÂåñ‰º†ÊâøËÄÖ');
                    }
                }
            }
        }

        function updateHarmonyProgress(progressId, current, target) {
            const percentage = (current / target) * 100;
            document.getElementById(progressId).style.width = percentage + '%';
        }

        function completeHarmonyGame(gameType, title) {
            harmonyGameStates[gameType].completed = true;
            const btn = document.getElementById(gameType + '-btn');
            btn.disabled = false;
            btn.textContent = `‚úÖ Ëé∑ÂæóÁß∞Âè∑: ${title}`;
            btn.style.background = '#4caf50';
            
            updateHarmonyScore();
            showHarmonyCongratulations(title);
        }

        function updateHarmonyScore() {
            const completed = Object.values(harmonyGameStates).filter(state => state.completed).length;
            document.getElementById('harmonyScore').textContent = completed * 100;
            document.getElementById('harmonyCompleted').textContent = completed;
        }

        function showHarmonyCongratulations(title) {
            const congratsDiv = document.createElement('div');
            congratsDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
                color: white;
                padding: 20px 40px;
                border-radius: 15px;
                font-size: 1.2em;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 1000;
                text-align: center;
            `;
            congratsDiv.innerHTML = `
                <div>üéâ ÊÅ≠ÂñúËé∑ÂæóÁß∞Âè∑</div>
                <div style="font-weight: bold; margin-top: 10px;">${title}</div>
            `;
            
            document.body.appendChild(congratsDiv);
            
            setTimeout(() => {
                congratsDiv.remove();
            }, 3000);
        }

        function resetAllHarmonyGames() {
            // ÈáçÁΩÆÊ∏∏ÊàèÁä∂ÊÄÅ
            harmonyGameStates = {
                butterfly: { caught: 0, target: 5, completed: false },
                food: { tasted: [], target: 6, completed: false },
                tea: { picked: 0, target: 10, completed: false },
                ocean: { observed: [], target: 5, completed: false },
                mountain: { clicks: 0, target: 20, completed: false },
                temple: { bells: 0, target: 4, completed: false }
            };

            // ÈáçÁΩÆUIÂÖÉÁ¥†
            document.querySelectorAll('#harmonyPage .butterfly').forEach(b => {
                b.style.opacity = '1';
                b.style.pointerEvents = 'auto';
            });

            document.querySelectorAll('#harmonyPage .food-item').forEach(f => {
                f.style.opacity = '1';
                f.style.pointerEvents = 'auto';
            });

            document.querySelectorAll('#harmonyPage .tea-leaf').forEach(t => {
                t.style.opacity = '1';
                t.style.transform = '';
            });

            document.querySelectorAll('#harmonyPage .fish').forEach(f => {
                f.style.opacity = '1';
            });

            document.getElementById('climber').style.left = '10px';
            document.getElementById('climber').style.bottom = '10px';

            document.querySelectorAll('#harmonyPage .bell').forEach(b => {
                b.style.background = '#ffd700';
            });

            // ÈáçÁΩÆËøõÂ∫¶Êù°ÂíåÊåâÈíÆ
            document.querySelectorAll('#harmonyPage .harmony-progress-fill').forEach(p => p.style.width = '0%');
            document.querySelectorAll('#harmonyPage .harmony-card-action').forEach(btn => {
                btn.disabled = true;
                btn.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                if (btn.id.includes('butterfly')) btn.textContent = 'ÂÆåÊàêÁîüÊÄÅ‰øùÊä§‰ªªÂä°';
                else if (btn.id.includes('food')) btn.textContent = 'ÂÆåÊàêÁæéÈ£üÊñáÂåñ‰ΩìÈ™å';
                else if (btn.id.includes('tea')) btn.textContent = 'ÂÆåÊàêËå∂ÊñáÂåñ‰ΩìÈ™å';
                else if (btn.id.includes('ocean')) btn.textContent = 'ÂÆåÊàêÊµ∑Ê¥ã‰øùÊä§‰ªªÂä°';
                else if (btn.id.includes('mountain')) btn.textContent = 'ÂÆåÊàêÁôªÂ±±ÊåëÊàò';
                else if (btn.id.includes('temple')) btn.textContent = 'ÂÆåÊàêÁ•àÁ¶è‰ª™Âºè';
            });

            updateHarmonyScore();
        }

        // ======= ÈÄöÁî®ÂäüËÉΩ =======
        // ÊòæÁ§∫ÂèçÈ¶àÊ∂àÊÅØ
        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            if (feedback) {
                feedback.textContent = message;
                feedback.className = `feedback show ${type}`;
                
                setTimeout(() => {
                    feedback.classList.remove('show');
                }, 3000);
            }
        }

        // ÂàõÂª∫Â∫ÜÁ•ùÊïàÊûú
        function createCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            document.body.appendChild(celebration);

            const colors = ['#fdcb6e', '#e17055', '#00b894', '#74b9ff', '#fd79a8'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    celebration.appendChild(confetti);
                }, i * 100);
            }

            setTimeout(() => {
                celebration.remove();
            }, 6000);
        }

        // Ê∑ªÂä†Âä®ÁîªÊ†∑Âºè
        const style = document.createElement('style');
        style.textContent = `
            @keyframes flutter {
                0%, 100% { transform: translateY(0px) rotate(0deg); }
                25% { transform: translateY(-10px) rotate(5deg); }
                50% { transform: translateY(-5px) rotate(-5deg); }
                75% { transform: translateY(-15px) rotate(3deg); }
            }
            
            @keyframes swim {
                0% { transform: translateX(-20px); }
                100% { transform: translateX(300px); }
            }
            
            @keyframes tentacle-wave {
                0%, 100% { transform: rotate(0deg) translateY(0px); }
                50% { transform: rotate(10deg) translateY(-5px); }
            }
            
            @keyframes fish-tail-wave {
                0%, 100% { transform: rotate(0deg); }
                50% { transform: rotate(15deg); }
            }
            
            @keyframes scale-shine {
                0%, 100% { opacity: 0.3; }
                50% { opacity: 0.8; }
            }
            
            @keyframes turtle-head-move {
                0%, 100% { transform: translateX(-50%) translateY(0px); }
                50% { transform: translateX(-50%) translateY(-3px) rotate(3deg); }
            }
            
            @keyframes turtle-neck-move {
                0%, 100% { transform: translateX(-50%) translateY(0px); }
                50% { transform: translateX(-50%) translateY(-2px); }
            }
            
            @keyframes crab-leg-move {
                0%, 100% { transform-origin: top center; }
                50% { transform: translateY(-2px) scale(1.03); }
            }
            
            @keyframes crab-eye-sway {
                0%, 100% { transform: translateX(0px) rotate(0deg); }
                50% { transform: translateX(2px) rotate(5deg); }
            }
            
            @keyframes decoration-sway {
                0%, 100% { transform: translateX(0px) rotate(0deg); }
                50% { transform: translateX(10px) rotate(3deg); }
            }
            
            @keyframes particle-burst {
                0% {
                    transform: translate(0, 0) scale(1);
                    opacity: 1;
                }
                100% {
                    transform: translate(var(--end-x), var(--end-y)) scale(0);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÁöÑÂàùÂßãÂä®Áîª
        window.addEventListener('load', () => {
            setTimeout(() => {
                createSparkles();
            }, 1000);
        });

        // Ê∑ªÂä†ÈîÆÁõò‰∫§‰∫í
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                playWelcomeAnimation();
            }
        });
    </script>
</body>
</html>
