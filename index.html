<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æ¹¾æ¹¾çš„æµ·æ´‹ä¸–ç•Œ - ä¸­åç™½æµ·è±šäº’åŠ¨ä½“éªŒå¹³å°ï¼ŒåŒ…å«æƒ…ç»ªè‰²å½©å¡ã€ç¯ä¿åˆ†ç±»å¡ã€æ¹¾åŒºç¾é£Ÿå¡ã€æµ·åº•æœ‹å‹å¡ã€å…±ç”Ÿäº’åŠ¨å¡ç­‰å¤šç§ARå¡ç‰‡ä½“éªŒ">
    <meta name="keywords" content="ä¸­åç™½æµ·è±š,æ¹¾æ¹¾,ARå¡ç‰‡,æµ·æ´‹ä¿æŠ¤,æƒ…ç»ªè¯†åˆ«,ç¯ä¿æ•™è‚²,æµ·æ´‹ç”Ÿç‰©">
    <title>æ¹¾æ¹¾çš„æµ·æ´‹ä¸–ç•Œ ğŸ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 30%, #00b894 70%, #00cec9 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* æµ·æ´‹èƒŒæ™¯åŠ¨ç”» */
        .ocean-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .wave {
            position: absolute;
            width: 200%;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: wave-flow 8s ease-in-out infinite;
        }

        .wave:nth-child(1) { top: 10%; animation-delay: 0s; }
        .wave:nth-child(2) { top: 30%; animation-delay: 2s; }
        .wave:nth-child(3) { top: 50%; animation-delay: 4s; }
        .wave:nth-child(4) { top: 70%; animation-delay: 6s; }

        @keyframes wave-flow {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-20px); }
        }

        /* æ°”æ³¡æ•ˆæœ */
        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: bubble-rise 6s infinite linear;
        }

        @keyframes bubble-rise {
            0% { bottom: -10px; opacity: 0.7; transform: translateX(0); }
            50% { opacity: 1; transform: translateX(20px); }
            100% { bottom: 100vh; opacity: 0; transform: translateX(-20px); }
        }

        /* é¡µé¢å®¹å™¨ */
        .page {
            display: none;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        .page.active {
            display: block;
        }

        /* ======= ä¸»é¡µæ ·å¼ ======= */
        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* å¤´éƒ¨æ ‡é¢˜ */
        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: float-down 1s ease-out;
        }

        .main-title {
            font-size: 2.5em;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: title-glow 3s ease-in-out infinite;
        }

        .subtitle {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        @keyframes title-glow {
            0%, 100% { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); }
            50% { text-shadow: 2px 2px 20px rgba(255, 255, 255, 0.8); }
        }

        @keyframes float-down {
            0% { opacity: 0; transform: translateY(-50px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* ä¸­å¤®æµ·è±šå±•ç¤ºåŒº */
        .dolphin-showcase {
            width: 300px;
            height: 200px;
            margin: 20px 0 40px 0;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: showcase-float 4s ease-in-out infinite;
        }

        @keyframes showcase-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }

        .main-dolphin {
            width: 150px;
            height: 100px;
            position: relative;
            animation: dolphin-swim 6s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .main-dolphin:hover {
            transform: scale(1.1) rotateY(10deg);
        }

        @keyframes dolphin-swim {
            0%, 100% { transform: translateX(0px) translateY(0px) rotate(-2deg); }
            33% { transform: translateX(20px) translateY(-10px) rotate(2deg); }
            66% { transform: translateX(-10px) translateY(-5px) rotate(-1deg); }
        }

        .main-dolphin-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 75px 25px 75px 50px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .main-dolphin-belly {
            position: absolute;
            bottom: 10px;
            left: 25px;
            width: 75px;
            height: 30px;
            background: white;
            border-radius: 40px 20px 40px 45px;
        }

        .main-dolphin-fin {
            position: absolute;
            top: -20px;
            left: 40px;
            width: 30px;
            height: 45px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px 8px 20px 20px;
            transform: rotate(-20deg);
        }

        .main-dolphin-tail {
            position: absolute;
            right: -20px;
            top: 25px;
            width: 40px;
            height: 50px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px;
            transform: rotate(45deg);
            animation: tail-wave 3s ease-in-out infinite;
            transform-origin: left center;
        }

        @keyframes tail-wave {
            0%, 100% { transform: rotate(45deg); }
            50% { transform: rotate(25deg); }
        }

        .main-dolphin-eye {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 12px;
            height: 12px;
            background: #2d3436;
            border-radius: 50%;
            animation: blink 4s infinite;
        }

        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        .main-dolphin-smile {
            position: absolute;
            top: 45px;
            left: 20px;
            width: 25px;
            height: 15px;
            border: 3px solid #2d3436;
            border-top: none;
            border-radius: 0 0 25px 25px;
        }

        /* å¡ç‰‡ç½‘æ ¼ */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1200px;
            width: 100%;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            animation: card-entrance 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }

        @keyframes card-entrance {
            to { opacity: 1; transform: translateY(0); }
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: rgba(116, 185, 255, 0.5);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s ease;
        }

        .card:hover::before {
            left: 100%;
        }

        .card-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
            animation: icon-bounce 2s ease-in-out infinite;
        }
        .card-icon img {
            width: clamp(40px, 5vw, 70px);
            height: auto;
            display: block;
            margin: 0 auto 15px;
            object-fit: contain;
        }
        @keyframes icon-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .card-title {
            font-size: 1.3em;
            color: #2d3436;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .card-description {
            color: #636e72;
            font-size: 0.9em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .card-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .status-available {
            background: #00b894;
            color: white;
        }

        .status-coming {
            background: #fdcb6e;
            color: #2d3436;
        }

        /* åº•éƒ¨ä¿¡æ¯ */
        .footer-info {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            max-width: 600px;
        }

        .footer-info h3 {
            margin-bottom: 10px;
            color: white;
        }

        /* è‰²å½©ä¸»é¢˜ */
        .card.emotion { border-left: 5px solid #fd79a8; }
        .card.environment { border-left: 5px solid #00b894; }
        .card.food { border-left: 5px solid #fdcb6e; }
        .card.friends { border-left: 5px solid #74b9ff; }
        .card.harmony { border-left: 5px solid #e17055; }

        /* ======= é€šç”¨å¡ç‰‡é¡µé¢æ ·å¼ ======= */
        .card-page-container {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            z-index: 1;
            box-sizing: border-box;
        }

        .card-container {
            width: min(95vw, 500px);
            max-width: 500px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            animation: card-entrance 0.8s ease-out;
            margin: 20px auto;
        }

        /* å¤´éƒ¨ */
        .card-header {
            color: white;
            padding: 20px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .emotion-header {
            background: linear-gradient(45deg, #ff7675, #fd79a8);
        }

        .environment-header {
            background: linear-gradient(135deg, #00b894, #00cec9);
        }

        .food-header {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }

        .friends-header {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }

        .harmony-header {
            background: linear-gradient(135deg, #e17055, #fd79a8);
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .header-title {
            flex: 1;
            text-align: center;
            margin: 0 15px;
            font-size: clamp(16px, 4vw, 20px);
            font-weight: bold;
        }

        .header-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            animation: icon-pulse 2s infinite;
            flex-shrink: 0;
        }

        @keyframes icon-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        /* ======= æƒ…ç»ªè‰²å½©å¡æ ·å¼ ======= */
        .dolphin-container {
            height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to bottom, #74b9ff 0%, #0984e3 50%, #00b894 100%);
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        .water-bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: bubble-rise 3s infinite linear;
        }

        .bubble-1 { width: 8px; height: 8px; left: 20%; animation-delay: 0s; }
        .bubble-2 { width: 12px; height: 12px; left: 70%; animation-delay: 1s; }
        .bubble-3 { width: 6px; height: 6px; left: 85%; animation-delay: 2s; }
        .bubble-4 { width: 10px; height: 10px; left: 15%; animation-delay: 0.5s; }

        .dolphin {
            width: 120px;
            height: 80px;
            position: relative;
            transition: all 0.8s ease;
            cursor: pointer;
            z-index: 10;
            animation: swim 4s ease-in-out infinite;
            transform-origin: center;
        }

        .dolphin-body {
            width: 100%;
            height: 100%;
            background: #74b9ff;
            border-radius: 60px 20px 60px 40px;
            position: relative;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dolphin-belly {
            position: absolute;
            bottom: 8px;
            left: 20px;
            width: 60px;
            height: 25px;
            background: white;
            border-radius: 30px 15px 30px 35px;
        }

        @keyframes swim {
            0%, 100% { transform: translateY(0px) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        .dolphin-fin {
            position: absolute;
            top: -15px;
            left: 30px;
            width: 25px;
            height: 35px;
            background: inherit;
            border-radius: 15px 5px 15px 15px;
            transform: rotate(-20deg);
            transition: background 0.8s ease;
        }

        .dolphin-tail {
            position: absolute;
            right: -15px;
            top: 20px;
            width: 30px;
            height: 40px;
            background: inherit;
            border-radius: 15px;
            transform: rotate(45deg);
            animation: tail-wave 2s ease-in-out infinite;
            transition: background 0.8s ease;
            transform-origin: left center;
        }

        .dolphin-eye {
            position: absolute;
            top: 25px;
            left: 25px;
            width: 8px;
            height: 8px;
            background: #2d3436;
            border-radius: 50%;
            animation: blink 3s infinite;
        }

        .dolphin-smile {
            position: absolute;
            top: 35px;
            left: 15px;
            width: 20px;
            height: 10px;
            border: 2px solid #2d3436;
            border-top: none;
            border-radius: 0 0 20px 20px;
        }

        .dolphin.happy .dolphin-body { background: #f8f9fa !important; }
        .dolphin.happy .dolphin-fin { background: #f8f9fa !important; }
        .dolphin.happy .dolphin-tail { background: #f8f9fa !important; }

        .dolphin.excited .dolphin-body { background: #ffb3ba !important; }
        .dolphin.excited .dolphin-fin { background: #ffb3ba !important; }
        .dolphin.excited .dolphin-tail { background: #ffb3ba !important; }

        .dolphin.angry .dolphin-body { background: #ff7675 !important; }
        .dolphin.angry .dolphin-fin { background: #ff7675 !important; }
        .dolphin.angry .dolphin-tail { background: #ff7675 !important; }

        .dolphin.sad .dolphin-body { background: #74b9ff !important; }
        .dolphin.sad .dolphin-fin { background: #74b9ff !important; }
        .dolphin.sad .dolphin-tail { background: #74b9ff !important; }
        .dolphin.sad .dolphin-smile { 
            border-radius: 0;
            height: 2px;
            width: 20px;
            top: 40px;
            left: 15px;
        }

        .emotion-controls {
            padding: 20px;
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .emotion-title {
            font-size: 16px;
            color: #2d3436;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .emotion-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .emotion-btn {
            padding: 12px 8px;
            border: none;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .emotion-btn:hover {
            transform: scale(1.05);
        }

        .btn-happy { background: linear-gradient(45deg, #00b894, #00cec9); }
        .btn-excited { background: linear-gradient(45deg, #fd79a8, #fdcb6e); }
        .btn-angry { background: linear-gradient(45deg, #e17055, #d63031); }
        .btn-sad { background: linear-gradient(45deg, #74b9ff, #0984e3); }

        .emotion-description {
            background: rgba(116, 185, 255, 0.1);
            padding: 20px 15px;
            border-radius: 10px;
            font-size: 13px;
            color: #2d3436;
            line-height: 1.6;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            word-wrap: break-word;
            overflow-wrap: break-word;
            margin-bottom: 40px;
        }

        /* ======= ç¯ä¿åˆ†ç±»å¡æ ·å¼ ======= */
        .dolphin-guide {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            padding: 30px 20px 20px 20px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .guide-dolphin {
            width: 80px;
            height: 50px;
            margin: 0 auto 15px auto;
            position: relative;
            animation: guide-swim 3s ease-in-out infinite;
        }

        @keyframes guide-swim {
            0%, 100% { transform: translateX(0px) translateY(0px) rotate(-2deg); }
            50% { transform: translateX(10px) translateY(-5px) rotate(2deg); }
        }

        .guide-dolphin-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 40px 15px 40px 25px;
            position: relative;
        }

        .guide-dolphin-fin {
            position: absolute;
            top: -10px;
            left: 20px;
            width: 15px;
            height: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px 4px 10px 10px;
            transform: rotate(-20deg);
        }

        .guide-dolphin-tail {
            position: absolute;
            right: -8px;
            top: 15px;
            width: 20px;
            height: 25px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px;
            transform: rotate(45deg);
            animation: guide-tail-wave 2s ease-in-out infinite;
            transform-origin: left center;
        }

        @keyframes guide-tail-wave {
            0%, 100% { transform: rotate(45deg); }
            50% { transform: rotate(25deg); }
        }

        .guide-dolphin-eye {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 6px;
            height: 6px;
            background: #2d3436;
            border-radius: 50%;
        }

        .guide-text {
            font-size: clamp(12px, 3vw, 16px);
            line-height: 1.5;
            opacity: 0.95;
        }

        /* æ¸¸æˆå†…å®¹åŒº */
        .game-content {
            padding: 25px;
        }

        .game-title {
            text-align: center;
            color: #2d3436;
            margin-bottom: 20px;
            font-size: clamp(14px, 3.5vw, 18px);
            font-weight: bold;
        }

        /* å¾—åˆ†æ˜¾ç¤º */
        .score-display {
            text-align: center;
            margin-bottom: 15px;
            font-size: clamp(14px, 3.5vw, 18px);
            font-weight: bold;
            color: #2d3436;
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* è¿›åº¦æ¡ */
        .progress-container {
            background: #dfe6e9;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #fdcb6e, #e17055);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        /* ======= æ¹¾åŒºç¾é£Ÿå¡æ ·å¼ ======= */
        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .mode-btn {
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: clamp(11px, 2.5vw, 14px);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            transform: scale(1.1);
        }

        .mode-btn:not(.active) {
            background: #dfe6e9;
            color: #636e72;
        }

        /* ç¾é£Ÿå±•ç¤ºåŒº */
        .food-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 25px;
            padding: 15px;
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            border-radius: 15px;
            border: 2px dashed #e17055;
        }

        .food-item {
            aspect-ratio: 1;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            padding: 8px;
            background: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .food-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .food-item:hover {
            transform: scale(1.1) rotate(3deg);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .food-item:hover::before {
            left: 100%;
        }

        .food-item.selected {
            border-color: #e17055;
            transform: scale(1.15) rotate(0deg);
            box-shadow: 0 10px 25px rgba(225, 112, 85, 0.4);
            z-index: 10;
        }

        .food-item.matched {
            opacity: 0.5;
            pointer-events: none;
            transform: scale(0.9);
        }

        .food-emoji {
            font-size: clamp(20px, 5vw, 26px);
            margin-bottom: 5px;
            animation: food-bounce 2s ease-in-out infinite;
        }

        @keyframes food-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .food-name {
            font-size: clamp(9px, 2.5vw, 12px);
            font-weight: bold;
            text-align: center;
            line-height: 1.2;
            color: #2d3436;
        }

        /* åœ°åŒºé€‰æ‹©åŒº */
        .region-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .region-btn {
            padding: 15px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
            font-weight: bold;
            color: white;
            min-height: 80px;
        }

        .region-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .region-btn.highlight {
            border-color: #00b894;
            animation: region-glow 1.5s ease-in-out infinite;
        }

        @keyframes region-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 184, 148, 0.3); }
            50% { box-shadow: 0 0 30px rgba(0, 184, 148, 0.6); }
        }

        .region-hongkong { background: linear-gradient(135deg, #e17055, #d63031); }
        .region-guangzhou { background: linear-gradient(135deg, #00b894, #00cec9); }
        .region-macau { background: linear-gradient(135deg, #fdcb6e, #f39c12); }
        .region-shenzhen { background: linear-gradient(135deg, #74b9ff, #0984e3); }

        .region-emoji {
            font-size: clamp(20px, 5vw, 26px);
            margin-bottom: 8px;
            animation: region-bounce 2s ease-in-out infinite;
        }

        @keyframes region-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .region-name {
            font-size: clamp(11px, 3vw, 14px);
            text-align: center;
            line-height: 1.2;
        }

        /* ======= æµ·åº•æœ‹å‹å¡æ ·å¼ ======= */
        .ocean-world {
            position: relative;
            min-height: calc(100vh - 80px);
            padding: 20px;
            display: flex;
            flex-direction: column;
            background: linear-gradient(to bottom, 
                #74b9ff 0%, 
                #0984e3 25%, 
                #006994 50%, 
                #0077be 75%, 
                #004c7a 100%);
            overflow: hidden;
        }

        /* æµ·æ´‹æ³¢æµªæ•ˆæœ */
        .ocean-world::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at top, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(ellipse at bottom, rgba(0,0,0,0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        /* æ¹¾æ¹¾æŒ‡å¯¼åŒºï¼ˆæµ®åŠ¨ï¼‰ */
        .guide-panel {
            position: fixed;
            top: 90px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(116, 185, 255, 0.3);
            max-width: 280px;
            z-index: 100;
            animation: guide-float 3s ease-in-out infinite;
        }

        @keyframes guide-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        /* æµ·åº•åœºæ™¯ */
        .ocean-scene {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 500px;
            margin-top: 50px;
            z-index: 2;
        }

        /* æµ·æ´‹åˆ†å±‚ - ç§»é™¤èƒŒæ™¯è‰²ï¼Œä¿æŒé€æ˜ */
        .ocean-layer {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 20px;
            flex-wrap: wrap;
            gap: 20px;
            margin: 10px 0;
        }

        .surface-layer {
            /* æµ·é¢å±‚ - é€æ˜èƒŒæ™¯ */
            min-height: 120px;
        }

        .middle-layer {
            /* ä¸­å±‚æµ·åŸŸ - é€æ˜èƒŒæ™¯ */
            min-height: 140px;
        }

        .deep-layer {
            /* æ·±æµ·å±‚ - é€æ˜èƒŒæ™¯ */
            min-height: 160px;
        }

        /* æµ·æ´‹æœ‹å‹ */
        .ocean-friend {
            position: relative;
            cursor: pointer;
            transition: all 0.4s ease;
            animation: friend-idle 4s ease-in-out infinite;
            z-index: 10;
        }

        .ocean-friend:hover {
            transform: scale(1.2) translateY(-10px);
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }

        .ocean-friend.clicked {
            animation: friend-excited 0.8s ease-in-out;
        }

        @keyframes friend-idle {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }

        @keyframes friend-excited {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.3) rotate(10deg); }
            50% { transform: scale(1.2) rotate(-5deg); }
            75% { transform: scale(1.3) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        /* ======= å…±ç”Ÿäº’åŠ¨å¡æ ·å¼ ======= */
        .harmony-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .harmony-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 400px;
        }

        .harmony-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .harmony-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
        }

        .harmony-card-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 15px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .harmony-card-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
        }

        .harmony-card-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: center;
        }

        .game-area {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .game-instruction {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
            text-align: center;
        }

        .harmony-progress-bar {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .harmony-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .harmony-card-action {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            width: 100%;
            font-size: 1em;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .harmony-card-action:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .harmony-card-action:disabled {
            background: #4caf50;
            transform: none;
            cursor: not-allowed;
        }

        /* åé¦ˆæ¶ˆæ¯ */
        .feedback {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 25px;
            font-weight: bold;
            font-size: clamp(12px, 3vw, 16px);
            opacity: 0;
            transition: all 0.4s ease;
            z-index: 1000;
            text-align: center;
            min-width: 200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .feedback.show {
            opacity: 1;
            transform: translateX(-50%) translateY(10px);
        }

        .feedback.correct {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
        }

        /* AR æç¤º */
        .ar-hint {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: clamp(10px, 2.5vw, 13px);
            opacity: 0.8;
            z-index: 10;
        }

        /* çŸ¥è¯†å±•ç¤ºé¢æ¿ */
        .knowledge-panel {
            position: fixed;
            bottom: -100%;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px 25px 0 0;
            padding: 25px;
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border-top: 3px solid #74b9ff;
            transition: bottom 0.5s ease;
            z-index: 200;
            max-height: 60vh;
            overflow-y: auto;
        }

        .knowledge-panel.show {
            bottom: 0;
        }

        .knowledge-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 2px solid #dfe6e9;
            padding-bottom: 15px;
        }

        .knowledge-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: clamp(18px, 4.5vw, 24px);
            font-weight: bold;
            color: #2d3436;
        }

        .close-btn {
            background: #e17055;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: #d63031;
            transform: scale(1.1);
        }

        .knowledge-content {
            display: grid;
            gap: 15px;
        }

        .knowledge-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 15px;
            border-left: 4px solid #74b9ff;
            transition: all 0.3s ease;
        }

        .knowledge-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .knowledge-label {
            font-size: clamp(14px, 3.5vw, 16px);
            font-weight: bold;
            color: #74b9ff;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .knowledge-text {
            font-size: clamp(12px, 3vw, 14px);
            color: #2d3436;
            line-height: 1.5;
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes disappear {
            0% { transform: scale(1.15) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.3) rotate(180deg); opacity: 0.7; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            10% { transform: translateX(-5px) rotate(-2deg); }
            20% { transform: translateX(5px) rotate(2deg); }
            30% { transform: translateX(-5px) rotate(-1deg); }
            40% { transform: translateX(5px) rotate(1deg); }
            50% { transform: translateX(-3px) rotate(-1deg); }
            60% { transform: translateX(3px) rotate(1deg); }
            70% { transform: translateX(-2px); }
            80% { transform: translateX(2px); }
            90% { transform: translateX(-1px); }
            100% { transform: translateX(0); }
        }

        @keyframes bounce {
            0% { transform: translateY(0px) rotate(-2deg); }
            25% { transform: translateY(-15px) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(2deg); }
            75% { transform: translateY(-10px) rotate(-1deg); }
            100% { transform: translateY(0px) rotate(-2deg); }
        }
        
        @keyframes spin {
            0% { transform: rotateY(0deg) translateY(0px) scale(1); }
            25% { transform: rotateY(90deg) translateY(-8px) scale(1.05); }
            50% { transform: rotateY(180deg) translateY(-15px) scale(1.1); }
            75% { transform: rotateY(270deg) translateY(-8px) scale(1.05); }
            100% { transform: rotateY(360deg) translateY(0px) scale(1); }
        }
        
        @keyframes droop {
            0% { transform: translateY(0px) rotate(-2deg); }
            15% { transform: translateY(5px) rotate(-4deg); }
            30% { transform: translateY(15px) rotate(-8deg); }
            45% { transform: translateY(20px) rotate(-10deg); }
            60% { transform: translateY(25px) rotate(-12deg); }
            75% { transform: translateY(20px) rotate(-10deg); }
            90% { transform: translateY(10px) rotate(-6deg); }
            100% { transform: translateY(0px) rotate(-2deg); }
        }

        /* å®Œæˆåº†ç¥åŠ¨ç”» */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fd79a8;
            animation: confetti-fall 3s linear infinite;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        /* ç‰¹æ®Šæ•ˆæœ */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2em;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 0 10px;
            }
            
            .dolphin-showcase {
                width: 250px;
                height: 160px;
            }
            
            .main-dolphin {
                width: 120px;
                height: 80px;
            }

            .card-container {
                width: min(95vw, 400px);
                margin: 10px auto;
            }

            .card-page-container {
                padding: 10px;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
            }

            .dolphin-container {
                height: 200px;
            }

            .emotion-controls {
                padding: 15px;
            }

            .emotion-description {
                min-height: 80px;
                padding: 15px 10px;
                margin-bottom: 20px;
            }

            .game-content {
                padding: 15px;
            }

            .food-display {
                gap: 8px;
                padding: 12px;
            }

            .region-container {
                gap: 8px;
            }

            .guide-panel {
                position: relative;
                top: auto;
                right: auto;
                margin: 0 auto 20px auto;
                max-width: 90%;
            }

            .ocean-layer {
                padding: 15px 10px;
                gap: 15px;
            }

            .knowledge-panel {
                padding: 20px 15px;
                max-height: 70vh;
            }

            .ocean-scene {
                margin-top: 20px;
                min-height: 400px;
            }

            .harmony-cards-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 0 10px;
            }
        }

        @media (max-width: 480px) {
            .ocean-layer {
                min-height: auto;
                padding: 10px 5px;
            }

            .surface-layer { min-height: 80px; }
            .middle-layer { min-height: 100px; }
            .deep-layer { min-height: 120px; }
        }
    </style>
</head>
<body>
    <div class="ocean-bg">
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <!-- ä¸»é¡µ -->
    <div class="page active" id="homePage">
        <div class="main-container">
            <header class="header">
                <h1 class="main-title">WANWAN's SEA WORLD</h1>
                     <h1 class="main-title">æ¹¾æ¹¾çš„æµ·æ´‹ä¸–ç•Œ</h1>
                <p class="subtitle">The Wonderful AR Card Journey of the Chinese White Dolphin</p>
                <p class="subtitle">å’Œä¸­å›½ç™½æµ·è±šçš„ARæ¢ç´¢ä¹‹æ—…ï½</p>
            </header>

            <div class="dolphin-showcase" onclick="playWelcomeAnimation()">
                <div class="main-dolphin" id="mainDolphin">
                    <div class="main-dolphin-body">
                        <div class="main-dolphin-belly"></div>
                        <div class="main-dolphin-fin"></div>
                        <div class="main-dolphin-tail"></div>
                        <div class="main-dolphin-eye"></div>
                        <div class="main-dolphin-smile"></div>
                    </div>
                </div>
            </div>

            <div class="cards-grid">
                <div class="card emotion" onclick="openCard('emotion')">
                    <span class="card-icon">
                        <img src="./emotion.png" alt="æƒ…ç»ªè‰²å½©å¡å›¾æ ‡" loading="lazy">
                      </span>
                    <h3 class="card-title">Emotion Palette Cardï½œæƒ…ç»ªè‰²å½©å¡</h3>
                    <p class="card-description">See how Wanwan expresses emotions with colors! From joy and excitement to anger and sadness â€” each emotion shines in its unique hue.</p>
                    <span class="card-status status-available">EXPLORE NOW</span>
                </div>

                <div class="card environment" onclick="openCard('environment')">
                    <span class="card-icon">
                        <img src="./ç¯ä¿.png" alt="ç¯ä¿åˆ†ç±»å¡å›¾æ ‡" loading="lazy">
                      </span>
                    <h3 class="card-title">Eco Sorting Cardï½œç¯ä¿åˆ†ç±»å¡</h3>
                    <p class="card-description">Learn to sort marine waste with Wanwan and protect our ocean home â€” keeping every wave crystal clean.</p>
                    <span class="card-status status-available">START LEARNING</span>
                </div>

                <div class="card food" onclick="openCard('food')">
                    <span class="card-icon">
                        <img src="./Eat.png" alt="æ¹¾åŒºç¾é£Ÿå¡å›¾æ ‡" style="width:60px; height:60px; display:block; margin:0 auto 15px; object-fit:contain;">
                    </span>
                    <h3 class="card-title">Bay Area Food Cardï½œæ¹¾åŒºç¾é£Ÿå¡</h3>
                    <p class="card-description">Explore Cantonese and Macao-style dim sum culture â€” from traditional tea houses to modern delights, discover the charm of the Bay Areaâ€™s cuisine.</p>
                    <span class="card-status status-available">TASTE NOW</span>
                </div>

                <div class="card friends" onclick="openCard('friends')">
                    <span class="card-icon">
                        <img src="./friend.png" alt="æµ·åº•æœ‹å‹å¡å›¾æ ‡" style="width:60px; height:60px; display:block; margin:0 auto 15px; object-fit:contain;">
                    </span>
                    <h3 class="card-title">Ocean Friends Cardï½œæµ·åº•æœ‹å‹å¡</h3>
                    <p class="card-description">è®¤è¯†æ¹¾æ¹¾çš„æµ·æ´‹æœ‹å‹ä»¬ï¼äº†è§£ç æ±Ÿå£çš„ä¸°å¯Œæµ·æ´‹ç”Ÿç‰©ï¼Œå‘ç°æ¯ä¸ªå°ç”Ÿå‘½çš„ç‹¬ç‰¹ä¹‹å¤„ã€‚</p>
                    <span class="card-status status-available">MEET NOW</span>
                </div>

                <div class="card harmony" onclick="openCard('harmony')">
                    <span class="card-icon">
                        <img src="./hand.png" alt="å…±ç”Ÿäº’åŠ¨å¡å›¾æ ‡" style="width:60px; height:60px; display:block; margin:0 auto 15px; object-fit:contain;">
                    </span>
                    <h3 class="card-title">Co-living Interaction Cardï½œå…±ç”Ÿäº’åŠ¨å¡</h3>
                    <p class="card-description">ä½“éªŒå°æ¹¾ç”Ÿæ€ä¸æ–‡åŒ–çš„å’Œè°å…±ç”Ÿï¼ä»æ¨±èŠ±è´è¶å›­åˆ°å¤œå¸‚ç¾é£Ÿï¼Œæ„Ÿå—å®å²›çš„ç‹¬ç‰¹é­…åŠ›ã€‚</p>
                    <span class="card-status status-available">JOIN INTERACTION</span>
                </div>
            </div>

            <div class="footer-info">
                <h3>ğŸŒŸ å…³äºæ¹¾æ¹¾</h3>
                <p>æ¹¾æ¹¾æ˜¯ç”Ÿæ´»åœ¨ç æ±Ÿå£çš„ä¸­åç™½æµ·è±šï¼Œæ˜¯å›½å®¶ä¸€çº§ä¿æŠ¤åŠ¨ç‰©ã€‚å¥¹æœ‰ç€ç²‰çº¢è‰²çš„çš®è‚¤å’Œèªæ˜çš„å¤§è„‘ï¼Œå–œæ¬¢åœ¨æ¸…æ¾ˆçš„æµ·æ°´ä¸­è‡ªç”±æ¸¸æ³³ã€‚é€šè¿‡è¿™äº›ARå¡ç‰‡ï¼Œè®©æˆ‘ä»¬ä¸€èµ·äº†è§£æ¹¾æ¹¾çš„ä¸–ç•Œï¼Œå­¦ä¼šä¿æŠ¤æµ·æ´‹ï¼Œä¸è‡ªç„¶å’Œè°å…±ç”Ÿã€‚</p>
            </div>
        </div>
    </div>

    <!-- æƒ…ç»ªè‰²å½©å¡é¡µé¢ -->
    <div class="page" id="emotionPage">
        <div class="card-page-container">
            <div class="card-container">
                <!-- å¤´éƒ¨ -->
                <div class="card-header emotion-header">
                    <button class="back-btn" onclick="goBackHome()">ğŸ </button>
                    <div class="header-title">ğŸ¬ æ¹¾æ¹¾çš„æƒ…ç»ªè‰²å½©å¡</div>
                    <div class="header-icon">ğŸ“±</div>
                </div>
                
                <div class="dolphin-container">
                    <!-- æ°´æ³¡æ•ˆæœ -->
                    <div class="water-bubble bubble-1"></div>
                    <div class="water-bubble bubble-2"></div>
                    <div class="water-bubble bubble-3"></div>
                    <div class="water-bubble bubble-4"></div>
                    
                    <!-- æµ·è±š -->
                    <div class="dolphin" id="dolphin">
                        <div class="dolphin-body" id="dolphin-body">
                            <div class="dolphin-belly"></div>
                            <div class="dolphin-fin"></div>
                            <div class="dolphin-tail"></div>
                            <div class="dolphin-eye"></div>
                            <div class="dolphin-smile"></div>
                        </div>
                    </div>
                </div>
                
                <div class="emotion-controls">
                    <div class="emotion-title">ç‚¹å‡»æŒ‰é’®çœ‹æ¹¾æ¹¾å˜è‰²ï¼</div>
                    
                    <div class="emotion-buttons">
                        <button class="emotion-btn btn-happy" onclick="changeEmotion('happy')">
                            ğŸ˜Š å¼€å¿ƒ
                        </button>
                        <button class="emotion-btn btn-excited" onclick="changeEmotion('excited')">
                            ğŸŒŸ å…´å¥‹
                        </button>
                        <button class="emotion-btn btn-angry" onclick="changeEmotion('angry')">
                            ğŸ˜¤ ç”Ÿæ°”
                        </button>
                        <button class="emotion-btn btn-sad" onclick="changeEmotion('sad')">
                            ğŸ˜¢ éš¾è¿‡
                        </button>
                    </div>
                    
                    <div class="emotion-description" id="description">
                        ç‚¹å‡»ä¸Šé¢çš„æƒ…ç»ªæŒ‰é’®ï¼Œçœ‹çœ‹æ¹¾æ¹¾ä¼šå˜æˆä»€ä¹ˆé¢œè‰²ï¼
                    </div>
                </div>
                
                <div class="ar-hint">ğŸ” æ‰«ç çœ‹ARåŠ¨ç”»</div>
            </div>
        </div>
    </div>

    <!-- ç¯ä¿åˆ†ç±»å¡é¡µé¢ -->
    <div class="page" id="environmentPage">
        <div class="card-page-container">
            <div class="card-container">
                <!-- å¤´éƒ¨ -->
                <div class="card-header environment-header">
                    <button class="back-btn" onclick="goBackHome()">ğŸ </button>
                    <div class="header-title">ğŸŒŠ æ¹¾æ¹¾çš„ç¯ä¿åˆ†ç±»å¡</div>
                    <div class="header-icon">â™»ï¸</div>
                </div>

                <!-- æ¹¾æ¹¾æŒ‡å¯¼åŒº -->
                <div class="dolphin-guide">
                    <div class="guide-dolphin">
                        <div class="guide-dolphin-body">
                            <div class="guide-dolphin-fin"></div>
                            <div class="guide-dolphin-tail"></div>
                            <div class="guide-dolphin-eye"></div>
                        </div>
                    </div>
                    <div class="guide-text" id="envGuideText">
                        ä½ å¥½ï¼æˆ‘æ˜¯æ¹¾æ¹¾ğŸ¬ è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ åƒåœ¾åˆ†ç±»ï¼Œä¿æŠ¤ç¾ä¸½çš„æµ·æ´‹å§ï¼
                    </div>
                </div>

                <!-- æ¸¸æˆå†…å®¹ -->
                <div class="game-content">
                    <div class="progress-container">
                        <div class="progress-bar" id="envProgressBar"></div>
                    </div>

                    <div class="score-display">
                        ğŸ† å¾—åˆ†: <span id="envScore">0</span> | æ­£ç¡®ç‡: <span id="envAccuracy">0%</span>
                    </div>

                    <div class="game-title" id="envGameTitle">ç‚¹å‡»åƒåœ¾è¿›è¡Œåˆ†ç±»</div>

                    <div class="food-display" id="envTrashContainer">
                        <!-- åƒåœ¾ç‰©å“ -->
                        <div class="food-item" data-type="recyclable" data-name="æŠ¥çº¸" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ“°</div>
                            <div class="food-name">æŠ¥çº¸</div>
                        </div>
                        <div class="food-item" data-type="organic" data-name="é¦™è•‰çš®" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸŒ</div>
                            <div class="food-name">é¦™è•‰çš®</div>
                        </div>
                        <div class="food-item" data-type="harmful" data-name="ç”µæ± " onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ”‹</div>
                            <div class="food-name">ç”µæ± </div>
                        </div>
                        <div class="food-item" data-type="other" data-name="çº¸å·¾" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ§»</div>
                            <div class="food-name">çº¸å·¾</div>
                        </div>
                        <div class="food-item" data-type="recyclable" data-name="å¡‘æ–™ç“¶" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ¥¤</div>
                            <div class="food-name">å¡‘æ–™ç“¶</div>
                        </div>
                        <div class="food-item" data-type="organic" data-name="è‹¹æœæ ¸" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ</div>
                            <div class="food-name">è‹¹æœæ ¸</div>
                        </div>
                        <div class="food-item" data-type="harmful" data-name="è¯å“" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ’Š</div>
                            <div class="food-name">è¯å“</div>
                        </div>
                        <div class="food-item" data-type="other" data-name="æµ·ç»µ" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ§½</div>
                            <div class="food-name">æµ·ç»µ</div>
                        </div>
                        <div class="food-item" data-type="recyclable" data-name="æ˜“æ‹‰ç½" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ¥«</div>
                            <div class="food-name">æ˜“æ‹‰ç½</div>
                        </div>
                        <div class="food-item" data-type="organic" data-name="èœå¶" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ¥¬</div>
                            <div class="food-name">èœå¶</div>
                        </div>
                        <div class="food-item" data-type="harmful" data-name="åŒ–å¦†å“" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸ’„</div>
                            <div class="food-name">åŒ–å¦†å“</div>
                        </div>
                        <div class="food-item" data-type="other" data-name="çƒŸå¤´" onclick="selectEnvTrash(this)">
                            <div class="food-emoji">ğŸš¬</div>
                            <div class="food-name">çƒŸå¤´</div>
                        </div>
                    </div>

                    <div class="region-container">
                        <div class="region-btn" data-type="recyclable" onclick="dropEnvTrash('recyclable')" style="background: linear-gradient(135deg, #dfe6e9, #b2bec3); color: #74b9ff;">
                            <div class="region-emoji">â™»ï¸</div>
                            <div class="region-name">å¯å›æ”¶åƒåœ¾</div>
                        </div>
                        <div class="region-btn" data-type="organic" onclick="dropEnvTrash('organic')" style="background: linear-gradient(135deg, #d1f2eb, #a3e4d7); color: #00b894;">
                            <div class="region-emoji">ğŸŒ±</div>
                            <div class="region-name">å¨ä½™åƒåœ¾</div>
                        </div>
                        <div class="region-btn" data-type="harmful" onclick="dropEnvTrash('harmful')" style="background: linear-gradient(135deg, #fadbd8, #f5b7b1); color: #e17055;">
                            <div class="region-emoji">â˜ ï¸</div>
                            <div class="region-name">æœ‰å®³åƒåœ¾</div>
                        </div>
                        <div class="region-btn" data-type="other" onclick="dropEnvTrash('other')" style="background: linear-gradient(135deg, #ebedef, #d5dbdb); color: #636e72;">
                            <div class="region-emoji">ğŸ—‘ï¸</div>
                            <div class="region-name">å…¶ä»–åƒåœ¾</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   <!-- æ¹¾åŒºç¾é£Ÿå¡é¡µé¢ -->
<div class="page" id="foodPage">
    <div class="card-page-container">
        <div class="card-container">
            <!-- å¤´éƒ¨ -->
            <div class="card-header food-header">
                <button class="back-btn" onclick="goBackHome()">ğŸ </button>
                <div class="header-title">
                    <img src="./Eat.png" alt="ç¾é£Ÿå›¾æ ‡" style="width:28px; height:28px; vertical-align:middle; margin-right:6px;">
                    æ¹¾æ¹¾çš„æ¹¾åŒºç¾é£Ÿå¡
                </div>
                <div class="header-icon">ğŸ¥Ÿ</div>
            </div>

                <!-- æ¹¾æ¹¾æŒ‡å¯¼åŒº -->
                <div class="dolphin-guide">
                    <div class="guide-dolphin">
                        <div class="guide-dolphin-body">
                            <div class="guide-dolphin-fin"></div>
                            <div class="guide-dolphin-tail"></div>
                            <div class="guide-dolphin-eye"></div>
                        </div>
                    </div>
                    <div class="guide-text" id="foodGuideText">
                        å¤§å®¶å¥½ï¼æˆ‘æ˜¯ç¾é£Ÿå¯¼æ¸¸æ¹¾æ¹¾ğŸ¬ è®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢ç²¤æ¸¯æ¾³æ¹¾åŒºçš„ç‰¹è‰²ç¾é£Ÿå§ï¼
                    </div>
                </div>

                <!-- æ¸¸æˆå†…å®¹ -->
                <div class="game-content">
                    <div class="progress-container">
                        <div class="progress-bar" id="foodProgressBar"></div>
                    </div>

                    <div class="score-display">
                        ğŸ† å¾—åˆ†: <span id="foodScore">0</span> | æ­£ç¡®ç‡: <span id="foodAccuracy">0%</span>
                    </div>

                    <div class="mode-selector">
                        <button class="mode-btn active" data-mode="region" onclick="switchFoodMode('region')">åœ°åŒºé…å¯¹</button>
                        <button class="mode-btn" data-mode="ingredient" onclick="switchFoodMode('ingredient')">é£Ÿææ­é…</button>
                    </div>

                    <div class="game-title" id="foodGameTitle">é€‰æ‹©ç¾é£Ÿï¼ŒçŒœçŒœå®ƒæ¥è‡ªå“ªä¸ªåœ°åŒºï¼Ÿ</div>

                    <!-- åœ°åŒºé…å¯¹æ¨¡å¼ -->
                    <div id="regionMode" class="game-mode">
                        <div class="food-display" id="foodContainer">
                            <!-- ç¾é£Ÿå°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                        </div>

                        <div class="region-container">
                            <div class="region-btn region-hongkong" data-region="hongkong" onclick="selectFoodRegion('hongkong')">
                                <div class="region-emoji">ğŸ™ï¸</div>
                                <div class="region-name">é¦™æ¸¯</div>
                            </div>
                            <div class="region-btn region-guangzhou" data-region="guangzhou" onclick="selectFoodRegion('guangzhou')">
                                <div class="region-emoji">ğŸ®</div>
                                <div class="region-name">å¹¿å·</div>
                            </div>
                            <div class="region-btn region-macau" data-region="macau" onclick="selectFoodRegion('macau')">
                                <div class="region-emoji">ğŸ°</div>
                                <div class="region-name">æ¾³é—¨</div>
                            </div>
                            <div class="region-btn region-shenzhen" data-region="shenzhen" onclick="selectFoodRegion('shenzhen')">
                                <div class="region-emoji">ğŸŒ†</div>
                                <div class="region-name">æ·±åœ³</div>
                            </div>
                        </div>
                    </div>

                    <!-- é£Ÿææ­é…æ¨¡å¼ -->
                    <div id="ingredientMode" class="game-mode" style="display: none;">
                        <div class="food-display" id="ingredientContainer">
                            <!-- é£Ÿæå°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                        </div>
                        <div id="dishContainer" class="region-container">
                            <!-- èœå“å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>

                <div class="ar-hint">ğŸ” æ‰«ç ä½“éªŒARç¾é£Ÿ</div>
            </div>
        </div>
    </div>

    <!-- æµ·åº•æœ‹å‹å¡é¡µé¢ -->
    <div class="page" id="friendsPage">
        <div class="main-container">
            <div style="width: 100%; max-width: 500px;">
                <!-- å¤´éƒ¨ -->
                <div class="card-header friends-header" style="border-radius: 25px 25px 0 0;">
                    <button class="back-btn" onclick="goBackHome()">ğŸ </button>
                    <div class="header-title">ğŸŒŠ æ¹¾æ¹¾çš„æµ·åº•æœ‹å‹ä¸–ç•Œ</div>
                    <div class="header-icon">ğŸ”</div>
                </div>

                <!-- æµ·æ´‹ä¸–ç•Œ -->
                <div class="ocean-world" style="background: linear-gradient(to bottom, #74b9ff 0%, #0984e3 25%, #006994 50%, #0077be 75%, #004c7a 100%); border-radius: 0 0 25px 25px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);">
                    <!-- æµ·æ´‹å…‰çº¿æ•ˆæœ -->
                    <div class="ocean-rays"></div>
                    
                    <!-- æµ·æ´‹æ°”æ³¡æ•ˆæœ -->
                    <div class="ocean-bubbles" id="oceanBubbles">
                        <!-- æ°”æ³¡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <!-- æ¹¾æ¹¾æŒ‡å¯¼é¢æ¿ -->
                    <div class="guide-panel" id="friendsGuidePanel">
                        <div class="guide-dolphin">
                            <div class="guide-dolphin-body">
                                <div class="guide-dolphin-fin"></div>
                                <div class="guide-dolphin-tail"></div>
                                <div class="guide-dolphin-eye"></div>
                            </div>
                        </div>
                        <div class="guide-text" id="friendsGuideText">
                            æ¬¢è¿æ¥åˆ°æˆ‘çš„æµ·åº•ä¸–ç•Œï¼ğŸ¬ ç‚¹å‡»æˆ‘çš„æœ‹å‹ä»¬äº†è§£å®ƒä»¬çš„æ•…äº‹å§ï¼
                        </div>
                    </div>

                    <!-- æµ·æ´‹åœºæ™¯ -->
                    <div class="ocean-scene">
                        <!-- æµ·é¢å±‚ -->
                        <div class="ocean-layer surface-layer">
                            <div class="ocean-friend friend-dolphin" data-friend="dolphin" onclick="showFriendInfo('dolphin')">
                                <div style="width: clamp(60px, 12vw, 100px); height: clamp(40px, 8vw, 65px); position: relative;">
                                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #ffb3ba, #ff8a95); border-radius: 50px 20px 50px 35px; position: relative; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);">
                                        <div style="position: absolute; bottom: 8px; left: 20px; width: 60%; height: 35%; background: rgba(255, 255, 255, 0.9); border-radius: 40px 20px 40px 45px;"></div>
                                        <div style="position: absolute; top: -15px; left: 30%; width: 25px; height: 35px; background: linear-gradient(135deg, #ffb3ba, #ff8a95); border-radius: 15px 5px 15px 15px; transform: rotate(-20deg);"></div>
                                        <div style="position: absolute; right: -15px; top: 40%; width: 30px; height: 40px; background: linear-gradient(135deg, #ffb3ba, #ff8a95); border-radius: 15px; transform: rotate(45deg); animation: tail-wave 3s ease-in-out infinite; transform-origin: left center;"></div>
                                        <div style="position: absolute; top: 30%; left: 25%; width: 8px; height: 8px; background: #2d3436; border-radius: 50%; animation: blink 4s infinite;"></div>
                                        <div style="position: absolute; top: 45%; left: 20%; width: 20px; height: 10px; border: 2px solid #2d3436; border-top: none; border-radius: 0 0 20px 20px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div style="position: absolute; left: 10%; font-size: clamp(30px, 6vw, 50px); color: #00b894; animation: decoration-sway 6s ease-in-out infinite;">ğŸŒ¿</div>
                            <div style="position: absolute; right: 15%; font-size: clamp(25px, 5vw, 40px); color: #fd79a8; animation: decoration-sway 6s ease-in-out infinite;">ğŸª¸</div>
                        </div>

                        <!-- ä¸­å±‚æµ·åŸŸ -->
                        <div class="ocean-layer middle-layer">
                            <div class="ocean-friend friend-goldfish" data-friend="goldfish" onclick="showFriendInfo('goldfish')">
                                <div style="width: clamp(45px, 9vw, 70px); height: clamp(30px, 6vw, 45px); position: relative;">
                                    <div style="width: 70%; height: 100%; background: linear-gradient(135deg, #fdcb6e, #f39c12); border-radius: 50%; position: relative; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);">
                                        <div style="position: absolute; right: -20px; top: 20%; width: 25px; height: 60%; background: linear-gradient(135deg, #fdcb6e, #f39c12); border-radius: 0 50% 50% 0; transform-origin: left center; animation: fish-tail-wave 2s ease-in-out infinite;"></div>
                                        <div style="position: absolute; top: -8px; left: 30%; width: 15px; height: 20px; background: linear-gradient(135deg, #fdcb6e, #f39c12); border-radius: 50% 20% 50% 50%; transform: rotate(-30deg);"></div>
                                        <div style="position: absolute; top: 30%; left: 20%; width: 8px; height: 8px; background: white; border-radius: 50%; border: 1px solid #2d3436;">
                                            <div style="width: 4px; height: 4px; background: #2d3436; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                                        </div>
                                        <div style="position: absolute; width: 6px; height: 6px; background: rgba(255, 255, 255, 0.3); border-radius: 50%; top: 40%; left: 40%; animation: scale-shine 3s ease-in-out infinite;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="ocean-friend friend-turtle" data-friend="turtle" onclick="showFriendInfo('turtle')">
                                <div style="width: clamp(55px, 11vw, 85px); height: clamp(45px, 9vw, 70px); position: relative;">
                                    <div style="width: 100%; height: 85%; background: linear-gradient(135deg, #00b894, #00cec9); border-radius: 60% 60% 50% 50%; position: relative; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); border: 2px solid #008c72;">
                                        <div style="position: absolute; top: 15%; left: 35%; width: 30%; height: 20%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 40% 40% 20% 20%;"></div>
                                        <div style="position: absolute; bottom: 15%; left: 35%; width: 30%; height: 20%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 20% 20% 40% 40%;"></div>
                                        <div style="position: absolute; top: 30%; left: 15%; width: 20%; height: 25%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 40% 20% 20% 40%;"></div>
                                        <div style="position: absolute; top: 30%; right: 15%; width: 20%; height: 25%; border: 1px solid #008c72; background: rgba(0, 0, 0, 0.1); border-radius: 20% 40% 40% 20%;"></div>
                                        <div style="position: absolute; top: 35%; left: 35%; width: 30%; height: 30%; background: rgba(0, 0, 0, 0.15); clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);"></div>
                                    </div>
                                    <div style="position: absolute; top: -2px; left: 50%; transform: translateX(-50%); width: 22px; height: 12px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 6px; border: 1px solid #2c5aa0; z-index: -1; animation: turtle-neck-move 4s ease-in-out infinite;"></div>
                                    <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); width: 32px; height: 26px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 60% 40% 40%; border: 1px solid #2c5aa0; animation: turtle-head-move 4s ease-in-out infinite;">
                                        <div style="position: absolute; top: 10px; left: 8px; width: 6px; height: 6px; background: #000; border-radius: 50%;"></div>
                                        <div style="position: absolute; top: 10px; right: 8px; width: 6px; height: 6px; background: #000; border-radius: 50%;"></div>
                                        <div style="position: absolute; top: 15px; left: 50%; transform: translateX(-50%); width: 4px; height: 2px; background: #2c5aa0; border-radius: 50%;"></div>
                                    </div>
                                    <div style="position: absolute; top: 25%; left: -20px; width: 22px; height: 14px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(-15deg);"></div>
                                    <div style="position: absolute; top: 25%; right: -20px; width: 22px; height: 14px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(15deg);"></div>
                                    <div style="position: absolute; bottom: 20%; left: -17px; width: 20px; height: 12px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(-30deg);"></div>
                                    <div style="position: absolute; bottom: 20%; right: -17px; width: 20px; height: 12px; background: linear-gradient(135deg, #55a3ff, #3742fa); border-radius: 60% 30% 60% 30%; border: 1px solid #2c5aa0; transform: rotate(30deg);"></div>
                                    <div style="position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 10px; height: 14px; background: linear-gradient(180deg, #55a3ff, #3742fa); border-radius: 50% 50% 80% 80%; border: 1px solid #2c5aa0;"></div>
                                </div>
                            </div>
                            <div style="position: absolute; left: 25%; font-size: clamp(25px, 5vw, 40px); color: #00b894; animation: decoration-sway 6s ease-in-out infinite;">ğŸŒ±</div>
                            <div style="position: absolute; right: 30%; font-size: clamp(20px, 4vw, 30px); color: #fdcb6e; animation: decoration-sway 6s ease-in-out infinite;">ğŸš</div>
                        </div>

                        <!-- æ·±æµ·å±‚ -->
                        <div class="ocean-layer deep-layer">
                            <div class="ocean-friend friend-octopus" data-friend="octopus" onclick="showFriendInfo('octopus')">
                                <div style="width: clamp(50px, 10vw, 80px); height: clamp(50px, 10vw, 80px); position: relative;">
                                    <div style="width: 60%; height: 60%; background: linear-gradient(135deg, #ff7675, #e84393); border-radius: 50%; position: relative; top: 0; left: 20%; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);">
                                        <div style="position: absolute; width: 12px; height: 12px; background: white; border-radius: 50%; border: 2px solid #2d3436; top: 30%; left: 20%;">
                                            <div style="width: 6px; height: 6px; background: #2d3436; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                                        </div>
                                        <div style="position: absolute; width: 12px; height: 12px; background: white; border-radius: 50%; border: 2px solid #2d3436; top: 30%; right: 20%;">
                                            <div style="width: 6px; height: 6px; background: #2d3436; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                                        </div>
                                    </div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 50%; left: 10%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 60%; left: 25%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.2s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 60%; right: 25%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.4s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 50%; right: 10%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.6s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 70%; left: 40%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 0.8s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 70%; right: 40%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 1s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 75%; left: 15%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 1.2s;"></div>
                                    <div style="position: absolute; width: 8px; height: 30px; background: linear-gradient(180deg, #ff7675, #e84393); border-radius: 4px; top: 75%; right: 15%; animation: tentacle-wave 2s ease-in-out infinite; animation-delay: 1.4s;"></div>
                                </div>
                            </div>
                            <div class="ocean-friend friend-crab" data-friend="crab" onclick="showFriendInfo('crab')">
                                <div style="width: clamp(50px, 10vw, 75px); height: clamp(45px, 9vw, 65px); position: relative;">
                                    <div style="width: 65%; height: 75%; background: linear-gradient(135deg, #e17055, #d63031); border-radius: 50% 50% 40% 60%; position: relative; left: 17.5%; top: 10%; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); border: 1px solid #c0392b;"></div>
                                    <div style="position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%); width: 70%; height: 35%; background: linear-gradient(135deg, #fab1a0, #e17055); border-radius: 60% 60% 40% 40%; border: 1px solid #d63031;"></div>
                                    <div style="position: absolute; width: 16px; height: 10px; background: linear-gradient(135deg, #fab1a0, #e17055); border-radius: 50% 20% 50% 50%; border: 1px solid #d63031; bottom: -6px; left: -20px; transform: rotate(-25deg);"></div>
                                    <div style="position: absolute; width: 16px; height: 10px; background: linear-gradient(135deg, #fab1a0, #e17055); border-radius: 50% 20% 50% 50%; border: 1px solid #d63031; bottom: -6px; right: -20px; transform: rotate(25deg);"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -12px; left: -8px; transform: rotate(-45deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -10px; left: 5px; transform: rotate(-25deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0.3s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -8px; left: 18px; transform: rotate(-10deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0.6s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -8px; right: 18px; transform: rotate(10deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 0.9s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -10px; right: 5px; transform: rotate(25deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 1.2s;"></div>
                                    <div style="position: absolute; width: 6px; height: 18px; background: linear-gradient(180deg, #fab1a0, #e17055); border-radius: 3px; border: 1px solid #d63031; bottom: -12px; right: -8px; transform: rotate(45deg); animation: crab-leg-move 2.5s ease-in-out infinite; animation-delay: 1.5s;"></div>
                                    <div style="position: absolute; top: -8px; width: 5px; height: 12px; background: linear-gradient(180deg, #fab1a0, #2d3436); border-radius: 50%; left: 30%; animation: crab-eye-sway 3s ease-in-out infinite; animation-delay: 0s;"></div>
                                    <div style="position: absolute; top: -8px; width: 5px; height: 12px; background: linear-gradient(180deg, #fab1a0, #2d3436); border-radius: 50%; right: 30%; animation: crab-eye-sway 3s ease-in-out infinite; animation-delay: 1.5s;"></div>
                                </div>
                            </div>
                            <div style="position: absolute; left: 20%; font-size: clamp(25px, 5vw, 40px); color: #fd79a8; animation: decoration-sway 6s ease-in-out infinite;">ğŸª¸</div>
                            <div style="position: absolute; right: 10%; font-size: clamp(30px, 6vw, 50px); color: #00b894; animation: decoration-sway 6s ease-in-out infinite;">ğŸŒ¿</div>
                            <div style="position: absolute; left: 60%; font-size: clamp(20px, 4vw, 30px); color: #fdcb6e; animation: decoration-sway 6s ease-in-out infinite;">ğŸš</div>
                        </div>
                    </div>
                </div>

                <div class="ar-hint">ğŸ” æ‰«ç ä½“éªŒARæµ·æ´‹</div>
            </div>
        </div>
    </div>

    <!-- å…±ç”Ÿäº’åŠ¨å¡é¡µé¢ -->
    <div class="page" id="harmonyPage">
        <div class="main-container">
            <div class="card-header harmony-header" style="border-radius: 25px 25px 0 0; margin-bottom: 0;">
                <button class="back-btn" onclick="goBackHome()">ğŸ </button>
                <div class="header-title">ğŸŒ¿ æ¹¾æ¹¾å…±ç”Ÿäº’åŠ¨å¡ ğŸ”ï¸</div>
                <div class="header-icon">ğŸŒŠ</div>
            </div>

            <div style="background: rgba(255, 255, 255, 0.95); border-radius: 0 0 25px 25px; padding: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);">
                <div class="harmony-cards-grid">
                    <!-- æ¨±èŠ±è´è¶å¡ -->
                    <div class="harmony-card" data-type="ecology">
                        <div class="harmony-card-icon">ğŸŒ¸</div>
                        <div class="harmony-card-title">æ¨±èŠ±è´è¶å›­</div>
                        <div class="harmony-card-description">ç‚¹å‡»è´è¶å¸®åŠ©å®ƒä»¬é‡‡é›†èŠ±ç²‰ï¼Œä½“éªŒç”Ÿæ€å¹³è¡¡ä¹‹ç¾</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ç‚¹å‡»é£èˆçš„è´è¶æ”¶é›†èŠ±ç²‰ (ç›®æ ‡: 5åª)</div>
                            <div style="width: 100%; height: 120px; position: relative; background: linear-gradient(to bottom, #87CEEB, #98FB98); border-radius: 10px; overflow: hidden; cursor: pointer;" id="butterfly-garden">
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 20px; left: 30px;" class="butterfly" onclick="catchButterfly(this)">ğŸ¦‹</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 60px; left: 100px;" class="butterfly" onclick="catchButterfly(this)">ğŸ¦‹</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 40px; left: 200px;" class="butterfly" onclick="catchButterfly(this)">ğŸ¦‹</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 80px; left: 150px;" class="butterfly" onclick="catchButterfly(this)">ğŸ¦‹</div>
                                <div style="position: absolute; font-size: 25px; transition: all 0.3s ease; cursor: pointer; animation: flutter 2s infinite; top: 10px; left: 250px;" class="butterfly" onclick="catchButterfly(this)">ğŸ¦‹</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="butterfly-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="butterfly-btn" disabled>å®Œæˆç”Ÿæ€ä¿æŠ¤ä»»åŠ¡</button>
                    </div>

                    <!-- å¤œå¸‚æ–‡åŒ–å¡ -->
                    <div class="harmony-card" data-type="culture">
                        <div class="harmony-card-icon">ğŸ®</div>
                        <div class="harmony-card-title">å£«æ—å¤œå¸‚ä½“éªŒ</div>
                        <div class="harmony-card-description">å“å°å„ç§å°æ¹¾å°é£Ÿï¼Œæ„Ÿå—å¤œå¸‚æ–‡åŒ–é­…åŠ›</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ç‚¹å‡»å“å°ç¾é£Ÿ (ç›®æ ‡: å“å°6ç§)</div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%;" class="night-market">
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="çç å¥¶èŒ¶" onclick="tasteFood(this)">ğŸ§‹<br>çç å¥¶èŒ¶</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="è‡­è±†è…" onclick="tasteFood(this)">ğŸ§€<br>è‡­è±†è…</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="é¸¡æ’" onclick="tasteFood(this)">ğŸ—<br>é¸¡æ’</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="åˆˆåŒ…" onclick="tasteFood(this)">ğŸ¥™<br>åˆˆåŒ…</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="è½¦è½®é¥¼" onclick="tasteFood(this)">ğŸ¥®<br>è½¦è½®é¥¼</div>
                                <div style="background: #ffeb3b; border: 2px solid #ff9800; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 12px;" class="food-item" data-food="èšµä»”ç…" onclick="tasteFood(this)">ğŸ¦ª<br>èšµä»”ç…</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="food-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="food-btn" disabled>å®Œæˆç¾é£Ÿæ–‡åŒ–ä½“éªŒ</button>
                    </div>

                    <!-- èŒ¶å›­å•è½¦å¡ -->
                    <div class="harmony-card" data-type="community">
                        <div class="harmony-card-icon">ğŸš²</div>
                        <div class="harmony-card-title">æ—¥æœˆæ½­èŒ¶å›­</div>
                        <div class="harmony-card-description">é‡‡æ‘˜èŒ¶å¶ï¼Œå­¦ä¹ åˆ¶èŒ¶å·¥è‰ºï¼Œæ„Ÿå—èŒ¶æ–‡åŒ–éŸµå‘³</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ç‚¹å‡»èŒ¶å¶è¿›è¡Œé‡‡æ‘˜ (ç›®æ ‡: é‡‡æ‘˜10ç‰‡)</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; align-items: center;" id="tea-garden">
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                                <div style="width: 30px; height: 30px; background: #4caf50; border-radius: 50% 0; cursor: pointer; transition: all 0.3s; position: relative;" class="tea-leaf" onclick="pickTea(this)"></div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="tea-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="tea-btn" disabled>å®ŒæˆèŒ¶æ–‡åŒ–ä½“éªŒ</button>
                    </div>

                    <!-- æµ·æ´‹ä¿æŠ¤å¡ -->
                    <div class="harmony-card" data-type="ocean">
                        <div class="harmony-card-icon">ğŸ </div>
                        <div class="harmony-card-title">ç»¿å²›çŠç‘šç¤</div>
                        <div class="harmony-card-description">è§‚å¯Ÿæµ·æ´‹ç”Ÿç‰©ï¼Œäº†è§£çŠç‘šç¤ç”Ÿæ€ç³»ç»Ÿ</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">ç‚¹å‡»æ¸¸è¿‡çš„æµ·æ´‹ç”Ÿç‰©è¿›è¡Œè§‚å¯Ÿ (ç›®æ ‡: 5ç§)</div>
                            <div style="width: 100%; height: 120px; background: linear-gradient(to bottom, #006994, #0077be); border-radius: 10px; position: relative; overflow: hidden;" id="coral-reef">
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 20px; animation-delay: 0s;" class="fish" onclick="observeFish(this)">ğŸ </div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 50px; animation-delay: 1s;" class="fish" onclick="observeFish(this)">ğŸŸ</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 80px; animation-delay: 2s;" class="fish" onclick="observeFish(this)">ğŸ¦ˆ</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 35px; animation-delay: 3s;" class="fish" onclick="observeFish(this)">ğŸ¡</div>
                                <div style="position: absolute; font-size: 20px; cursor: pointer; transition: all 0.5s ease; animation: swim 3s infinite linear; top: 65px; animation-delay: 4s;" class="fish" onclick="observeFish(this)">ğŸ™</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="ocean-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="ocean-btn" disabled>å®Œæˆæµ·æ´‹ä¿æŠ¤ä»»åŠ¡</button>
                    </div>

                    <!-- é«˜å±±æŒ‘æˆ˜å¡ -->
                    <div class="harmony-card" data-type="mountain">
                        <div class="harmony-card-icon">â›°ï¸</div>
                        <div class="harmony-card-title">ç‰å±±ç™»é¡¶æŒ‘æˆ˜</div>
                        <div class="harmony-card-description">ç‚¹å‡»å¸®åŠ©ç™»å±±è€…æ”€ç™»ï¼Œä½“éªŒå¾æœé«˜å³°çš„æˆå°±æ„Ÿ</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">è¿ç»­ç‚¹å‡»å¸®åŠ©ç™»å±±è€…ç™»é¡¶</div>
                            <div style="width: 100%; height: 100px; background: linear-gradient(45deg, #8b4513, #daa520, #228b22); border-radius: 10px; position: relative; cursor: pointer;" id="mountain" onclick="climbMountain()">
                                <div style="position: absolute; font-size: 20px; bottom: 10px; left: 10px; transition: all 1s ease;" id="climber">ğŸ§—</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="mountain-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="mountain-btn" disabled>å®Œæˆç™»å±±æŒ‘æˆ˜</button>
                    </div>

                    <!-- åº™å®‡æ–‡åŒ–å¡ -->
                    <div class="harmony-card" data-type="tradition">
                        <div class="harmony-card-icon">ğŸ­</div>
                        <div class="harmony-card-title">é¾™å±±å¯ºç¥ˆç¦</div>
                        <div class="harmony-card-description">æ•²å“ç¥ˆç¦é’Ÿå£°ï¼Œä½“éªŒä¼ ç»Ÿæ–‡åŒ–çš„åº„ä¸¥ä¸ç¥åœ£</div>
                        
                        <div class="game-area">
                            <div class="game-instruction">æŒ‰é¡ºåºæ•²å“æ‰€æœ‰é’Ÿå£°</div>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; width: 100%;" class="temple-bells">
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="1" onclick="ringBell(this)">ğŸ””</div>
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="2" onclick="ringBell(this)">ğŸ””</div>
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="3" onclick="ringBell(this)">ğŸ””</div>
                                <div style="background: #ffd700; border: 2px solid #daa520; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; font-size: 16px;" class="bell" data-bell="4" onclick="ringBell(this)">ğŸ””</div>
                            </div>
                            <div class="harmony-progress-bar">
                                <div class="harmony-progress-fill" id="temple-progress"></div>
                            </div>
                        </div>
                        
                        <button class="harmony-card-action" id="temple-btn" disabled>å®Œæˆç¥ˆç¦ä»ªå¼</button>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; color: white; text-align: center; margin-top: 20px;">
                    <div style="font-size: 1.5em; font-weight: bold; margin-bottom: 10px;">å…±ç”Ÿæˆå°±: <span id="harmonyScore">0</span> ğŸ†</div>
                    <p>å®Œæˆä»»åŠ¡: <span id="harmonyCompleted">0</span>/6</p>
                    <button style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 10px 20px; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; margin-top: 10px;" onclick="resetAllHarmonyGames()">é‡æ–°å¼€å§‹ä½“éªŒ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- çŸ¥è¯†å±•ç¤ºé¢æ¿ -->
    <div class="knowledge-panel" id="knowledgePanel">
        <div class="knowledge-header">
            <div class="knowledge-title" id="knowledgeTitle">
                <span id="friendEmoji">ğŸ¬</span>
                <span id="friendName">é€‰æ‹©ä¸€ä¸ªæœ‹å‹</span>
            </div>
            <button class="close-btn" onclick="closeKnowledgePanel()">Ã—</button>
        </div>
        <div class="knowledge-content" id="knowledgeContent">
            <!-- çŸ¥è¯†å†…å®¹å°†åŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <div id="feedback" class="feedback"></div>

    <script>
        // åˆ›å»ºéšæœºæ°”æ³¡
        function createBubbles() {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.width = Math.random() * 15 + 5 + 'px';
            bubble.style.height = bubble.style.width;
            bubble.style.animationDuration = Math.random() * 3 + 3 + 's';
            bubble.style.animationDelay = Math.random() * 2 + 's';
            
            document.querySelector('.ocean-bg').appendChild(bubble);
            
            setTimeout(() => {
                bubble.remove();
            }, 8000);
        }

        // æ¯3ç§’åˆ›å»ºä¸€ä¸ªæ°”æ³¡
        setInterval(createBubbles, 3000);

        // é¡µé¢ç®¡ç†
        function showPage(pageId) {
            // éšè—æ‰€æœ‰é¡µé¢
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // æ˜¾ç¤ºæŒ‡å®šé¡µé¢
            document.getElementById(pageId).classList.add('active');
        }

        // è¿”å›ä¸»é¡µ
        function goBackHome() {
            showPage('homePage');
        }

        // æ¬¢è¿åŠ¨ç”»
        function playWelcomeAnimation() {
            const dolphin = document.getElementById('mainDolphin');
            dolphin.style.animation = 'dolphin-swim 6s ease-in-out infinite, bounce 0.6s ease-in-out 3';
            
            // åˆ›å»ºå½©è‰²ç²’å­
            createWelcomeParticles();
            
            setTimeout(() => {
                dolphin.style.animation = 'dolphin-swim 6s ease-in-out infinite';
            }, 2000);
        }

        // æ¬¢è¿ç²’å­æ•ˆæœ
        function createWelcomeParticles() {
            const colors = ['#ff7675', '#74b9ff', '#00b894', '#fdcb6e', '#fd79a8'];
            const showcase = document.querySelector('.dolphin-showcase');
            
            for(let i = 0; i < 12; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.style.position = 'absolute';
                    particle.style.width = '6px';
                    particle.style.height = '6px';
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.borderRadius = '50%';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animation = 'sparkle 1.5s ease-out forwards';
                    particle.style.pointerEvents = 'none';
                    
                    showcase.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 1500);
                }, i * 100);
            }
        }

        // åˆ›å»ºé—ªå…‰æ•ˆæœ
        function createSparkles() {
            const showcase = document.querySelector('.dolphin-showcase');
            if (!showcase) return;
            
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = Math.random() * 100 + '%';
            sparkle.style.top = Math.random() * 100 + '%';
            sparkle.style.animationDelay = Math.random() * 2 + 's';
            
            showcase.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // æ¯3ç§’åˆ›å»ºé—ªå…‰
        setInterval(createSparkles, 3000);

        // å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        function openCard(cardType) {
            switch(cardType) {
                case 'emotion':
                    showLoadingAndJump('emotion');
                    break;
                case 'environment':
                    showLoadingAndJump('environment');
                    break;
                case 'food':
                    showLoadingAndJump('food');
                    break;
                case 'friends':
                    showLoadingAndJump('friends');
                    break;
                case 'harmony':
                    showLoadingAndJump('harmony');
                    break;
            }
        }

        // æ˜¾ç¤ºåŠ è½½æ•ˆæœå¹¶è·³è½¬
        function showLoadingAndJump(cardType) {
            // åˆ›å»ºåŠ è½½é®ç½©
            const loadingOverlay = document.createElement('div');
            loadingOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #74b9ff, #0984e3);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            const cardNames = {
                emotion: 'æƒ…ç»ªè‰²å½©å¡',
                environment: 'ç¯ä¿åˆ†ç±»å¡',
                food: 'æ¹¾åŒºç¾é£Ÿå¡',
                friends: 'æµ·åº•æœ‹å‹å¡',
                harmony: 'å…±ç”Ÿäº’åŠ¨å¡'
            };
            
            loadingOverlay.innerHTML = `
                <div style="text-align: center; color: white;">
                    <div style="position: relative; width: 80px; height: 80px; margin: 0 auto 30px auto;">
                        <div style="
                            width: 60px; 
                            height: 40px; 
                            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                            border-radius: 30px 10px 30px 20px; 
                            position: absolute; 
                            top: 20px; 
                            left: 10px;
                            animation: loading-swim 2s ease-in-out infinite;
                            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                        "></div>
                        <div style="
                            width: 8px; 
                            height: 8px; 
                            background: #2d3436; 
                            border-radius: 50%; 
                            position: absolute; 
                            top: 30px; 
                            left: 25px;
                            animation: loading-swim 2s ease-in-out infinite;
                        "></div>
                        <div style="
                            width: 15px; 
                            height: 25px; 
                            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                            border-radius: 8px; 
                            position: absolute; 
                            top: 15px; 
                            left: 25px; 
                            transform: rotate(-20deg);
                            animation: loading-swim 2s ease-in-out infinite;
                        "></div>
                        <div style="
                            width: 20px; 
                            height: 25px; 
                            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                            border-radius: 10px; 
                            position: absolute; 
                            top: 25px; 
                            right: 5px; 
                            transform: rotate(45deg);
                            animation: loading-tail 1.5s ease-in-out infinite;
                            transform-origin: left center;
                        "></div>
                    </div>
                    <h2 style="font-size: 1.5em; margin-bottom: 10px;">æ¹¾æ¹¾æ­£åœ¨å‡†å¤‡${cardNames[cardType]}...</h2>
                    <p style="font-size: 1em; opacity: 0.8;">å³å°†è¿›å…¥å¥‡å¦™çš„ä¸–ç•Œ</p>
                </div>
                <style>
                    @keyframes loading-swim {
                        0%, 100% { transform: translateY(0px) rotate(0deg); }
                        50% { transform: translateY(-8px) rotate(2deg); }
                    }
                    @keyframes loading-tail {
                        0%, 100% { transform: rotate(45deg); }
                        50% { transform: rotate(25deg); }
                    }
                </style>
            `;
            
            document.body.appendChild(loadingOverlay);
            
            // æ˜¾ç¤ºåŠ è½½ç•Œé¢
            setTimeout(() => {
                loadingOverlay.style.opacity = '1';
            }, 10);
            
            // 2ç§’åè·³è½¬
            setTimeout(() => {
                loadingOverlay.remove();
                showPage(cardType + 'Page');
                
                // åˆå§‹åŒ–å¯¹åº”çš„æ¸¸æˆ
                if (cardType === 'environment') {
                    initEnvironmentGame();
                } else if (cardType === 'emotion') {
                    initEmotionCard();
                } else if (cardType === 'food') {
                    initFoodGame();
                } else if (cardType === 'friends') {
                    initFriendsGame();
                } else if (cardType === 'harmony') {
                    initHarmonyGames();
                }
            }, 2000);
        }

        // ======= æƒ…ç»ªè‰²å½©å¡é€»è¾‘ =======
        function initEmotionCard() {
            // æƒ…ç»ªæ•°æ®
            const emotions = {
                happy: {
                    color: 'happy',
                    text: 'å¼€å¿ƒçš„æ¹¾æ¹¾å˜æˆäº†çç ç™½è‰²ï¼âœ¨ å°±åƒç æ±Ÿå£çš„æµªèŠ±ä¸€æ ·çº¯å‡€ç¾ä¸½ï¼',
                    animation: 'bounce'
                },
                excited: {
                    color: 'excited',
                    text: 'å…´å¥‹çš„æ¹¾æ¹¾å˜æˆäº†æ¨±èŠ±ç²‰ï¼ğŸŒ¸ ç²‰å˜Ÿå˜Ÿçš„å¥½å¯çˆ±ï¼Œåƒä¸ªå®³ç¾çš„å°å…¬ä¸»ï¼',
                    animation: 'spin'
                },
                angry: {
                    color: 'angry',
                    text: 'ç”Ÿæ°”çš„æ¹¾æ¹¾å˜æˆäº†æ„¤æ€’çš„ç²‰çº¢è‰²ï¼ğŸ˜¤ å“¼ï¼ä¸€å®šæ˜¯æœ‰äººä¹±ä¸¢åƒåœ¾äº†ï¼',
                    animation: 'shake'
                },
                sad: {
                    color: 'sad',
                    text: 'éš¾è¿‡çš„æ¹¾æ¹¾å˜æˆäº†æ·±æµ·è“... ğŸ˜¢ æ˜¯ä¸æ˜¯çœ‹åˆ°æµ·é‡Œçš„åƒåœ¾å¤ªå¤šäº†å‘¢ï¼Ÿ',
                    animation: 'droop'
                }
            };
            
            // å˜æ¢æƒ…ç»ªå‡½æ•°
            window.changeEmotion = function(emotion) {
                const dolphin = document.getElementById('dolphin');
                const description = document.getElementById('description');
                
                if (!dolphin || !description) return;
                
                // ç§»é™¤æ‰€æœ‰æƒ…ç»ªç±»
                dolphin.className = 'dolphin';
                
                // æ·»åŠ æ–°çš„æƒ…ç»ªé¢œè‰²
                setTimeout(() => {
                    dolphin.classList.add(emotions[emotion].color);
                    description.textContent = emotions[emotion].text;
                    
                    // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                    playEmotionAnimation(emotions[emotion].animation);
                    
                    // åˆ›å»ºé­”æ³•ç²’å­æ•ˆæœ
                    createMagicParticles();
                }, 100);
            };
            
            // æ’­æ”¾æƒ…ç»ªåŠ¨ç”»
            function playEmotionAnimation(animationType) {
                const dolphin = document.getElementById('dolphin');
                if (!dolphin) return;
                
                const currentSwimAnimation = 'swim 4s ease-in-out infinite';
                
                // è·å–å½“å‰å˜æ¢çŠ¶æ€ï¼Œå¹³æ»‘è¿‡æ¸¡
                const currentTransform = window.getComputedStyle(dolphin).transform;
                
                // ä¸´æ—¶åœæ­¢æ¸¸æ³³åŠ¨ç”»ï¼Œä¿æŒå½“å‰ä½ç½®
                dolphin.style.animation = 'none';
                dolphin.style.transform = currentTransform;
                
                // ç¨å¾®å»¶è¿Ÿåå¼€å§‹æ–°åŠ¨ç”»ï¼Œç¡®ä¿å¹³æ»‘è¿‡æ¸¡
                setTimeout(() => {
                    // é‡ç½®å˜æ¢ï¼Œè®©CSSåŠ¨ç”»æ¥ç®¡
                    dolphin.style.transform = '';
                    
                    switch(animationType) {
                        case 'bounce':
                            dolphin.style.animation = currentSwimAnimation + ', bounce 0.5s ease-in-out 3';
                            break;
                        case 'spin':
                            dolphin.style.animation = currentSwimAnimation + ', spin 1s linear 1';
                            break;
                        case 'shake':
                            dolphin.style.animation = currentSwimAnimation + ', shake 0.8s ease-in-out 3';
                            break;
                        case 'droop':
                            dolphin.style.animation = currentSwimAnimation + ', droop 2.5s ease-out 2';
                            break;
                    }
                }, 100);
                
                // æ¢å¤é»˜è®¤æ¸¸æ³³åŠ¨ç”»ï¼Œä½¿ç”¨æ›´é•¿çš„è¿‡æ¸¡æ—¶é—´ç¡®ä¿å¹³æ»‘
                setTimeout(() => {
                    // å…ˆè·å–å½“å‰çŠ¶æ€
                    const finalTransform = window.getComputedStyle(dolphin).transform;
                    dolphin.style.animation = 'none';
                    dolphin.style.transform = finalTransform;
                    
                    // å¹³æ»‘è¿‡æ¸¡å›é»˜è®¤åŠ¨ç”»
                    setTimeout(() => {
                        dolphin.style.transition = 'transform 0.5s ease-out';
                        dolphin.style.transform = '';
                        
                        // æ¢å¤æ¸¸æ³³åŠ¨ç”»
                        setTimeout(() => {
                            dolphin.style.transition = '';
                            dolphin.style.animation = currentSwimAnimation;
                        }, 500);
                    }, 50);
                }, 3000);
            }
            
            // åˆ›å»ºé­”æ³•ç²’å­
            function createMagicParticles() {
                const colors = ['#ff7675', '#74b9ff', '#00b894', '#fdcb6e', '#fd79a8'];
                const dolphinContainer = document.querySelector('.dolphin-container');
                
                if (!dolphinContainer) return;
                
                for(let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'magic-particle';
                        particle.style.cssText = `
                            position: absolute;
                            width: 4px;
                            height: 4px;
                            border-radius: 50%;
                            animation: sparkle 2s ease-out forwards;
                            pointer-events: none;
                            z-index: 100;
                        `;
                        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                        particle.style.left = Math.random() * 160 + 'px';
                        particle.style.top = Math.random() * 80 + 100 + 'px';
                        
                        dolphinContainer.appendChild(particle);
                        
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.remove();
                            }
                        }, 2000);
                    }, i * 200);
                }
            }
            
            // ç‚¹å‡»æµ·è±šéšæœºå˜è‰²
            const dolphin = document.getElementById('dolphin');
            if (dolphin) {
                dolphin.addEventListener('click', () => {
                    const emotionKeys = Object.keys(emotions);
                    const randomEmotion = emotionKeys[Math.floor(Math.random() * emotionKeys.length)];
                    changeEmotion(randomEmotion);
                });
            }
        }

        // ======= ç¯ä¿åˆ†ç±»æ¸¸æˆé€»è¾‘ =======
        let envGameState = {
            score: 0,
            totalAttempts: 0,
            correctAttempts: 0,
            selectedTrash: null,
            totalItems: 12,
            completedItems: 0
        };

        function initEnvironmentGame() {
            // é‡ç½®æ¸¸æˆçŠ¶æ€
            envGameState = {
                score: 0,
                totalAttempts: 0,
                correctAttempts: 0,
                selectedTrash: null,
                totalItems: 12,
                completedItems: 0
            };
            updateEnvScore();
            updateEnvProgress();
        }

        function selectEnvTrash(element) {
            const bins = document.querySelectorAll('#environmentPage .region-btn');
            const gameTitle = document.getElementById('envGameTitle');
            const guideText = document.getElementById('envGuideText');
            
            // å¦‚æœç‚¹å‡»çš„æ˜¯å·²ç»é€‰ä¸­çš„åƒåœ¾ï¼Œå–æ¶ˆé€‰æ‹©
            if (envGameState.selectedTrash === element) {
                element.classList.remove('selected');
                envGameState.selectedTrash = null;
                bins.forEach(bin => bin.classList.remove('highlight'));
                gameTitle.textContent = 'ç‚¹å‡»åƒåœ¾è¿›è¡Œåˆ†ç±»';
                guideText.textContent = 'ä½ å¥½ï¼æˆ‘æ˜¯æ¹¾æ¹¾ğŸ¬ è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ åƒåœ¾åˆ†ç±»ï¼Œä¿æŠ¤ç¾ä¸½çš„æµ·æ´‹å§ï¼';
                return;
            }
            
            // ç§»é™¤æ‰€æœ‰åƒåœ¾çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('#environmentPage .food-item').forEach(t => t.classList.remove('selected'));
            
            // é€‰ä¸­å½“å‰åƒåœ¾
            element.classList.add('selected');
            envGameState.selectedTrash = element;
            
            // é«˜äº®åƒåœ¾æ¡¶
            bins.forEach(bin => bin.classList.add('highlight'));
            
            // æ›´æ–°æŒ‡å¯¼æ–‡æœ¬
            const itemName = element.getAttribute('data-name');
            gameTitle.textContent = `å°†${itemName}æ‹–åˆ°æ­£ç¡®çš„åƒåœ¾æ¡¶`;
            guideText.textContent = `æƒ³æƒ³çœ‹ï¼Œ${itemName}åº”è¯¥æ”¾åœ¨å“ªä¸ªåƒåœ¾æ¡¶é‡Œå‘¢ï¼ŸğŸ¤”`;
        }

        function dropEnvTrash(binType) {
            const bins = document.querySelectorAll('#environmentPage .region-btn');
            const gameTitle = document.getElementById('envGameTitle');
            const guideText = document.getElementById('envGuideText');
            
            if (!envGameState.selectedTrash) {
                showFeedback('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªåƒåœ¾ç‰©å“å“¦ï¼ğŸ¤”', 'incorrect');
                return;
            }

            const selectedType = envGameState.selectedTrash.getAttribute('data-type');
            const itemName = envGameState.selectedTrash.getAttribute('data-name');

            envGameState.totalAttempts++;

            if (selectedType === binType) {
                // æ­£ç¡®åˆ†ç±»
                envGameState.score += 10;
                envGameState.correctAttempts++;
                envGameState.completedItems++;
                
                updateEnvScore();
                showFeedback(`å¤ªæ£’äº†ï¼${itemName}åˆ†ç±»æ­£ç¡®ï¼æ¹¾æ¹¾ä¸ºä½ ç‚¹èµï¼ğŸ¬âœ¨`, 'correct');
                
                // æ¶ˆå¤±åŠ¨ç”»
                envGameState.selectedTrash.style.animation = 'disappear 0.8s ease-in-out forwards';
                
                setTimeout(() => {
                    envGameState.selectedTrash.remove();
                    checkEnvGameComplete();
                }, 800);
                
                // æ›´æ–°æŒ‡å¯¼æ–‡æœ¬
                guideText.textContent = `å¤ªæ£’äº†ï¼${itemName}åˆ†ç±»æ­£ç¡®ï¼ğŸ‰`;
                
            } else {
                // é”™è¯¯åˆ†ç±»
                showFeedback(`${itemName}ä¸åº”è¯¥æ”¾åœ¨è¿™é‡Œå“¦ï¼Œå†æƒ³æƒ³çœ‹ï¼ğŸ¤¨`, 'incorrect');
                envGameState.selectedTrash.style.animation = 'shake 0.6s ease-in-out';
                
                setTimeout(() => {
                    envGameState.selectedTrash.style.animation = '';
                }, 600);
                
                // æ›´æ–°æŒ‡å¯¼æ–‡æœ¬
                guideText.textContent = `${itemName}ä¸åº”è¯¥æ”¾åœ¨è¿™é‡Œå“¦ï¼Œå†æƒ³æƒ³çœ‹ï¼ğŸ¤¨`;
                updateEnvScore();
            }

            // é‡ç½®çŠ¶æ€
            envGameState.selectedTrash.classList.remove('selected');
            envGameState.selectedTrash = null;
            bins.forEach(b => b.classList.remove('highlight'));
            gameTitle.textContent = 'ç‚¹å‡»åƒåœ¾è¿›è¡Œåˆ†ç±»';
            
            // å»¶è¿Ÿæ¢å¤æŒ‡å¯¼æ–‡æœ¬åˆ°é»˜è®¤çŠ¶æ€
            setTimeout(() => {
                if (!envGameState.selectedTrash) {
                    guideText.textContent = 'é€‰æ‹©ä¸€ä¸ªåƒåœ¾ç‰©å“å¼€å§‹åˆ†ç±»å§ï¼ğŸŒŠ';
                }
            }, 2000);
            
            updateEnvProgress();
        }

        function checkEnvGameComplete() {
            if (envGameState.completedItems >= envGameState.totalItems) {
                setTimeout(() => {
                    const accuracy = Math.round((envGameState.correctAttempts / envGameState.totalAttempts) * 100);
                    const guideText = document.getElementById('envGuideText');
                    const gameTitle = document.getElementById('envGameTitle');
                    
                    guideText.textContent = `ğŸ‰ æ­å–œå®Œæˆï¼å¾—åˆ†ï¼š${envGameState.score}ï¼Œæ­£ç¡®ç‡ï¼š${accuracy}%ï¼æ¹¾æ¹¾ä¸ºä½ éª„å‚²ï¼ğŸ¬`;
                    gameTitle.textContent = 'ğŸ† æ¸¸æˆå®Œæˆï¼';
                    
                    createCelebration();
                }, 1000);
            }
        }

        function updateEnvScore() {
            const scoreElement = document.getElementById('envScore');
            const accuracyElement = document.getElementById('envAccuracy');
            
            if (scoreElement) scoreElement.textContent = envGameState.score;
            if (accuracyElement) {
                const accuracy = envGameState.totalAttempts > 0 
                    ? Math.round((envGameState.correctAttempts / envGameState.totalAttempts) * 100) 
                    : 0;
                accuracyElement.textContent = accuracy + '%';
            }
        }

        function updateEnvProgress() {
            const progressBar = document.getElementById('envProgressBar');
            if (progressBar) {
                const progress = (envGameState.completedItems / envGameState.totalItems) * 100;
                progressBar.style.width = progress + '%';
            }
        }

        // ======= æ¹¾åŒºç¾é£Ÿæ¸¸æˆé€»è¾‘ =======
        let foodGameState = {
            mode: 'region',
            score: 0,
            totalAttempts: 0,
            correctAttempts: 0,
            selectedFood: null,
            totalItems: 0,
            completedItems: 0,
            foods: [],
            currentRound: 0
        };

        // ç¾é£Ÿæ•°æ®
        const foodData = {
            region: [
                { name: 'è›‹æŒ', emoji: 'ğŸ¥§', region: 'hongkong', description: 'æ¸¯å¼èŒ¶é¤å…å¿…ç‚¹ç”œå“' },
                { name: 'è èåŒ…', emoji: 'ğŸ', region: 'hongkong', description: 'é¦™æ¸¯ç»å…¸é¢åŒ…' },
                { name: 'å¥¶èŒ¶', emoji: 'ğŸ§‹', region: 'hongkong', description: 'æ¸¯å¼ä¸è¢œå¥¶èŒ¶' },
                { name: 'äº‘åé¢', emoji: 'ğŸœ', region: 'hongkong', description: 'æ¸¯å¼ç»å…¸é¢é£Ÿ' },
                
                { name: 'å‰çƒ§åŒ…', emoji: 'ğŸ¥Ÿ', region: 'guangzhou', description: 'å¹¿å¼ç‚¹å¿ƒä¹‹ç‹' },
                { name: 'è™¾é¥º', emoji: 'ğŸ¥Ÿ', region: 'guangzhou', description: 'å¹¿å¼æ—©èŒ¶ç»å…¸' },
                { name: 'çƒ§é¹…', emoji: 'ğŸ¦†', region: 'guangzhou', description: 'å¹¿å¼çƒ§è…Šä»£è¡¨' },
                { name: 'ç…²ä»”é¥­', emoji: 'ğŸš', region: 'guangzhou', description: 'å¹¿å·ç‰¹è‰²ç±³é¥­' },
                
                { name: 'æ¾³é—¨è›‹æŒ', emoji: 'ğŸ§', region: 'macau', description: 'æ¾³é—¨ç‰¹è‰²ç”œå“' },
                { name: 'çŒªæ‰’åŒ…', emoji: 'ğŸ¥ª', region: 'macau', description: 'æ¾³é—¨è¡—å¤´ç¾é£Ÿ' },
                { name: 'æœ¨ç³ å¸ƒä¸', emoji: 'ğŸ®', region: 'macau', description: 'æ¾³é—¨ç»å…¸ç”œå“' },
                { name: 'è‘¡æŒ', emoji: 'ğŸ¥§', region: 'macau', description: 'æ¾³å¼è‘¡å¼è›‹æŒ' },
                
                { name: 'æ¤°å­é¸¡', emoji: 'ğŸ¥¥', region: 'shenzhen', description: 'æ·±åœ³åˆ›æ–°ç¾é£Ÿ' },
                { name: 'æ½®æ±•ç‰›è‚‰ç«é”…', emoji: 'ğŸ²', region: 'shenzhen', description: 'æ·±åœ³æµè¡Œç«é”…' },
                { name: 'å®¢å®¶ç›ç„—é¸¡', emoji: 'ğŸ”', region: 'shenzhen', description: 'æ·±åœ³å®¢å®¶èœ' },
                { name: 'æµ·é²œç²¥', emoji: 'ğŸ²', region: 'shenzhen', description: 'æ·±åœ³æµ·é²œç‰¹è‰²' }
            ],
            ingredient: [
                { name: 'å‰çƒ§', emoji: 'ğŸ¥“', dish: 'char_siu_bao', description: 'å¹¿å¼å‰çƒ§åŒ…çš„ä¸»æ–™' },
                { name: 'è™¾ä»', emoji: 'ğŸ¦', dish: 'har_gow', description: 'è™¾é¥ºçš„æ ¸å¿ƒé£Ÿæ' },
                { name: 'ç‰›å¥¶', emoji: 'ğŸ¥›', dish: 'milk_tea', description: 'å¥¶èŒ¶çš„é‡è¦æˆåˆ†' },
                { name: 'é¸¡è›‹', emoji: 'ğŸ¥š', dish: 'egg_tart', description: 'è›‹æŒçš„ä¸»è¦åŸæ–™' },
                { name: 'æ¤°å­', emoji: 'ğŸ¥¥', dish: 'coconut_chicken', description: 'æ¤°å­é¸¡çš„ç‰¹è‰²é£Ÿæ' },
                { name: 'çŒªæ’', emoji: 'ğŸ¥©', dish: 'pork_chop_bun', description: 'çŒªæ‰’åŒ…çš„ä¸»è¦é£Ÿæ' }
            ],
            dishes: [
                { id: 'char_siu_bao', name: 'å‰çƒ§åŒ…', emoji: 'ğŸ¥Ÿ' },
                { id: 'har_gow', name: 'è™¾é¥º', emoji: 'ğŸ¥Ÿ' },
                { id: 'milk_tea', name: 'å¥¶èŒ¶', emoji: 'ğŸ§‹' },
                { id: 'egg_tart', name: 'è›‹æŒ', emoji: 'ğŸ¥§' },
                { id: 'coconut_chicken', name: 'æ¤°å­é¸¡', emoji: 'ğŸ¥¥' },
                { id: 'pork_chop_bun', name: 'çŒªæ‰’åŒ…', emoji: 'ğŸ¥ª' }
            ]
        };

        function initFoodGame() {
            foodGameState = {
                mode: 'region',
                score: 0,
                totalAttempts: 0,
                correctAttempts: 0,
                selectedFood: null,
                totalItems: 0,
                completedItems: 0,
                foods: [],
                currentRound: 0
            };
            switchFoodMode('region');
        }

        function switchFoodMode(mode) {
            foodGameState.mode = mode;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('#foodPage .mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`#foodPage [data-mode="${mode}"]`).classList.add('active');
            
            // æ˜¾ç¤ºå¯¹åº”æ¨¡å¼
            document.getElementById('regionMode').style.display = mode === 'region' ? 'block' : 'none';
            document.getElementById('ingredientMode').style.display = mode === 'ingredient' ? 'block' : 'none';
            
            // é‡ç½®æ¸¸æˆçŠ¶æ€
            resetFoodGame();
            
            if (mode === 'region') {
                initFoodRegionMode();
            } else {
                initFoodIngredientMode();
            }
        }

        function resetFoodGame() {
            foodGameState.score = 0;
            foodGameState.totalAttempts = 0;
            foodGameState.correctAttempts = 0;
            foodGameState.selectedFood = null;
            foodGameState.completedItems = 0;
            foodGameState.currentRound = 0;
            updateFoodScore();
            updateFoodProgress();
        }

        function initFoodRegionMode() {
            const container = document.getElementById('foodContainer');
            container.innerHTML = '';
            
            // é€‰æ‹©6ä¸ªéšæœºç¾é£Ÿ
            const shuffledFoods = [...foodData.region].sort(() => Math.random() - 0.5).slice(0, 6);
            foodGameState.foods = shuffledFoods;
            foodGameState.totalItems = shuffledFoods.length;
            
            shuffledFoods.forEach((food, index) => {
                const foodElement = document.createElement('div');
                foodElement.className = 'food-item';
                foodElement.setAttribute('data-region', food.region);
                foodElement.setAttribute('data-index', index);
                foodElement.innerHTML = `
                    <div class="food-emoji">${food.emoji}</div>
                    <div class="food-name">${food.name}</div>
                `;
                foodElement.addEventListener('click', () => selectFoodItem(foodElement));
                container.appendChild(foodElement);
            });
            
            document.getElementById('foodGuideText').textContent = 'é€‰æ‹©ä¸€ä¸ªç¾é£Ÿï¼Œç„¶åç‚¹å‡»ä½ è®¤ä¸ºå®ƒæ¥è‡ªçš„åœ°åŒºï¼';
            document.getElementById('foodGameTitle').textContent = 'é€‰æ‹©ç¾é£Ÿï¼ŒçŒœçŒœå®ƒæ¥è‡ªå“ªä¸ªåœ°åŒºï¼Ÿ';
        }

        function initFoodIngredientMode() {
            const ingredientContainer = document.getElementById('ingredientContainer');
            const dishContainer = document.getElementById('dishContainer');
            
            ingredientContainer.innerHTML = '';
            dishContainer.innerHTML = '';
            
            // é€‰æ‹©6ä¸ªé£Ÿæ
            const shuffledIngredients = [...foodData.ingredient].sort(() => Math.random() - 0.5);
            foodGameState.foods = shuffledIngredients;
            foodGameState.totalItems = shuffledIngredients.length;
            
            shuffledIngredients.forEach((ingredient, index) => {
                const ingredientElement = document.createElement('div');
                ingredientElement.className = 'food-item';
                ingredientElement.setAttribute('data-dish', ingredient.dish);
                ingredientElement.setAttribute('data-index', index);
                ingredientElement.innerHTML = `
                    <div class="food-emoji">${ingredient.emoji}</div>
                    <div class="food-name">${ingredient.name}</div>
                `;
                ingredientElement.addEventListener('click', () => selectFoodItem(ingredientElement));
                ingredientContainer.appendChild(ingredientElement);
            });
            
            // ç”Ÿæˆå¯¹åº”çš„èœå“
            foodData.dishes.forEach(dish => {
                const dishElement = document.createElement('div');
                dishElement.className = 'region-btn';
                dishElement.style.background = 'linear-gradient(135deg, #a29bfe, #6c5ce7)';
                dishElement.setAttribute('data-dish', dish.id);
                dishElement.innerHTML = `
                    <div class="region-emoji">${dish.emoji}</div>
                    <div class="region-name">${dish.name}</div>
                `;
                dishElement.addEventListener('click', () => selectFoodDish(dish.id));
                dishContainer.appendChild(dishElement);
            });
            
            document.getElementById('foodGuideText').textContent = 'é€‰æ‹©ä¸€ä¸ªé£Ÿæï¼Œç„¶åç‚¹å‡»å®ƒå±äºçš„èœå“ï¼';
            document.getElementById('foodGameTitle').textContent = 'å°†é£Ÿæä¸å¯¹åº”çš„èœå“é…å¯¹';
        }

        function selectFoodItem(element) {
            const items = document.querySelectorAll('#foodPage .food-item');
            const buttons = document.querySelectorAll('#foodPage .region-btn');
            const gameTitle = document.getElementById('foodGameTitle');
            const guideText = document.getElementById('foodGuideText');
            
            if (foodGameState.selectedFood === element) {
                element.classList.remove('selected');
                foodGameState.selectedFood = null;
                buttons.forEach(btn => btn.classList.remove('highlight'));
                if (foodGameState.mode === 'region') {
                    gameTitle.textContent = 'é€‰æ‹©ç¾é£Ÿï¼ŒçŒœçŒœå®ƒæ¥è‡ªå“ªä¸ªåœ°åŒºï¼Ÿ';
                    guideText.textContent = 'é€‰æ‹©ä¸€ä¸ªç¾é£Ÿï¼Œç„¶åç‚¹å‡»ä½ è®¤ä¸ºå®ƒæ¥è‡ªçš„åœ°åŒºï¼';
                } else {
                    gameTitle.textContent = 'å°†é£Ÿæä¸å¯¹åº”çš„èœå“é…å¯¹';
                    guideText.textContent = 'é€‰æ‹©ä¸€ä¸ªé£Ÿæï¼Œç„¶åç‚¹å‡»å®ƒå±äºçš„èœå“ï¼';
                }
                return;
            }
            
            items.forEach(f => f.classList.remove('selected'));
            element.classList.add('selected');
            foodGameState.selectedFood = element;
            
            buttons.forEach(btn => btn.classList.add('highlight'));
            
            const foodIndex = parseInt(element.getAttribute('data-index'));
            const itemName = foodGameState.foods[foodIndex].name;
            if (foodGameState.mode === 'region') {
                gameTitle.textContent = `${itemName}æ¥è‡ªå“ªä¸ªåœ°åŒºï¼Ÿ`;
                guideText.textContent = `${itemName}æ˜¯å“ªä¸ªåœ°åŒºçš„ç‰¹è‰²ç¾é£Ÿå‘¢ï¼ŸğŸ¤”`;
            } else {
                gameTitle.textContent = `${itemName}æ˜¯å“ªé“èœçš„é£Ÿæï¼Ÿ`;
                guideText.textContent = `${itemName}é€šå¸¸ç”¨æ¥åˆ¶ä½œå“ªé“èœå‘¢ï¼ŸğŸ¤”`;
            }
        }

        function selectFoodRegion(region) {
            if (!foodGameState.selectedFood) {
                showFeedback('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç¾é£Ÿå“¦ï¼ğŸ¤”', 'incorrect');
                return;
            }

            const correctRegion = foodGameState.selectedFood.getAttribute('data-region');
            const foodIndex = parseInt(foodGameState.selectedFood.getAttribute('data-index'));
            const food = foodGameState.foods[foodIndex];

            foodGameState.totalAttempts++;

            if (region === correctRegion) {
                handleFoodCorrectAnswer(food.name, getRegionName(region));
            } else {
                handleFoodIncorrectAnswer(food.name, getRegionName(region));
            }
        }

        function selectFoodDish(dishId) {
            if (!foodGameState.selectedFood) {
                showFeedback('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé£Ÿæå“¦ï¼ğŸ¤”', 'incorrect');
                return;
            }

            const correctDish = foodGameState.selectedFood.getAttribute('data-dish');
            const foodIndex = parseInt(foodGameState.selectedFood.getAttribute('data-index'));
            const ingredient = foodGameState.foods[foodIndex];

            foodGameState.totalAttempts++;

            const dishName = foodData.dishes.find(d => d.id === dishId)?.name || '';

            if (dishId === correctDish) {
                handleFoodCorrectAnswer(ingredient.name, dishName);
            } else {
                handleFoodIncorrectAnswer(ingredient.name, dishName);
            }
        }

        function handleFoodCorrectAnswer(itemName, targetName) {
            foodGameState.score += 10;
            foodGameState.correctAttempts++;
            foodGameState.completedItems++;
            
            updateFoodScore();
            showFeedback(`å¤ªæ£’äº†ï¼${itemName}ç¡®å®æ¥è‡ª${targetName}ï¼æ¹¾æ¹¾ä¸ºä½ ç‚¹èµï¼ğŸ¬âœ¨`, 'correct');
            
            foodGameState.selectedFood.style.animation = 'disappear 0.8s ease-in-out forwards';
            
            setTimeout(() => {
                foodGameState.selectedFood.remove();
                checkFoodGameComplete();
            }, 800);
            
            document.getElementById('foodGuideText').textContent = `å¤ªæ£’äº†ï¼${itemName}ç¡®å®æ¥è‡ª${targetName}ï¼ğŸ‰`;
            resetFoodSelection();
        }

        function handleFoodIncorrectAnswer(itemName, targetName) {
            showFeedback(`${itemName}ä¸æ˜¯${targetName}çš„ç‰¹è‰²å“¦ï¼Œå†æƒ³æƒ³çœ‹ï¼ğŸ¤¨`, 'incorrect');
            foodGameState.selectedFood.style.animation = 'shake 0.6s ease-in-out';
            
            setTimeout(() => {
                foodGameState.selectedFood.style.animation = '';
            }, 600);
            
            document.getElementById('foodGuideText').textContent = `${itemName}ä¸æ˜¯${targetName}çš„ç‰¹è‰²å“¦ï¼Œå†æƒ³æƒ³çœ‹ï¼ğŸ¤¨`;
            updateFoodScore();
            resetFoodSelection();
        }

        function resetFoodSelection() {
            if (foodGameState.selectedFood) {
                foodGameState.selectedFood.classList.remove('selected');
            }
            foodGameState.selectedFood = null;
            
            document.querySelectorAll('#foodPage .region-btn').forEach(btn => {
                btn.classList.remove('highlight');
            });
            
            if (foodGameState.mode === 'region') {
                document.getElementById('foodGameTitle').textContent = 'é€‰æ‹©ç¾é£Ÿï¼ŒçŒœçŒœå®ƒæ¥è‡ªå“ªä¸ªåœ°åŒºï¼Ÿ';
            } else {
                document.getElementById('foodGameTitle').textContent = 'å°†é£Ÿæä¸å¯¹åº”çš„èœå“é…å¯¹';
            }
            
            setTimeout(() => {
                if (!foodGameState.selectedFood) {
                    if (foodGameState.mode === 'region') {
                        document.getElementById('foodGuideText').textContent = 'é€‰æ‹©ä¸€ä¸ªç¾é£Ÿï¼Œç„¶åç‚¹å‡»ä½ è®¤ä¸ºå®ƒæ¥è‡ªçš„åœ°åŒºï¼';
                    } else {
                        document.getElementById('foodGuideText').textContent = 'é€‰æ‹©ä¸€ä¸ªé£Ÿæï¼Œç„¶åç‚¹å‡»å®ƒå±äºçš„èœå“ï¼';
                    }
                }
            }, 2000);
            
            updateFoodProgress();
        }

        function checkFoodGameComplete() {
            if (foodGameState.completedItems >= foodGameState.totalItems) {
                setTimeout(() => {
                    const accuracy = Math.round((foodGameState.correctAttempts / foodGameState.totalAttempts) * 100);
                    document.getElementById('foodGuideText').textContent = `ğŸ‰ æ­å–œå®Œæˆï¼å¾—åˆ†ï¼š${foodGameState.score}ï¼Œæ­£ç¡®ç‡ï¼š${accuracy}%ï¼æ¹¾æ¹¾ä¸ºä½ çš„ç¾é£ŸçŸ¥è¯†ç‚¹èµï¼ğŸ¬`;
                    document.getElementById('foodGameTitle').textContent = 'ğŸ† æ¸¸æˆå®Œæˆï¼ä½ æ˜¯ç¾é£Ÿä¸“å®¶ï¼';
                    createCelebration();
                }, 1000);
            }
        }

        function updateFoodScore() {
            document.getElementById('foodScore').textContent = foodGameState.score;
            const accuracy = foodGameState.totalAttempts > 0 
                ? Math.round((foodGameState.correctAttempts / foodGameState.totalAttempts) * 100) 
                : 0;
            document.getElementById('foodAccuracy').textContent = accuracy + '%';
        }

        function updateFoodProgress() {
            const progress = (foodGameState.completedItems / foodGameState.totalItems) * 100;
            document.getElementById('foodProgressBar').style.width = progress + '%';
        }

        function getRegionName(region) {
            const names = {
                'hongkong': 'é¦™æ¸¯',
                'guangzhou': 'å¹¿å·',
                'macau': 'æ¾³é—¨',
                'shenzhen': 'æ·±åœ³'
            };
            return names[region] || region;
        }

        // ======= æµ·åº•æœ‹å‹å¡é€»è¾‘ =======
        const friendsData = {
            dolphin: {
                name: 'ä¸­åç™½æµ·è±šï¼ˆæ¹¾æ¹¾ï¼‰',
                emoji: 'ğŸ¬',
                knowledge: {
                    'ğŸ’« è‡ªæˆ‘ä»‹ç»': 'å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¹¾æ¹¾ï¼ä¸­åç™½æµ·è±šï¼Œå›½å®¶ä¸€çº§ä¿æŠ¤åŠ¨ç‰©ã€‚æˆ‘æœ‰ç€ç¾ä¸½çš„ç²‰çº¢è‰²çš®è‚¤ï¼Œæ˜¯ç æ±Ÿå£çš„æ˜æ˜Ÿï¼',
                    'ğŸ¨ å¤–è²Œç‰¹å¾': 'æˆå¹´åæˆ‘ä¼šå˜æˆç²‰çº¢è‰²å“¦ï¼æˆ‘æœ‰é•¿é•¿çš„å–™éƒ¨ï¼Œåœ†æ¶¦çš„é¢éš†ï¼ŒèƒŒé³æ˜¯ä¸‰è§’å½¢çš„ã€‚ä½“é•¿å¯è¾¾3.5ç±³ï¼',
                    'ğŸ  ç”Ÿæ´»ä¹ æ€§': 'æˆ‘å–œæ¬¢åœ¨ç æ±Ÿå£çš„å’¸æ·¡æ°´äº¤æ±‡å¤„æ¸¸æ³³ï¼Œé€šå¸¸å’Œ3-5ä¸ªä¼™ä¼´ä¸€èµ·æ´»åŠ¨ã€‚æˆ‘ä»¬æœ€çˆ±åƒå„ç§å°é±¼å°è™¾ï¼',
                    'âœ¨ æœ‰è¶£äº‹å®': 'æˆ‘ä»¬ä¼šç”¨è¶…å£°æ³¢"èŠå¤©"ï¼Œè¿˜ä¼šè·³å‡ºæ°´é¢è¡¨æ¼”ç©ºä¸­ç¿»è½¬ï¼æˆ‘çš„å£°çº³èƒ½åŠ›æ¯”é›·è¾¾è¿˜å‰å®³å‘¢ï¼',
                    'ğŸ›¡ï¸ ä¿æŠ¤ç°çŠ¶': 'ç°åœ¨æˆ‘ä»¬åªå‰©2000å¤šåªäº†...æµ·æ´‹æ±¡æŸ“å’Œèˆ¹åªå™ªéŸ³è®©æˆ‘ä»¬å¾ˆå›°æ‰°ï¼Œå¸Œæœ›å¤§å®¶èƒ½ä¿æŠ¤æˆ‘ä»¬çš„å®¶å›­ï¼'
                }
            },
            octopus: {
                name: 'ç« é±¼',
                emoji: 'ğŸ™',
                knowledge: {
                    'ğŸ’« è‡ªæˆ‘ä»‹ç»': 'ä½ å¥½ï¼æˆ‘æ˜¯æµ·æ´‹ä¸­çš„é­”æœ¯å¸ˆï¼æœ‰8æ¡çµæ´»çš„è§¦æ‰‹ï¼Œæ¯æ¡è§¦æ‰‹éƒ½æœ‰ç‹¬ç«‹çš„"å¤§è„‘"å‘¢ï½',
                    'ğŸ¨ å¤–è²Œç‰¹å¾': 'æˆ‘æ˜¯è½¯ä½“åŠ¨ç‰©ï¼Œæœ‰8æ¡è§¦æ‰‹ï¼Œçš®è‚¤å¯ä»¥å˜è‰²å˜å½¢çŠ¶ã€‚æˆ‘çš„çœ¼ç›å¾ˆå¤§å¾ˆèªæ˜ï¼Œèƒ½çœ‹æ¸…æµ·åº•çš„ä¸€åˆ‡ï¼',
                    'ğŸ  ç”Ÿæ´»ä¹ æ€§': 'æˆ‘æ˜¯å¤œè¡Œæ€§åŠ¨ç‰©ï¼Œç™½å¤©å–œæ¬¢èº²åœ¨å²©çŸ³ç¼éš™é‡Œä¼‘æ¯ï¼Œæ™šä¸Šå‡ºæ¥ç”¨è§¦æ‰‹æŠ“æ•å°é±¼å°è™¾ã€‚',
                    'âœ¨ æœ‰è¶£äº‹å®': 'æˆ‘æœ‰3é¢—å¿ƒè„ï¼è¿˜èƒ½æ¨¡ä»¿å…¶ä»–æµ·æ´‹ç”Ÿç‰©çš„å¤–è§‚æ¥ä¼ªè£…è‡ªå·±ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿ',
                    'ğŸ›¡ï¸ ä¿æŠ¤ç°çŠ¶': 'æˆ‘å¯¹æµ·æ´‹æ±¡æŸ“å¾ˆæ•æ„Ÿï¼Œéœ€è¦æ¸…æ´çš„æµ·æ°´ç¯å¢ƒæ‰èƒ½å¥åº·ç”Ÿæ´»ã€‚è¯·å¤§å®¶ä¸è¦ä¹±æ‰”åƒåœ¾å“¦ï¼'
                }
            },
            goldfish: {
                name: 'é‡‘é±¼',
                emoji: 'ğŸ ',
                knowledge: {
                    'ğŸ’« è‡ªæˆ‘ä»‹ç»': 'å¤§å®¶å¥½ï¼æˆ‘æ˜¯äººç±»æœ€å–œçˆ±çš„è§‚èµé±¼ä¹‹ä¸€ï¼Œæœ‰ç€é—ªé—ªå‘å…‰çš„é‡‘è‰²é³ç‰‡ï¼',
                    'ğŸ¨ å¤–è²Œç‰¹å¾': 'æˆ‘çš„èº«ä½“å‘ˆé‡‘é»„è‰²æˆ–æ©™çº¢è‰²ï¼Œå°¾é³å¤§è€Œç¾ä¸½ï¼Œåƒæ‰‡å­ä¸€æ ·ã€‚æˆ‘çš„çœ¼ç›åœ†æºœæºœçš„ï¼Œå¾ˆå¯çˆ±å§ï¼',
                    'ğŸ  ç”Ÿæ´»ä¹ æ€§': 'æˆ‘å–œæ¬¢åœ¨æ¸…æ¾ˆçš„æ°´ä¸­æ¸¸æ³³ï¼Œå’Œä¼™ä¼´ä»¬ä¸€èµ·ç¾¤ä½“æ´»åŠ¨ã€‚æˆ‘å¯¹æ°´è´¨è¦æ±‚æ¯”è¾ƒé«˜å“¦ï¼',
                    'âœ¨ æœ‰è¶£äº‹å®': 'å¾ˆå¤šäººè¯´æˆ‘åªæœ‰7ç§’è®°å¿†ï¼Œå…¶å®ä¸å¯¹ï¼æˆ‘çš„è®°å¿†åŠ›å¾ˆå¥½ï¼Œå¯ä»¥è®°ä½3ä¸ªæœˆä»¥ä¸Šçš„äº‹æƒ…å‘¢ï¼',
                    'ğŸ›¡ï¸ ä¿æŠ¤ç°çŠ¶': 'ä½œä¸ºè§‚èµé±¼ï¼Œæˆ‘éœ€è¦è´Ÿè´£ä»»çš„é¥²å…»ã€‚è¯·ä¸è¦éšæ„æŠŠæˆ‘ä»¬æ”¾ç”Ÿåˆ°é‡å¤–ï¼Œè¿™ä¼šç ´åç”Ÿæ€å¹³è¡¡ï¼'
                }
            },
            turtle: {
                name: 'æµ·é¾Ÿ',
                emoji: 'ğŸ¢',
                knowledge: {
                    'ğŸ’« è‡ªæˆ‘ä»‹ç»': 'ä½ å¥½ï¼æˆ‘æ˜¯æµ·æ´‹ä¸­çš„è€å¯¿æ˜Ÿï¼Œå¯ä»¥æ´»100å¤šå²ï¼èƒŒç€åšç¡¬çš„é¾Ÿå£³åœ¨å¤§æµ·ä¸­æ—…è¡Œã€‚',
                    'ğŸ¨ å¤–è²Œç‰¹å¾': 'æˆ‘æœ‰åšç¡¬çš„èƒŒç”²ä¿æŠ¤è‡ªå·±ï¼Œå››è‚¢åƒæ¡¨ä¸€æ ·é€‚åˆæ¸¸æ³³ã€‚æˆ‘çš„å¤´éƒ¨æ— æ³•ç¼©å›å£³å†…å“¦ï¼',
                    'ğŸ  ç”Ÿæ´»ä¹ æ€§': 'æˆ‘åœ¨æµ·æ´‹ä¸­æ¸¸æ³³ï¼Œéœ€è¦å®šæœŸæµ®å‡ºæ°´é¢å‘¼å¸ã€‚æˆ‘å–œæ¬¢åƒæµ·è‰ã€æ°´æ¯å’Œå°é±¼ã€‚',
                    'âœ¨ æœ‰è¶£äº‹å®': 'æˆ‘ä»¬èƒ½é åœ°çƒç£åœºå¯¼èˆªï¼å¯ä»¥åœ¨å¤§æµ·ä¸­èˆªè¡Œæ•°åƒå…¬é‡Œï¼Œå‡†ç¡®å›åˆ°è‡ªå·±çš„å‡ºç”Ÿåœ°äº§åµï¼',
                    'ğŸ›¡ï¸ ä¿æŠ¤ç°çŠ¶': 'å…¨ä¸–ç•Œ7ç§æµ·é¾Ÿéƒ½æ˜¯æ¿’å±ç‰©ç§ï¼Œå¡‘æ–™æ±¡æŸ“æ˜¯æˆ‘ä»¬é¢ä¸´çš„æœ€å¤§å¨èƒã€‚æˆ‘ä»¬ç»å¸¸è¯¯é£Ÿå¡‘æ–™è¢‹...'
                }
            },
            crab: {
                name: 'å¯„å±…èŸ¹',
                emoji: 'ğŸ¦€',
                knowledge: {
                    'ğŸ’« è‡ªæˆ‘ä»‹ç»': 'å—¨ï¼æˆ‘æ˜¯æµ·æ»©ä¸Šçš„"æ¬å®¶ä¸“å®¶"ï¼æ²¡æœ‰åšç¡¬çš„å¤–å£³ï¼Œæ‰€ä»¥éœ€è¦å€Ÿä½è´å£³æˆ¿å­ã€‚',
                    'ğŸ¨ å¤–è²Œç‰¹å¾': 'æˆ‘çš„èº«ä½“æŸ”è½¯ï¼Œæœ‰ä¸€å¯¹å¤§é’³å­ï¼Œè…¹éƒ¨å¼¯æ›²é€‚åˆèº²åœ¨èºå£³é‡Œã€‚æˆ‘ä¼šæ ¹æ®èº«ä½“å¤§å°é€‰æ‹©åˆé€‚çš„å£³ï¼',
                    'ğŸ  ç”Ÿæ´»ä¹ æ€§': 'éšç€èº«ä½“é•¿å¤§ï¼Œæˆ‘éœ€è¦ä¸æ–­æ›´æ¢æ›´å¤§çš„è´å£³ã€‚æˆ‘æ¯”è¾ƒå–œæ¬¢å¤œé—´æ´»åŠ¨ï¼Œç™½å¤©èº²åœ¨æ²™å­é‡Œã€‚',
                    'âœ¨ æœ‰è¶£äº‹å®': 'æˆ‘ä»¬ä¼šæ’é˜Ÿç­‰æˆ¿å­ï¼å½“æœ‰æ–°çš„ç©ºå£³æ—¶ï¼Œä¼šæŒ‰å¤§å°é¡ºåºæ¢æˆ¿å­ï¼Œå°çš„ä½è¿›å¤§çš„ï¼Œå¤§çš„ä½è¿›æ›´å¤§çš„ï¼',
                    'ğŸ›¡ï¸ ä¿æŠ¤ç°çŠ¶': 'æˆ‘æ˜¯æµ·æ»©ç”Ÿæ€ç³»ç»Ÿçš„æ¸…æ´å·¥ï¼Œä½†ç»å¸¸è¢«å¡‘æ–™åƒåœ¾è¯¯å¯¼ï¼ŒæŠŠå¡‘æ–™å½“æˆæ–°æˆ¿å­ï¼Œå¾ˆå±é™©ï¼'
                }
            }
        };

        function initFriendsGame() {
            // åˆå§‹åŒ–åŠ¨ç”»å’Œé—ªå…‰æ•ˆæœ
            setTimeout(() => {
                createFriendsSparkles();
            }, 1000);
        }

        function createFriendsSparkles() {
            const sparklePositions = [
                { x: '20%', y: '30%' },
                { x: '70%', y: '50%' },
                { x: '40%', y: '70%' },
                { x: '80%', y: '20%' },
                { x: '15%', y: '80%' }
            ];
            
            sparklePositions.forEach((pos, index) => {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = pos.x;
                    sparkle.style.top = pos.y;
                    sparkle.style.animationDelay = Math.random() * 3 + 's';
                    
                    document.querySelector('#friendsPage .ocean-scene').appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 3000);
                }, index * 500);
            });
        }

        function showFriendInfo(friendId) {
            const friend = friendsData[friendId];
            const friendElement = document.querySelector(`#friendsPage [data-friend="${friendId}"]`);
            
            // æ·»åŠ ç‚¹å‡»åŠ¨ç”»
            friendElement.classList.add('clicked');
            setTimeout(() => {
                friendElement.classList.remove('clicked');
            }, 800);
            
            // æ›´æ–°çŸ¥è¯†é¢æ¿
            document.getElementById('friendEmoji').textContent = friend.emoji;
            document.getElementById('friendName').textContent = friend.name;
            
            // ç”ŸæˆçŸ¥è¯†å†…å®¹
            const knowledgeContent = document.getElementById('knowledgeContent');
            knowledgeContent.innerHTML = '';
            
            Object.entries(friend.knowledge).forEach(([label, text]) => {
                const item = document.createElement('div');
                item.className = 'knowledge-item';
                item.innerHTML = `
                    <div class="knowledge-label">${label}</div>
                    <div class="knowledge-text">${text}</div>
                `;
                knowledgeContent.appendChild(item);
            });
            
            // æ˜¾ç¤ºçŸ¥è¯†é¢æ¿
            document.getElementById('knowledgePanel').classList.add('show');
            
            // æ›´æ–°æ¹¾æ¹¾çš„æŒ‡å¯¼æ–‡æœ¬
            const greetings = [
                `è®©æˆ‘ä¸ºä½ ä»‹ç»${friend.name}ï¼ğŸ¬`,
                `${friend.name}æ˜¯æˆ‘çš„å¥½æœ‹å‹å‘¢ï¼âœ¨`,
                `å¿«æ¥äº†è§£${friend.name}çš„æ•…äº‹å§ï¼ğŸ’™`,
                `${friend.name}å¾ˆé«˜å…´è®¤è¯†ä½ ï¼ğŸŒŠ`
            ];
            const greeting = greetings[Math.floor(Math.random() * greetings.length)];
            document.getElementById('friendsGuideText').textContent = greeting;
            
            // åˆ›å»ºç‰¹æ®Šæ•ˆæœ
            createClickEffect(friendElement);
        }

        function createClickEffect(element) {
            const colors = ['#74b9ff', '#00b894', '#fdcb6e', '#fd79a8', '#e17055'];
            const rect = element.getBoundingClientRect();
            
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'click-particle';
                    particle.style.cssText = `
                        position: fixed;
                        width: 6px;
                        height: 6px;
                        background: ${colors[Math.floor(Math.random() * colors.length)]};
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 1000;
                        left: ${rect.left + rect.width/2}px;
                        top: ${rect.top + rect.height/2}px;
                        animation: particle-burst 1.5s ease-out forwards;
                    `;
                    
                    const angle = (i / 8) * Math.PI * 2;
                    const distance = 30 + Math.random() * 20;
                    particle.style.setProperty('--end-x', Math.cos(angle) * distance + 'px');
                    particle.style.setProperty('--end-y', Math.sin(angle) * distance + 'px');
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 1500);
                }, i * 50);
            }
        }

        function closeKnowledgePanel() {
            document.getElementById('knowledgePanel').classList.remove('show');
            document.getElementById('friendsGuideText').textContent = 'æ¬¢è¿æ¥åˆ°æˆ‘çš„æµ·åº•ä¸–ç•Œï¼ğŸ¬ ç‚¹å‡»æˆ‘çš„æœ‹å‹ä»¬äº†è§£å®ƒä»¬çš„æ•…äº‹å§ï¼';
        }

        // ======= å…±ç”Ÿäº’åŠ¨å¡é€»è¾‘ =======
        let harmonyGameStates = {
            butterfly: { caught: 0, target: 5, completed: false },
            food: { tasted: [], target: 6, completed: false },
            tea: { picked: 0, target: 10, completed: false },
            ocean: { observed: [], target: 5, completed: false },
            mountain: { clicks: 0, target: 20, completed: false },
            temple: { bells: 0, target: 4, completed: false }
        };

        function initHarmonyGames() {
            // é‡ç½®æ¸¸æˆçŠ¶æ€
            harmonyGameStates = {
                butterfly: { caught: 0, target: 5, completed: false },
                food: { tasted: [], target: 6, completed: false },
                tea: { picked: 0, target: 10, completed: false },
                ocean: { observed: [], target: 5, completed: false },
                mountain: { clicks: 0, target: 20, completed: false },
                temple: { bells: 0, target: 4, completed: false }
            };
            updateHarmonyScore();
        }

        // è´è¶æ¸¸æˆ
        function catchButterfly(element) {
            if (!harmonyGameStates.butterfly.completed) {
                element.style.opacity = '0.3';
                element.style.pointerEvents = 'none';
                harmonyGameStates.butterfly.caught++;
                updateHarmonyProgress('butterfly-progress', harmonyGameStates.butterfly.caught, harmonyGameStates.butterfly.target);
                
                if (harmonyGameStates.butterfly.caught >= harmonyGameStates.butterfly.target) {
                    completeHarmonyGame('butterfly', 'ç”Ÿæ€ä¿æŠ¤è€…');
                }
            }
        }

        // å¤œå¸‚ç¾é£Ÿæ¸¸æˆ
        function tasteFood(element) {
            if (!harmonyGameStates.food.completed && !harmonyGameStates.food.tasted.includes(element.dataset.food)) {
                element.style.opacity = '0.5';
                element.style.pointerEvents = 'none';
                harmonyGameStates.food.tasted.push(element.dataset.food);
                updateHarmonyProgress('food-progress', harmonyGameStates.food.tasted.length, harmonyGameStates.food.target);
                
                if (harmonyGameStates.food.tasted.length >= harmonyGameStates.food.target) {
                    completeHarmonyGame('food', 'ç¾é£Ÿè¾¾äºº');
                }
            }
        }

        // èŒ¶å¶é‡‡æ‘˜æ¸¸æˆ
        function pickTea(element) {
            if (!harmonyGameStates.tea.completed && element.style.opacity !== '0.3') {
                element.style.opacity = '0.3';
                element.style.transform = 'rotate(45deg) scale(1.2)';
                harmonyGameStates.tea.picked++;
                updateHarmonyProgress('tea-progress', harmonyGameStates.tea.picked, harmonyGameStates.tea.target);
                
                if (harmonyGameStates.tea.picked >= harmonyGameStates.tea.target) {
                    completeHarmonyGame('tea', 'èŒ¶è‰ºå¸ˆ');
                }
            }
        }

        // æµ·æ´‹è§‚å¯Ÿæ¸¸æˆ
        function observeFish(element) {
            if (!harmonyGameStates.ocean.completed && !harmonyGameStates.ocean.observed.includes(element.textContent)) {
                element.style.opacity = '0.5';
                harmonyGameStates.ocean.observed.push(element.textContent);
                updateHarmonyProgress('ocean-progress', harmonyGameStates.ocean.observed.length, harmonyGameStates.ocean.target);
                
                if (harmonyGameStates.ocean.observed.length >= harmonyGameStates.ocean.target) {
                    completeHarmonyGame('ocean', 'æµ·æ´‹å®ˆæŠ¤è€…');
                }
            }
        }

        // ç™»å±±æ¸¸æˆ
        function climbMountain() {
            if (!harmonyGameStates.mountain.completed) {
                harmonyGameStates.mountain.clicks++;
                const climber = document.getElementById('climber');
                const progress = Math.min(harmonyGameStates.mountain.clicks / harmonyGameStates.mountain.target, 1);
                climber.style.left = (10 + progress * 80) + '%';
                climber.style.bottom = (10 + progress * 60) + 'px';
                
                updateHarmonyProgress('mountain-progress', harmonyGameStates.mountain.clicks, harmonyGameStates.mountain.target);
                
                if (harmonyGameStates.mountain.clicks >= harmonyGameStates.mountain.target) {
                    completeHarmonyGame('mountain', 'ç™»å³°é€ æè€…');
                }
            }
        }

        // å¯ºåº™é’Ÿå£°æ¸¸æˆ
        function ringBell(element) {
            if (!harmonyGameStates.temple.completed) {
                const bellNum = parseInt(element.dataset.bell);
                if (bellNum === harmonyGameStates.temple.bells + 1) {
                    element.style.background = '#32cd32';
                    harmonyGameStates.temple.bells++;
                    updateHarmonyProgress('temple-progress', harmonyGameStates.temple.bells, harmonyGameStates.temple.target);
                    
                    if (harmonyGameStates.temple.bells >= harmonyGameStates.temple.target) {
                        completeHarmonyGame('temple', 'æ–‡åŒ–ä¼ æ‰¿è€…');
                    }
                }
            }
        }

        function updateHarmonyProgress(progressId, current, target) {
            const percentage = (current / target) * 100;
            document.getElementById(progressId).style.width = percentage + '%';
        }

        function completeHarmonyGame(gameType, title) {
            harmonyGameStates[gameType].completed = true;
            const btn = document.getElementById(gameType + '-btn');
            btn.disabled = false;
            btn.textContent = `âœ… è·å¾—ç§°å·: ${title}`;
            btn.style.background = '#4caf50';
            
            updateHarmonyScore();
            showHarmonyCongratulations(title);
        }

        function updateHarmonyScore() {
            const completed = Object.values(harmonyGameStates).filter(state => state.completed).length;
            document.getElementById('harmonyScore').textContent = completed * 100;
            document.getElementById('harmonyCompleted').textContent = completed;
        }

        function showHarmonyCongratulations(title) {
            const congratsDiv = document.createElement('div');
            congratsDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
                color: white;
                padding: 20px 40px;
                border-radius: 15px;
                font-size: 1.2em;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 1000;
                text-align: center;
            `;
            congratsDiv.innerHTML = `
                <div>ğŸ‰ æ­å–œè·å¾—ç§°å·</div>
                <div style="font-weight: bold; margin-top: 10px;">${title}</div>
            `;
            
            document.body.appendChild(congratsDiv);
            
            setTimeout(() => {
                congratsDiv.remove();
            }, 3000);
        }

        function resetAllHarmonyGames() {
            // é‡ç½®æ¸¸æˆçŠ¶æ€
            harmonyGameStates = {
                butterfly: { caught: 0, target: 5, completed: false },
                food: { tasted: [], target: 6, completed: false },
                tea: { picked: 0, target: 10, completed: false },
                ocean: { observed: [], target: 5, completed: false },
                mountain: { clicks: 0, target: 20, completed: false },
                temple: { bells: 0, target: 4, completed: false }
            };

            // é‡ç½®UIå…ƒç´ 
            document.querySelectorAll('#harmonyPage .butterfly').forEach(b => {
                b.style.opacity = '1';
                b.style.pointerEvents = 'auto';
            });

            document.querySelectorAll('#harmonyPage .food-item').forEach(f => {
                f.style.opacity = '1';
                f.style.pointerEvents = 'auto';
            });

            document.querySelectorAll('#harmonyPage .tea-leaf').forEach(t => {
                t.style.opacity = '1';
                t.style.transform = '';
            });

            document.querySelectorAll('#harmonyPage .fish').forEach(f => {
                f.style.opacity = '1';
            });

            document.getElementById('climber').style.left = '10px';
            document.getElementById('climber').style.bottom = '10px';

            document.querySelectorAll('#harmonyPage .bell').forEach(b => {
                b.style.background = '#ffd700';
            });

            // é‡ç½®è¿›åº¦æ¡å’ŒæŒ‰é’®
            document.querySelectorAll('#harmonyPage .harmony-progress-fill').forEach(p => p.style.width = '0%');
            document.querySelectorAll('#harmonyPage .harmony-card-action').forEach(btn => {
                btn.disabled = true;
                btn.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                if (btn.id.includes('butterfly')) btn.textContent = 'å®Œæˆç”Ÿæ€ä¿æŠ¤ä»»åŠ¡';
                else if (btn.id.includes('food')) btn.textContent = 'å®Œæˆç¾é£Ÿæ–‡åŒ–ä½“éªŒ';
                else if (btn.id.includes('tea')) btn.textContent = 'å®ŒæˆèŒ¶æ–‡åŒ–ä½“éªŒ';
                else if (btn.id.includes('ocean')) btn.textContent = 'å®Œæˆæµ·æ´‹ä¿æŠ¤ä»»åŠ¡';
                else if (btn.id.includes('mountain')) btn.textContent = 'å®Œæˆç™»å±±æŒ‘æˆ˜';
                else if (btn.id.includes('temple')) btn.textContent = 'å®Œæˆç¥ˆç¦ä»ªå¼';
            });

            updateHarmonyScore();
        }

        // ======= é€šç”¨åŠŸèƒ½ =======
        // æ˜¾ç¤ºåé¦ˆæ¶ˆæ¯
        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            if (feedback) {
                feedback.textContent = message;
                feedback.className = `feedback show ${type}`;
                
                setTimeout(() => {
                    feedback.classList.remove('show');
                }, 3000);
            }
        }

        // åˆ›å»ºåº†ç¥æ•ˆæœ
        function createCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            document.body.appendChild(celebration);

            const colors = ['#fdcb6e', '#e17055', '#00b894', '#74b9ff', '#fd79a8'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    celebration.appendChild(confetti);
                }, i * 100);
            }

            setTimeout(() => {
                celebration.remove();
            }, 6000);
        }

        // æ·»åŠ åŠ¨ç”»æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
            @keyframes flutter {
                0%, 100% { transform: translateY(0px) rotate(0deg); }
                25% { transform: translateY(-10px) rotate(5deg); }
                50% { transform: translateY(-5px) rotate(-5deg); }
                75% { transform: translateY(-15px) rotate(3deg); }
            }
            
            @keyframes swim {
                0% { transform: translateX(-20px); }
                100% { transform: translateX(300px); }
            }
            
            @keyframes tentacle-wave {
                0%, 100% { transform: rotate(0deg) translateY(0px); }
                50% { transform: rotate(10deg) translateY(-5px); }
            }
            
            @keyframes fish-tail-wave {
                0%, 100% { transform: rotate(0deg); }
                50% { transform: rotate(15deg); }
            }
            
            @keyframes scale-shine {
                0%, 100% { opacity: 0.3; }
                50% { opacity: 0.8; }
            }
            
            @keyframes turtle-head-move {
                0%, 100% { transform: translateX(-50%) translateY(0px); }
                50% { transform: translateX(-50%) translateY(-3px) rotate(3deg); }
            }
            
            @keyframes turtle-neck-move {
                0%, 100% { transform: translateX(-50%) translateY(0px); }
                50% { transform: translateX(-50%) translateY(-2px); }
            }
            
            @keyframes crab-leg-move {
                0%, 100% { transform-origin: top center; }
                50% { transform: translateY(-2px) scale(1.03); }
            }
            
            @keyframes crab-eye-sway {
                0%, 100% { transform: translateX(0px) rotate(0deg); }
                50% { transform: translateX(2px) rotate(5deg); }
            }
            
            @keyframes decoration-sway {
                0%, 100% { transform: translateX(0px) rotate(0deg); }
                50% { transform: translateX(10px) rotate(3deg); }
            }
            
            @keyframes particle-burst {
                0% {
                    transform: translate(0, 0) scale(1);
                    opacity: 1;
                }
                100% {
                    transform: translate(var(--end-x), var(--end-y)) scale(0);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŠ¨ç”»
        window.addEventListener('load', () => {
            setTimeout(() => {
                createSparkles();
            }, 1000);
        });

        // æ·»åŠ é”®ç›˜äº¤äº’
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                playWelcomeAnimation();
            }
        });
    </script>
</body>
</html>
